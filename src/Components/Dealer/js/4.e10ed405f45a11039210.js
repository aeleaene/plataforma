webpackJsonp([4],{A6oP:function(e,t,l){"use strict";l.d(t,"e",function(){return a}),l.d(t,"c",function(){return i}),l.d(t,"a",function(){return n}),l.d(t,"d",function(){return s}),l.d(t,"b",function(){return o});var a=[{value:-720,label:"UTC-12:00"},{value:-660,label:"UTC-11:00"},{value:-600,label:"UTC-10:00"},{value:-570,label:"UTC-09:30"},{value:-540,label:"UTC-09:00"},{value:-480,label:"UTC-08:00"},{value:-420,label:"UTC-07:00"},{value:-360,label:"UTC-06:00"},{value:-300,label:"UTC-05:00"},{value:-270,label:"UTC-04:30"},{value:-240,label:"UTC-04:00"},{value:-210,label:"UTC-03:30"},{value:-180,label:"UTC-03:00"},{value:-120,label:"UTC-02:00"},{value:-60,label:"UTC-01:00"},{value:0,label:"UTC+00:00"},{value:60,label:"UTC+01:00"},{value:120,label:"UTC+02:00"},{value:180,label:"UTC+03:00"},{value:210,label:"UTC+03:30"},{value:240,label:"UTC+04:00"},{value:270,label:"UTC+04:30"},{value:300,label:"UTC+05:00"},{value:330,label:"UTC+05:30"},{value:345,label:"UTC+05:45"},{value:360,label:"UTC+06:00"},{value:390,label:"UTC+06:30"},{value:420,label:"UTC+07:00"},{value:480,label:"UTC+08:00"},{value:510,label:"UTC+08:30"},{value:525,label:"UTC+08:45"},{value:540,label:"UTC+09:00"},{value:570,label:"UTC+09:30"},{value:600,label:"UTC+10:00"},{value:630,label:"UTC+10:30"},{value:660,label:"UTC+11:00"},{value:720,label:"UTC+12:00"},{value:765,label:"UTC+12:45"},{value:780,label:"UTC+13:00"},{value:840,label:"UTC+14:00"}],i=(lg.km,lg.mile,["",lg.kPerH,lg.milePerH]),n=(lg.psiUnit,lg.barUnit,lg.kpaUnit,["",lg.fuelUnit,lg.usGalUnit,lg.ukGalUnit]),s=["",lg.celsiusUnit,lg.fahrenheitUnit],o=["",lg["100fuelUnit"],lg.usGalEfficiencyUnit,lg.ukGalEfficiencyUnit]},DFbo:function(e,t){},PSis:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("gyMJ"),i=l("A6oP"),n={props:["customerType"],data:function(){return{isSelf:!0,customerid:"",activeName:"preference",dialogVisible:!1,timezoneArr:i.e,firstdayofweekArr:[{value:1,label:lg.monday},{value:7,label:lg.sunday}],btnloading:!1,formData:{distance:1,pressure:1,temperature:1,capacity:1,fuelefficiency:1,accidle:0,cmdneeddydpwd:0,enableimeilogin:0},scene:"",methodGet:a._61,methodSave:a._163,loading:!1}},components:{notifySettingComp:function(){return l.e(127).then(l.bind(null,"K1Fb")).catch()},permissionRuleComp:function(){return l.e(103).then(l.bind(null,"SdrY")).catch()},settingComp:function(){return new Promise(function(e){e()}).then(l.bind(null,"PSis")).catch()}},computed:{auth:function(){return this.$store.state.auth},auth_function:function(){return this.$store.state.functions||{}},isSetTemplate:function(){return"setTemplate"==this.scene},title:function(){return this.isSetTemplate?lg.setTemplate:this.isSelf?lg.preference:lg.setting},showTemplateSettings:function(){return!this.isSetTemplate||this.formData.asdefault}},methods:{setVisible:function(e){this.dialogVisible=e},setScene:function(e){this.scene=e,this.isSetTemplate?(this.methodGet=a._144,this.methodSave=a._145):(this.methodGet=a._61,this.methodSave=a._163)},getData:function(e,t,l){var a=this;if(this.customerid=e,this.isSelf=t||this.customerid==this.$store.state.customerInfo.id,this.setScene(l),this.loading=!0,t&&"setTemplate"!=l)this.$store.dispatch("getUnitAjax").then(function(e){a.loading=!1,a.formData=e}).catch(function(e){a.loading=!1});else{if("3"==this.customerType)return this.showAppNotify();this.methodGet({customerid:e}).then(function(e){a.loading=!1,a.formData=e.record}).catch(function(){a.btnloading=!1})}"appNotify"==this.activeName&&this.showAppNotify()},onSubmit:function(){var e=this;this.btnloading=!0,this.isSelf||(this.formData.customerid=this.customerid),this.methodSave(this.formData).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.isSelf&&e.$store.dispatch("setUnit",e.formData),e.setVisible(!1)}).catch(function(){e.btnloading=!1}),this.isSetTemplate?this.countEvent({action:"新客模板-偏好设置",opt_label:"点击",val:"Dealer2"}):this.countEvent({action:"偏好设置",opt_label:"点击",val:"Dealer2"})},cancelFn:function(){this.setVisible(!1)},dialogCloseFn:function(){},handleClick:function(e){"appNotify"==e.name&&this.showAppNotify(),"permissionRule"==e.name&&this.showRule()},showAppNotify:function(){var e=this;this.findObj("notifySettingComp",this.$refs,function(){e.$refs.notifySettingComp.getInfo(e.customerid,e.scene)})},showRule:function(){var e=this;this.findObj("permissionRuleComp",this.$refs,function(){e.$refs.permissionRuleComp.getList()})},showSetTemplate:function(){var e=this.customerid;this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(e,null,"setTemplate")}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.formData=t}).catch(function(e){})}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"perference-dialog",attrs:{title:e.title,visible:e.dialogVisible,modal:!0,"append-to-body":!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},["3"!=e.customerType?[l("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:e.lg.preference,name:"preference"}},[l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[l("el-form",{ref:"formComp",attrs:{"label-position":"top",model:e.formData},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[l("div",[l("div",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateSettings,expression:"showTemplateSettings"}]},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.distanceMetrics,prop:"distance"}},[l("el-select",{model:{value:e.formData.distance,callback:function(t){e.$set(e.formData,"distance",t)},expression:"formData.distance"}},[l("el-option",{attrs:{label:e.lg.kilometre,value:1}}),e._v(" "),l("el-option",{attrs:{label:e.lg.mile,value:2}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.pressureMetrics,prop:"pressure"}},[l("el-select",{model:{value:e.formData.pressure,callback:function(t){e.$set(e.formData,"pressure",t)},expression:"formData.pressure"}},[l("el-option",{attrs:{label:e.lg.psi+"("+e.lg.psiUnit+")",value:1}}),e._v(" "),l("el-option",{attrs:{label:e.lg.bar+"("+e.lg.barUnit+")",value:2}}),e._v(" "),l("el-option",{attrs:{label:e.lg.KPa+"("+e.lg.kpaUnit+")",value:3}})],1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.temperatureMetrics,prop:"temperature"}},[l("el-select",{model:{value:e.formData.temperature,callback:function(t){e.$set(e.formData,"temperature",t)},expression:"formData.temperature"}},[l("el-option",{attrs:{label:e.lg.celsius+"("+e.lg.celsiusUnit+")",value:1}}),e._v(" "),l("el-option",{attrs:{label:e.lg.fahrenheit+"("+e.lg.fahrenheitUnit+")",value:2}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.volumeMetrics,prop:"capacity"}},[l("el-select",{model:{value:e.formData.capacity,callback:function(t){e.$set(e.formData,"capacity",t)},expression:"formData.capacity"}},[l("el-option",{attrs:{label:e.lg.Litres+"("+e.lg.fuelUnit+")",value:1}}),e._v(" "),l("el-option",{attrs:{label:e.lg.usGallons,value:2}}),e._v(" "),l("el-option",{attrs:{label:e.lg.ukGallons,value:3}})],1)],1)],1)],1),e._v(" "),l("el-row",{staticClass:"row-line"},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.fuelEfficiencyMetrics,prop:"fuelefficiency"}},[l("el-select",{model:{value:e.formData.fuelefficiency,callback:function(t){e.$set(e.formData,"fuelefficiency",t)},expression:"formData.fuelefficiency"}},[l("el-option",{attrs:{label:e.lg["100fuelUnit"],value:1}}),e._v(" "),l("el-option",{attrs:{label:e.lg.usGalEfficiencyUnit,value:2}}),e._v(" "),l("el-option",{attrs:{label:e.lg.ukGalEfficiencyUnit,value:3}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}})],1),e._v(" "),l("el-row",{staticClass:"row-line"},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.timeZone,prop:"timezone"}},[l("el-select",{attrs:{disabled:e.isSetTemplate},model:{value:e.formData.timezone,callback:function(t){e.$set(e.formData,"timezone",t)},expression:"formData.timezone"}},e._l(e.timezoneArr,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:e.lg.firstDayOfWeek,prop:"firstdayofweek"}},[l("el-select",{model:{value:e.formData.firstdayofweek,callback:function(t){e.$set(e.formData,"firstdayofweek",t)},expression:"formData.firstdayofweek"}},e._l(e.firstdayofweekArr,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"accidle"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.lg.accIdleAlarm)+"\n                  "),l("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[l("i",{staticClass:"el-icon-info"}),e._v(" "),l("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetIdle)},slot:"content"})]),e._v(" "),l("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[l("i",{staticClass:"el-icon-info protrack"}),e._v(" "),l("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                      一"),l("br"),e._v("此处为Monitor/Track页面中的Engine IDLE状态(橙色车辆图标)显示。"),l("br"),e._v("\n                      (此处非报警设置。报警设置请到设备报警设置中)"),l("br"),l("br"),e._v("\n\n                      二"),l("br"),e._v("问：EngineIDLE的状态，报警，报表三者之间的关系？"),l("br"),e._v("\n                      答：三者之间没有关系。(开启与否各不关联)"),l("br"),l("br"),e._v("\n\n                      三"),l("br"),e._v("EngineIDLE 状态需满足的条件："),l("br"),e._v("\n                      1. 偏好设置里面，开启Engine IDLE显示(默认是关闭显示)"),l("br"),e._v("\n                      Settings -> Preferences --\x3eEngine IDLE --\x3e（开启）"),l("br"),e._v("\n                      2. 触发Engine IDLE的条件："),l("br"),e._v("\n                      设备ACC ON，且静止则进入Engine IDLE状态。"),l("br"),e._v("\n                      静止定义：速度小于5km/s 或者35秒以上没有发送GPS数据则认为静止；"),l("br"),e._v("\n                      3. 另：超过6分钟的Engine IDLE 系统会记录下来（即使EngineIDLE状态是关闭的），"),l("br"),e._v("\n                      可以在Engine idle report查询。\n                    ")])])],1),e._v(" "),l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.accidle,callback:function(t){e.$set(e.formData,"accidle",t)},expression:"formData.accidle"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"accidle"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.lg.cmdneeddydpwd)+"\n                  "),l("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[l("i",{staticClass:"el-icon-info"}),e._v(" "),l("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetCmdPwd)},slot:"content"})])],1),e._v(" "),l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.cmdneeddydpwd,callback:function(t){e.$set(e.formData,"cmdneeddydpwd",t)},expression:"formData.cmdneeddydpwd"}})],1)],1)],1),e._v(" "),l("el-row",{class:e.isSetTemplate?"row-line":""},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"accidle"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.lg.enableImeiLogin)+"\n                    "),l("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[l("i",{staticClass:"el-icon-info"}),e._v(" "),l("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetImeiLogin)},slot:"content"})])],1),e._v(" "),l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.enableimeilogin,callback:function(t){e.$set(e.formData,"enableimeilogin",t)},expression:"formData.enableimeilogin"}})],1)],1)],1)],1),e._v(" "),e.isSelf&&e.isSetTemplate?[l("el-form-item",{attrs:{prop:"accidle"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                "+e._s(e.lg.preference)+": "+e._s(e.lg.asDefaultSetting)+"\n                "),e.lg.asDefaultSettingTips?l("el-tooltip",{staticClass:"item",attrs:{"popper-class":"el-txt-tips",effect:"dark",placement:"top"}},[l("div",{staticStyle:{"max-width":"280px","line-height":"21px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.lg.asDefaultSettingTips))]),e._v(" "),l("span",{staticClass:"email-help el-icon-info"})]):e._e()],1),e._v(" "),l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.asdefault,callback:function(t){e.$set(e.formData,"asdefault",t)},expression:"formData.asdefault"}})],1)]:e._e()],2),e._v(" "),l("div",{staticClass:"tools tr mb20"},[l("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]),e._v(" "),l("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))])],1)]),e._v(" "),e.isSetTemplate?e._e():l("div",{staticClass:"more tl",staticStyle:{"border-top":"1px solid #ddd",padding:"20px 0 0"}},[e._v("\n        "+e._s(e.lg.more)+":\n        "),l("div",{staticClass:"wrap-set-template"},[l("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.setTemplateTips,align:"rightBottom"},expression:"{txt:lg.setTemplateTips,align:'rightBottom'}"}],staticClass:"set-template",attrs:{href:"javascript://"},on:{click:e.showSetTemplate}},[l("i",{staticClass:"option-btn base-icon set-icon"}),e._v(" "+e._s(e.lg.setTemplate)+"\n          ")]),e._v(" "),l("span",{staticStyle:{color:"#aaa"}},[e._v("("+e._s(e.lg.setTemplateTips)+")")]),e._v(" "),l("settingComp",{ref:"settingComp",attrs:{sence:"setTemplate"}})],1)])],1)]),e._v(" "),l("el-tab-pane",{attrs:{label:e.lg.appNotify,name:"appNotify"}},[l("notifySettingComp",{ref:"notifySettingComp",on:{onCancel:e.cancelFn}})],1),e._v(" "),e.isSetTemplate&&e.auth_function.permissionruleuse?l("el-tab-pane",{attrs:{label:e.lg.permissionRule,name:"permissionRule"}},[l("permissionRuleComp",{ref:"permissionRuleComp",on:{onCancel:e.cancelFn}})],1):e._e()],1)]:[l("notifySettingComp",{ref:"notifySettingComp",on:{onCancel:e.cancelFn}})]],2)},staticRenderFns:[]};var o=l("VU/8")(n,s,!1,function(e){l("DFbo")},null,null);t.default=o.exports}});