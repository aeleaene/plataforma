webpackJsonp([91,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,74,77,78,80,81,82,83,84,85,86,87,88,89,90,96,98,99,100,101,102,103,104,105,106,108,109,110,111,112,116,117,124,125,126,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,147,148,149,150,151,152,153,154],{"+76y":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{isCustomer:!1,records:[]}},methods:{fmtTime:function(e){return e?this.utcToLocal(e).split(" ")[0].replace(/\-/g,"/"):"-"},fmtCurrencytype:function(e){return"$"},couponClassName:function(e){return"item-coupon item-coupon-"+(1==e?"enable":"disabled")},couponStatusTxt:function(e){var t=lg.statusNew;return 2==e?t=lg.used:3==e&&(t=lg.expired),t},setData:function(e,t){this.records=e,this.isCustomer=t}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-scrollbar",{staticClass:"com-coupon"},[e._l(e.records,function(t){return i("div",{key:t.serialnumber,class:e.couponClassName(t.couponstatus)},[i("div",{staticClass:"bd"},[i("table",[i("tr",[i("td",{staticClass:"col-1"},[i("H3",[e._v(e._s(t.couponvalue))])],1),e._v(" "),i("td",{staticClass:"col-2"},[i("ins",{staticClass:"name"},[e._v(e._s(t.couponname))]),e._v(" "),i("div",{staticClass:"info"},[i("span",[e._v(e._s(t.description))])]),e._v(" "),i("div",{staticClass:"time"},[1==t.couponstatus?[e._v(e._s(e.fmtTime(t.fromtime))+" - "+e._s(e.fmtTime(t.expirationtime)))]:e._e(),e._v(" "),2==t.couponstatus?[e._v(e._s(e.fmtTime(t.usetime))+" "+e._s(e.lg.used))]:e._e(),e._v(" "),3==t.couponstatus?[e._v(e._s(e.fmtTime(t.expirationtime))+" "+e._s(e.lg.expiration))]:e._e()],2)]),e._v(" "),i("td",{staticClass:"col-3"},[i("span",{staticClass:"status-txt"},[e._v(e._s(e.couponStatusTxt(t.couponstatus)))])])])])]),e._v(" "),i("div",{staticClass:"ft"},[!e.isCustomer&&t.orderno?i("div",{staticClass:"orderno"},[e._v(e._s(e.lg.orderNo)+":"+e._s(t.orderno))]):e._e(),e._v(" "),i("span",[e._v("NO."+e._s(t.serialnumber))])])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.records.length,expression:"records.length == 0"}],staticClass:"el-table__empty-text"},[e._v(e._s(e.lg.noData))])],2)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("gnZr")},null,null);t.default=r.exports},"+euT":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("M8DQ"),a=i("45X1"),r=i("VHFF"),n=i("gyMJ"),o={name:"sutrandatatransfer",data:function(){return{activeName:"sutran",searchImei:"",records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],loading:!1,multipleSelection:[]}},components:{sutranDataAdd:s.default,sutranDataEdit:a.default,dataCardHistory:r.default},methods:{showAdd:function(){this.$refs.addComp.setVisible(!0),this.$refs.addComp.getBalance()},addSuccess:function(){this.getSutranList()},tabClick:function(){"cardHistory"==this.activeName&&this.$refs.cardHistoryComp.getList()},indexMethod:function(e){return this.start+(e+1)},searchList:function(){if(this.start=0,this.searchImei=this.$trim(this.searchImei),""!=this.searchImei&&!/[a-zA-Z\d]{5,18}/.test(this.searchImei))return this.$message.error(lg.inputImeiLast5);this.getSutranList()},getSutranList:function(){var e=this;this.loading=!0,Object(n._137)({start:this.start,count:this.pagesize,imei:this.searchImei}).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getSutranList()},handleSizeChange:function(e){this.pagesize=e,this.getSutranList()},handleSelectionChange:function(e){this.multipleSelection=e},batchEditSpeed:function(){for(var e=[],t=0,i=this.multipleSelection.length;t<i;t++)e.push(this.multipleSelection[t].imei);var s=e.length>0?e.join("\n"):"";this.editData(s)},editData:function(e){this.$refs.editComp.show(e)},editSuccessFn:function(){this.getSutranList()},delRecord:function(e){var t=this,i=e.imei;if(!i)return this.$message.error(lg[10005]);var s=this;this.$confirm(lg.delRecord).then(function(){Object(n._0)({imei:i}).then(function(i){t.$message.success(lg.success),s.delArray(s.records,e)}).catch(function(){})}).catch(function(){})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},fmtTime:function(e,t,i,s){return this.utcToLocal(i)}},mounted:function(){this.getSutranList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.sutranDataTransfer))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.sutranDataTransfer,name:"sutran"}},[i("div",{staticClass:"pb10"},[i("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.batchEditSpeed}},[e._v("Batch edit speed")]),e._v(" "),i("el-input",{staticClass:"fr",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:e.lg.imei},on:{change:e.searchList},model:{value:e.searchImei,callback:function(t){e.searchImei=t},expression:"searchImei"}})],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"35"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:e.lg.account,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"sutranaccount",label:"SUTRAN Account"}}),e._v(" "),i("el-table-column",{attrs:{prop:"speedthreshold",label:e.lg.overspeedThreshold}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.editData(t.row.imei)}}},[e._v("Edit speed")]),e._v(" |\n              "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.delRecord(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.cardHistory,name:"cardHistory"}},[i("dataCardHistory",{ref:"cardHistoryComp"})],1)],1)],1)]),e._v(" "),i("sutranDataAdd",{ref:"addComp",on:{addSuccess:e.addSuccess}}),e._v(" "),i("sutranDataEdit",{ref:"editComp",on:{confirmCallback:e.editSuccessFn}})],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},"/EbY":function(e,t,i){var s={"./App.vue":"M93x","./components/address.vue":"gFbb","./components/copyPopover.vue":"aEqY","./components/header.vue":"Cz8s","./components/imeiDetail.vue":"eInf","./components/imeiInput.vue":"9xlb","./components/imeiList.vue":"Glw6","./components/imeiMembership.vue":"Ek5U","./components/imeiRechargeHistory.vue":"eJ4L","./components/imgCropper.vue":"908k","./components/imgUploadDevice.vue":"Bl+L","./components/imgUploadUser.vue":"DReV","./components/membership.vue":"VV4h","./components/membershipTable.vue":"SDaM","./components/menu.vue":"zIkb","./components/menuFunction.vue":"XKPe","./components/modelSelect.vue":"ZVCO","./components/modelSelectByProtocol.vue":"gb/B","./components/ownerTable.vue":"XIE1","./components/pageTabs.vue":"CCAy","./components/passwordStrength.vue":"CGzg","./components/platformTable.vue":"sQMB","./components/search.vue":"7biW","./components/simplePassword.vue":"SzSM","./components/subMenu.vue":"eAWG","./components/sysNotice.vue":"xVP3","./components/sysNoticeBar.vue":"bHXI","./components/themePicker.vue":"VU8x","./components/tree.vue":"zAgK","./components/treePanel.vue":"YDJs","./components/treeRight.vue":"XeIX","./components/userSelect.vue":"/a4m","./components/userTreeCheckbox.vue":"kIuH","./components/userTreeSelect.vue":"Rpa2","./view/business.vue":"0WZ7","./view/card/add.vue":"tWx5","./view/card/addComp.vue":"J4YZ","./view/card/balance.vue":"VpDw","./view/card/cardSwitch.vue":"JTPR","./view/card/cardSwitchHistory.vue":"14er","./view/card/getCardBack.vue":"idAz","./view/card/historyDetail.vue":"Nxqm","./view/card/historyList.vue":"WEET","./view/card/move.vue":"fvYT","./view/coupon/couponComp.vue":"+76y","./view/coupon/list.vue":"Inv4","./view/dashboard/bill.vue":"t+XV","./view/dashboard/deviceAnalysis.vue":"tvm+","./view/dashboard/deviceExpire.vue":"IZLQ","./view/dashboard/deviceNum.vue":"9WcZ","./view/dashboard/index.vue":"5Mam","./view/dashboard/map.vue":"Nxpd","./view/dashboard/message.vue":"KB7B","./view/dashboard/model.vue":"XeEf","./view/dashboard/quick.vue":"ZPej","./view/dashboard/reminder.vue":"efw/","./view/dashboard/supplier.vue":"hlAS","./view/dashboard/user.vue":"9pi8","./view/dashboard/work.vue":"t3TR","./view/device/add.vue":"MoGs","./view/device/addComp.vue":"3A2d","./view/device/addSuccess.vue":"ep55","./view/device/addVirtualDevice.vue":"ImkI","./view/device/addVirtualDeviceDialog.vue":"Woj9","./view/device/alert.vue":"sooS","./view/device/basicInfo.vue":"MuqN","./view/device/batchAlert.vue":"y4Ep","./view/device/batchModifyExpireDate.vue":"qSo9","./view/device/batchModifyExpireDateDialog.vue":"5gwf","./view/device/batchMove.vue":"IKuJ","./view/device/batchPlatformDate.vue":"u5Cl","./view/device/batchPlatformDateDialog.vue":"YXVO","./view/device/batchRecharge.vue":"TBad","./view/device/batchRechargeDialog.vue":"hhhU","./view/device/batchRemove.vue":"9bTi","./view/device/batchSales.vue":"CZxx","./view/device/batchSalesDialog.vue":"2En/","./view/device/batchSetting.vue":"rClD","./view/device/batchSettingUpload.vue":"opbO","./view/device/command.vue":"j18i","./view/device/createAccount.vue":"Bu48","./view/device/detail.vue":"QmMy","./view/device/fuel.vue":"aJlA","./view/device/fuelCalibration.vue":"1ySC","./view/device/fuelInfo.vue":"5tBF","./view/device/fuelSensor.vue":"PRle","./view/device/installation.vue":"BpT4","./view/device/io.vue":"Zf8b","./view/device/list.vue":"x/F0","./view/device/modifyPassword.vue":"znlC","./view/device/modifyPasswordComp.vue":"6lYA","./view/device/moreActions.vue":"OE78","./view/device/other.vue":"R/6J","./view/device/recharge.vue":"5iOi","./view/device/recording.vue":"wU4D","./view/device/sell.vue":"pzsd","./view/device/setColumn.vue":"sZCN","./view/device/virtualCustomerList.vue":"YSJl","./view/function/accountImeiOwner.vue":"ypcq","./view/function/authFunctions.vue":"UvZY","./view/function/authFunctionsUpdate.vue":"yLO6","./view/function/blockCustomerDevice.vue":"pRRM","./view/function/brokenImeiChange.vue":"TGge","./view/function/brokenImeiChangeUpload.vue":"f+Tr","./view/function/changeImei.vue":"/hE7","./view/function/changeImeiHistory.vue":"Jwe1","./view/function/checkDeviceProtocolData.vue":"bj++","./view/function/couponManagement.vue":"BHdU","./view/function/createDataTransferCard.vue":"5qAy","./view/function/customerApp.vue":"IRtq","./view/function/customerCompare.vue":"WVmu","./view/function/customerInfo.vue":"W8gl","./view/function/dataCardHistory.vue":"VHFF","./view/function/dataCardHistoryDetail.vue":"/P8L","./view/function/deviceModelCreator.vue":"1h9V","./view/function/exportCustomerDevice.vue":"wUkO","./view/function/exportExpireDevices.vue":"y+9G","./view/function/exportOfflineDevice.vue":"7+PD","./view/function/factoryTest.vue":"BbY/","./view/function/factoryTestAdd.vue":"ZkYP","./view/function/imeiAccount.vue":"T8qV","./view/function/imeiAccountUpload.vue":"70WO","./view/function/importBlacklistDevice.vue":"nGIE","./view/function/importWhitelist.vue":"DCCZ","./view/function/index.vue":"b/4o","./view/function/indexComp.vue":"noE1","./view/function/modifyDeviceType.vue":"t7/S","./view/function/moveDataTransferCard.vue":"RfJi","./view/function/moveDataTransferCardComp.vue":"o1i6","./view/function/moveRouteLicence.vue":"x1Ae","./view/function/ogDataAdd.vue":"RmVr","./view/function/ogDataEdit.vue":"9j4I","./view/function/ogDataTransfer.vue":"i3EA","./view/function/openApi.vue":"QgI2","./view/function/openApiHistory.vue":"1JpP","./view/function/operationHistory.vue":"3QUk","./view/function/permissionClone.vue":"gPzS","./view/function/permissionRuleBind.vue":"mpEa","./view/function/quotas.vue":"zpsT","./view/function/quotasAdd.vue":"oW+X","./view/function/quotasHistory.vue":"Shul","./view/function/rechargeHistory.vue":"VFDj","./view/function/resetDevice.vue":"SdHJ","./view/function/reviewCustomerApply.vue":"xAYy","./view/function/rolePermission.vue":"9zM5","./view/function/rolePermissionManagement.vue":"8lLR","./view/function/routeLicence.vue":"HPq4","./view/function/routeLicenceAdd.vue":"wQjV","./view/function/salesList.vue":"c3aE","./view/function/storingImeiData.vue":"bcO3","./view/function/storingImeiDataList.vue":"Bzy5","./view/function/supportcall.vue":"Pm0B","./view/function/supportcallAdd.vue":"vpyz","./view/function/sutranDataAdd.vue":"M8DQ","./view/function/sutranDataEdit.vue":"45X1","./view/function/sutranDataTransfer.vue":"+euT","./view/function/transferDataAdd.vue":"g5iy","./view/function/transferDataList.vue":"Lu3L","./view/function/transferDataMono.vue":"CNbB","./view/function/transferDataTlc.vue":"BB7o","./view/function/transferDataTracklog.vue":"uSMY","./view/function/translationAuth.vue":"h2kP","./view/function/whitelistValidate.vue":"D+iQ","./view/function/yourBus.vue":"w0pp","./view/gmap/add.vue":"FPo1","./view/gmap/functions.vue":"vFeZ","./view/gmap/list.vue":"DbQS","./view/gmap/user.vue":"MvQr","./view/home.vue":"P1Pu","./view/message/detail.vue":"aPDQ","./view/message/feedback.vue":"fkey","./view/message/index.vue":"Xu8Z","./view/message/send.vue":"02iu","./view/message/sent.vue":"7A6a","./view/message/sentDetail.vue":"PvY0","./view/message/sentReceiver.vue":"V1xy","./view/message/systemMsg.vue":"fA6O","./view/model/add.vue":"sbFl","./view/model/edit.vue":"MK6x","./view/model/functions.vue":"zxLV","./view/model/link.vue":"6ZSK","./view/model/linkList.vue":"JpI3","./view/model/list.vue":"QsfW","./view/model/protocolInput.vue":"c/Hu","./view/notification/index.vue":"tgYB","./view/notification/index3.vue":"SG3x","./view/notification/notifySettingComp.vue":"K1Fb","./view/password/index.vue":"LFw6","./view/password/reset.vue":"RDSy","./view/permission/list.vue":"tDzE","./view/permission/updata.vue":"PEiB","./view/redirect.vue":"AbrE","./view/report/activation.vue":"7NCW","./view/search/device.vue":"jWLf","./view/search/deviceDetail.vue":"4HuX","./view/search/index.vue":"Ghwc","./view/search/user.vue":"r2W4","./view/search/userDetail.vue":"L9W2","./view/setting/index.vue":"PSis","./view/setting/permissionRuleComp.vue":"SdrY","./view/user/add.vue":"ER+x","./view/user/addComp.vue":"Z8T2","./view/user/addDialog.vue":"S455","./view/user/addSuccess.vue":"n5+R","./view/user/delete.vue":"uNXS","./view/user/list.vue":"206e","./view/user/loginLog.vue":"GnB0","./view/user/manual.vue":"BR7J","./view/user/modifyPassword.vue":"HNuF","./view/user/moreActions.vue":"Eaf0","./view/user/move.vue":"xom8","./view/user/moveDialog.vue":"IWkG","./view/user/view.vue":"TqR5","./view/user/viewDialog.vue":"5VNz"};function a(e){return i(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="/EbY"},"/P8L":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,pointType:["",lg.yourBus,lg.sutranDataTransfer,"Mahamining","ghTrack",lg.tracklogDataTransfer,lg.tlcDataTransfer,"",lg.monoDataTransfer,lg.ogDataTransfer],record:{}}},components:{membershipComp:i("VV4h").default},methods:{showDialog:function(e){this.dialogVisible=!0,this.getInfo(e)},getInfo:function(e){var t=this;Object(s._149)({historyid:e}).then(function(e){t.record=e.record}).catch(function(e){})},showMembership:function(){this.$refs.membershipComp.setVisible(!0),this.$refs.membershipComp.getRelationship(this.record.customerid)},dialogCloseFn:function(){this.record={}}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.detail,visible:e.dialogVisible,"append-to-body":"",width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("el-form",{ref:"searchFm",attrs:{model:e.record,"label-width":"150px"}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": "}},[i("a",{staticClass:"link-btn",on:{click:e.showMembership}},[e._v(e._s(e.record.customername+"("+e.record.customeraccount+")"))])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType+": "}},[e._v("\n      "+e._s(e.pointType[e.record.transfertype])+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number+": "}},[e._v("\n      "+e._s(e.record.pointnumber)+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.dateTime+": "}},[e._v("\n      "+e._s(e.utcToLocal(e.record.createtime))+"\n    ")]),e._v(" "),e.record.imeis?i("el-form-item",{attrs:{label:e.lg.imei+": "}},[i("el-input",{staticStyle:{width:"240px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},readonly:""},model:{value:e.record.imeis.replaceAll(",","\r\n"),callback:function(t){e.$set(e.record.imeis,"replaceAll(',','\r\n')",t)},expression:"record.imeis.replaceAll(',','\\r\\n')"}})],1):e._e()],1),e._v(" "),i("membershipComp",{ref:"membershipComp"})],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"/a4m":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{customerid:"",options:[],customerList:[]}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{setCustomerId:function(e){this.customerid=e},filterMethod:function(e){e=this.$trim(e),this.options=e?this.customerList.filter(function(t){if(~t.name.indexOf(e)||~t.name.toUpperCase().indexOf(e.toUpperCase()))return!0}):this.customerList},getCustomerData:function(){var e=this;Object(s._36)({customerid:this.loginId}).then(function(t){e.customerList=t.record,e.options=e.customerList}).catch(function(e){})},changeFn:function(){this.$emit("selected",this.customerid)},visibleChangeFn:function(e){if(!e){var t=this;setTimeout(function(){t.options=t.customerList},100)}},clearFn:function(){this.customerid=""}},mounted:function(){this.getCustomerData()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{directives:[{name:"select-filter",rawName:"v-select-filter"}],staticClass:"user-select-comp",attrs:{"filter-method":e.filterMethod,filterable:"",clearable:"","popper-class":"user-select-popper"},on:{change:e.changeFn,"visible-change":e.visibleChangeFn},model:{value:e.customerid,callback:function(t){e.customerid=t},expression:"customerid"}},e._l(e.options,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[i("i",{staticClass:"user-icon",class:"user-icon-"+t.roletype}),e._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"s-name",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"s-account"},[e._v(e._s(t.account))])])])}),1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("jWnQ")},null,null);t.default=n.exports},"/hE7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("iKHV"),o=i("ZVCO"),l=i("Jwe1"),c={name:"changeimei",data:function(){var e=this,t=function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.inputImeiError)):Object(n.f)(i)?s():s(new Error(lg[20053]))};return{activeName:"edit",imeiFm:{oldimei:"",newimei:"",devicetype:"",remark:""},imeiInfoShow:!1,oldDevicetype:"",customername:"",serverInfo:"",btnloading:!1,rules:{oldimei:[{required:!0,validator:t,trigger:"blur"}],newimei:[{required:!0,validator:t,trigger:"blur"}],devicetype:[{required:!0,message:lg.selectTargetType,trigger:"blur"}]}}},components:{modelSelect:o.default,historyComp:l.default},computed:{auth:function(){return this.$store.state.auth}},methods:{selectedFn:function(e){this.imeiFm.devicetype=e.devicetype,this.serverInfo=e.serverinfo},getImeiInfo:function(){var e=this,t=this.$trim(this.imeiFm.oldimei);return t?Object(n.f)(t)?void Object(r.L)({imei:t}).then(function(t){e.oldDevicetype=t.record.devicetype,e.customername=t.record.customername+"("+t.record.account+")",e.imeiInfoShow=!0}).catch(function(e){}):this.$message.error("("+t+")"+lg[20053]):this.$message.error(lg.inputImeiError)},onSubmit:function(){var e=this;this.checkParams()&&this.$confirm(lg.sureChangeImeiTips).then(function(){e.btnloading=!0;var t=e.deepCopy(e.imeiFm);t.oldimei=e.$trim(t.oldimei),t.newimei=e.$trim(t.newimei),Object(r.I)(t).then(function(){e.btnloading=!1,e.$message.success(lg.success),e.fmReset()}).catch(function(){e.btnloading=!1})}).catch(function(){})},showList:function(){var e=this;this.loading=!0,quotasList(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmReset:function(){this.$refs.imeiFm.resetFields(),this.customername="",this.oldDevicetype="",this.serverInfo="",this.imeiInfoShow=!1,this.$refs.modelComp.clearFn()},checkParams:function(){var e=this.$trim(this.imeiFm.oldimei),t=this.$trim(this.imeiFm.newimei);return e&&t?Object(n.f)(e)?this.imeiFm.devicetype?!!Object(n.f)(t)||(this.$message.error("("+t+")"+lg[20053]),!1):(this.$message.error(lg.selectTargetType),!1):(this.$message.error("("+e+")"+lg[20053]),!1):(this.$message.error(lg.inputImeiError),!1)}},mounted:function(){}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.changeImei)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      【页面功能说明】"),i("br"),e._v("\n        终生卡有一次更换IMEI机会。\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.changeImeiTips,closable:!1,"show-icon":"",type:"warning"}}),e._v(" "),i("div",{staticClass:"table-page"},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.add,name:"edit"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"imeiFm",attrs:{rules:e.rules,model:e.imeiFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.imei,prop:"oldimei"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("imeiFm","oldimei")}},model:{value:e.imeiFm.oldimei,callback:function(t){e.$set(e.imeiFm,"oldimei",t)},expression:"imeiFm.oldimei"}}),e._v(" "),i("el-button",{staticClass:"check-imei-btn",attrs:{size:"mini"},on:{click:e.getImeiInfo}},[e._v(e._s(e.lg.check))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.imeiInfoShow,expression:"imeiInfoShow"}],attrs:{label:e.lg.targetType}},[e._v("\n                "+e._s(e.oldDevicetype)+"\n              ")]),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.imeiInfoShow,expression:"imeiInfoShow"}],attrs:{label:e.lg.membershipCustomer}},[e._v("\n                "+e._s(e.customername)+"\n              ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.updatedImei,prop:"newimei"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("imeiFm","newimei")}},model:{value:e.imeiFm.newimei,callback:function(t){e.$set(e.imeiFm,"newimei",t)},expression:"imeiFm.newimei"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType,required:"",prop:"devicetype"}},[i("modelSelect",{ref:"modelComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("imeiFm","remark")}},model:{value:e.imeiFm.remark,callback:function(t){e.$set(e.imeiFm,"remark",t)},expression:"imeiFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"form-btn-box"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"list"}},[i("historyComp",{ref:"addComp",on:{showList:e.showList}})],1)],1)],1)],1)],1)},staticRenderFns:[]},m=i("VU/8")(c,u,!1,null,null,null);t.default=m.exports},"02iu":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,formData:{customerids:"",content:""},send2subs:!1,btnloading:!1}},components:{userTreeCheckbox:i("kIuH").default,messageComp:function(){return i.e(5).then(i.bind(null,"Xu8Z")).catch()}},computed:{permission:function(){return this.$store.state.functions}},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){if(e){this.formData.customerids=e.id;var t=this;setTimeout(function(){t.$refs.userTree.setData(e)},0)}},checkedFn:function(e){this.formData.customerids=e.join(",")},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,(this.send2subs?s._127:s._126)(t).then(function(t){e.$message.success(lg.success),e.cancelFn(),e.btnloading=!1}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"发送消息",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){return this.formData.customerids?this.$trim(this.formData.content)?this.formData.content.length>300?(this.$message.error(lg.sendMessageLen300),!1):{customerids:this.formData.customerids,content:this.formData.content}:(this.$message.error(lg.sendMessageNull),!1):(this.$message.error(lg.selectCustomer),!1)},showMessage:function(e){this.$refs.messageComp.setVisible(!0),this.$refs.messageComp.setActiveTab(e),this.$refs.messageComp.getunreadNum()},resetFm:function(){this.$refs.formData.resetFields(),this.$refs.userTree.clearFn()},cancelFn:function(){this.setVisible(!1),this.resetFm()},dialogCloseFn:function(){this.send2subs=!1,this.resetFm()}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"send-message-dialog",attrs:{title:e.lg.sendMessage,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("el-form",{ref:"formData",attrs:{model:e.formData,"show-message":!1,"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.sendTo,required:"",prop:"customerids"}},[i("userTreeCheckbox",{ref:"userTree",on:{checked:e.checkedFn}}),e._v(" "),e.permission&&e.permission.sendmsg2allchildren?i("div",{staticClass:"send-child-box"},[i("el-checkbox",{model:{value:e.send2subs,callback:function(t){e.send2subs=t},expression:"send2subs"}},[e._v("\n          "+e._s(e.lg.send2subs)),i("i",{staticClass:"el-icon"})]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{content:e.lg.send2subsTips,"popper-class":"el-txt-tips",effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.content,required:"",prop:"content"}},[i("el-input",{attrs:{type:"textarea",maxlength:"300","show-word-limit":""},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1),e._v(" "),i("el-form-item",[e._v("\n      "+e._s(e.lg.message)+":\n      "),i("a",{attrs:{href:"javascript://"},on:{click:function(t){return e.showMessage("system")}}},[e._v(e._s(e.lg.received))]),e._v(" /\n      "),i("a",{attrs:{href:"javascript://"},on:{click:function(t){return e.showMessage("sent")}}},[e._v(e._s(e.lg.sent))])])],1),e._v(" "),i("messageComp",{ref:"messageComp",attrs:{showUnreadMsg:!0}})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("rFKK")},null,null);t.default=n.exports},"0IIb":function(e,t){},"0RJI":function(e,t){},"0WZ7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("//Fk"),a=i.n(s),r=(i("Bh0a"),i("YDJs")),n=i("zAgK"),o=i("gyMJ"),l=i("KvKp"),c=i("xpps"),u=i("jb42"),m=i("EOjH"),d={name:"business",mixins:[c.a],data:function(){return{showChart:!1,showUserInfo:!0,treeHeight:0,activeTreeType:"1",treeType:"1",role:u.a,expiredType:0,expiredValue:0,expireConfig:[["2","3","4"],["5","6","7"]],searchCustomerKey:"",searchResult:{},customerid:"",customerName:"",curTreeData:"",treeRelation:[],curActiveName:"device",activeName:"device",deviceNummber:{},balance:{},userInfo:{},orderKey:"name",orderType:"asc"}},components:{treeComp:n.default,treePanel:r.default,addUserComp:function(){return i.e(75).then(i.bind(null,"S455")).catch()},deviceList:function(){return i.e(122).then(i.bind(null,"x/F0")).catch()},userList:function(){return i.e(145).then(i.bind(null,"206e")).catch()},sendMessageComp:function(){return i.e(77).then(i.bind(null,"02iu")).catch()},settingComp:function(){return i.e(4).then(i.bind(null,"PSis")).catch()},modifyPwdComp:function(){return i.e(76).then(i.bind(null,"HNuF")).catch()},userInfoComp:function(){return i.e(79).then(i.bind(null,"TqR5")).catch()},resetPwdComp:function(){return i.e(74).then(i.bind(null,"RDSy")).catch()},deviceAnalysis:function(){return i.e(126).then(i.bind(null,"tvm+")).catch()},deviceModel:function(){return i.e(124).then(i.bind(null,"XeEf")).catch()},deviceNum:function(){return i.e(125).then(i.bind(null,"9WcZ")).catch()},deviceMap:function(){return i.e(118).then(i.bind(null,"Nxpd")).catch()},searchComp:function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"Ghwc")).catch()}},computed:{loginId:function(){return this.$store.state.customerInfo.id},loginInfo:function(){return this.$store.state.customerInfo},diffDevice:function(){return this.userInfo.totaldevicecount&&this.deviceNummber.totaldevicecount?this.userInfo.totaldevicecount-this.deviceNummber.totaldevicecount:0}},methods:{initMemberShipEvent:function(){var e=this;m.a.$on("expendBusinessTree",function(t){e.findObj("userTreeComp",e.$refs,function(){e.$refs.userTreeComp.selectTreeNode({customers:t})})})},thisMonth:function(){return this.utcToLocal(new Date).substr(0,7)+"-01"},showCustomerChart:function(){this.showChart=!this.showChart,this.getCustomerChartData()},getCustomerChartData:function(){if(this.showChart&&1==this.userInfo.type){var e=this;this.findObj("analysisChart",this.$refs,function(){e.$refs.analysisChart.changeCustomerId(e.customerid)}),this.findObj("modelChart",this.$refs,function(){e.$refs.modelChart.changeCustomerId(e.customerid)}),this.findObj("deviceChart",this.$refs,function(){e.$refs.deviceChart.changeCustomerId(e.customerid)}),this.findObj("deviceMap",this.$refs,function(){e.$refs.deviceMap.changeCustomerId(e.customerid)})}},changeExpireType:function(){this.treeTypeChanged(this.expireConfig[this.expiredType][this.expiredValue])},treeTabChanged:function(e,t){this.activeTreeType=e,this.changeTreeType(this.activeTreeType),this.setHeight()},changeTreeType:function(e){this.expiredType=0,this.expiredValue=0,this.treeTypeChanged(e)},treeTypeChanged:function(e){var t=this;if(this.treeType=e,this.$refs.userTreeComp.reloadTree(e),this.searchResult&&this.searchResult.value==this.searchCustomerKey){this.customerid=this.loginId,this.$refs.userTreeComp.selectTreeNode(this.searchResult);var i=this;setTimeout(function(){i.$refs.userTreeComp.selectTreeNode(i.searchResult)},1e3)}else{this.customerid!=this.loginId&&(this.customerid=this.loginId,this.curTreeData=this.loginInfo,this.getUserData(this.customerid).then(function(e){t.getCustomerChartData()}).catch(function(e){}),this.getQuantityInfo(this.customerid));i=this;"device"==this.activeName?this.findObj("deviceListComp",this.$refs,function(){i.$refs.deviceListComp.setData(i.curTreeData,i.treeType)}):"subAccount"==this.activeName||"userInfo"==this.activeName&&this.findObj("userInfoComp",this.$refs,function(){i.$refs.userInfoComp.getInfo(i.customerid,i.treeType)})}},searchFilterCustomer:function(e,t){e.length>1?Object(o.T)({rootid:this.loginId,num:10,query:e}).then(function(e){for(var i=e.record,s=[],a=0,r=i.length;a<r;a++)s.push({value:i[a].value,value2:i[a].value+(i[a].account?"("+i[a].account+")":""),name:i[a].value,account:i[a].account,customerid:i[a].id,roletype:i[a].roletype,customers:i[a].index});t(s)}).catch(function(e){t([])}):t([])},handleSelectCustomer:function(e){this.searchResult=e,this.$refs.userTreeComp.selectTreeNode(e)},treeNodeClick:function(e,t){var i=this;this.setTreeScrollPos(),this.customerid!=e.id&&(this.customerid=e.id,this.customerName=e.name,this.curTreeData=e,this.treeRelation=t,"device"==this.activeName?this.$refs.deviceListComp.setData(this.curTreeData,this.treeType):"subAccount"==this.activeName||"userInfo"==this.activeName&&this.$refs.userInfoComp.getInfo(e.id,this.treeType),this.getUserData(e.id).then(function(e){i.getCustomerChartData()}).catch(function(e){}),this.getQuantityInfo(e.id))},tabClick:function(){this.curActiveName!=this.activeName&&(this.curActiveName=this.activeName,"device"==this.activeName&&this.$refs.deviceListComp.setData(this.curTreeData,this.treeType),"subAccount"==this.activeName&&this.$refs.userListComp.setData(this.customerid,this.customerName,this.treeType),"userInfo"==this.activeName&&this.$refs.userInfoComp.getInfo(this.customerid,this.treeType))},viewDevice:function(){this.activeName="device",this.tabClick()},showAddUser:function(){this.$refs.addUserComp.setVisible(!0),this.$refs.addUserComp.setData(this.customerid,this.customerName)},getUserData:function(e){var t=this;return this.userInfo={},new a.a(function(i,s){Object(o._67)({customerid:e}).then(function(e){t.userInfo=e.record,t.customerid=t.userInfo.id,t.customerName=t.userInfo.name,"subAccount"==t.activeName&&t.$refs.userListComp.setData(t.customerid,t.customerName,t.treeType),i(e)}).catch(function(e){s(e)})})},getQuantityInfo:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);var i=Object(l.g)(1);this.deviceNummber={},Object(o._37)({customerid:e,date:i[1]}).then(function(e){t.deviceNummber=e.record}).catch(function(e){})},showSearchUser:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(this.userInfo.account)},showDetail:function(){this.activeName="userInfo",this.$refs.userInfoComp.getInfo(this.userInfo.id)},showSendMessage:function(){this.$refs.sendMessageComp.setVisible(!0),this.$refs.sendMessageComp.setData(this.userInfo)},showSetting:function(){this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(this.userInfo.id)},showModifyPwd:function(){this.$refs.modifyPwdComp.setVisible(!0),this.$refs.modifyPwdComp.setData(this.userInfo)},resetPwd:function(){var e=this;this.findObj("resetPwdComp",this.$refs,function(){e.$refs.resetPwdComp.resetPassword(e.userInfo.id)})},reloadTreeParent:function(){this.$refs.userTreeComp.reloadTreeParent()},refreshFn:function(){this.$refs.userTreeComp.refresh()},softTree:function(e){this.orderKey=e,Object(l.m)("treeCustomerOrderBy",e),Object(l.m)("treeCustomerOrderType",this.orderType),this.reloadTreeParent()},softTreeWay:function(e){this.orderType=e,Object(l.m)("treeCustomerOrderType",e),Object(l.m)("treeCustomerOrderBy",this.orderKey),this.reloadTreeParent()},showExpireDetail:function(){if("2"!=this.activeTreeType&&(this.treeTabChanged("2"),this.treeRelation.length>1)){var e=this,t=[].concat(this.treeRelation);setTimeout(function(){e.$refs.userTreeComp.selectTreeNode({customers:t.join(",")})},1e3)}},setTreeScrollPos:function(){var e=this;setTimeout(function(){var t=document.querySelector(".el-tree-node.is-current.is-focusable").offsetTop,i=e.$refs.businessTreeScroll.wrap.scrollTop;(t<i||t>i+e.treeHeight)&&(e.$refs.businessTreeScroll.wrap.scrollTop=t-30,e.$refs.businessTreeScroll.handleScroll())},500)},setHeight:function(){var e=document.querySelector(".business-box .tree-panel").offsetHeight;this.treeHeight="2"!=this.treeType?e-150:e-190},resize:function(){this.setHeight()}},activated:function(){this.$route.query.treeLevel&&this.customerid&&(this.activeTreeType=this.$route.query.treeLevel,this.treeType=this.activeTreeType)},mounted:function(){var e=this;this.$store.dispatch("businessOnload",!0),this.$nextTick(function(){e.customerid=e.$store.state.loginId,e.customerName=e.$store.state.customerInfo.name,e.curTreeData=e.loginInfo,e.userInfo=e.loginInfo,e.getQuantityInfo(e.customerid),e.setHeight()})},created:function(){this.orderKey=Object(l.c)("treeCustomerOrderBy")||"name",this.orderType=Object(l.c)("treeCustomerOrderType")||"asc",this.initMemberShipEvent(),this.$route.query.treeLevel?(this.treeType=this.$route.query.treeLevel,this.activeTreeType=this.$route.query.treeLevel):this.treeType="1"},beforeDestroy:function(){this.$store.dispatch("businessOnload",!1)}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b pr0"},[i("treePanel",{staticClass:"business-box",scopedSlots:e._u([{key:"treeTitle",fn:function(){return[i("el-button",{staticClass:"add-new",attrs:{icon:"add-user-icon base-icon"},on:{click:e.showAddUser}},[e._v(e._s(e.lg.add))])]},proxy:!0},{key:"treeContent",fn:function(){return[i("div",{staticClass:"tree-type-box"},[i("el-tabs",{staticClass:"tree-tab",attrs:{"before-leave":e.treeTabChanged},model:{value:e.activeTreeType,callback:function(t){e.activeTreeType=t},expression:"activeTreeType"}},[i("el-tab-pane",{attrs:{label:e.lg.customers,name:"1"}}),e._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.lg.expiration)+"\n              "),i("el-tooltip",{attrs:{content:e.lg.expireTreeTips,placement:"top"}},[i("i",{staticClass:"el-icon-info fz12"})])],1)]),e._v(" "),i("el-tab-pane",{attrs:{name:"8"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.lg.offline)+"\n              "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.offlineTreeTips)},slot:"content"}),e._v(" "),i("i",{staticClass:"el-icon-info fz12"})])],1)])],1),e._v(" "),i("el-popover",{attrs:{placement:"bottom","popper-class":"tree-soft-popover","visible-arrow":!1,width:"170",trigger:"hover"}},[i("ul",[i("li",{staticClass:"t-soft-name",class:{"is-active":"name"==e.orderKey},on:{click:function(t){return e.softTree("name")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.customerName))]),e._v(" "),i("li",{staticClass:"t-soft-account",class:{"is-active":"account"==e.orderKey},on:{click:function(t){return e.softTree("account")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.account))]),e._v(" "),i("li",{staticClass:"t-soft-device",class:{"is-active":"totalnum"==e.orderKey},on:{click:function(t){return e.softTree("totalnum")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.totalDevices))]),e._v(" "),i("li",{staticClass:"t-soft-stock",class:{"is-active":"ownnum"==e.orderKey},on:{click:function(t){return e.softTree("ownnum")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.stock))]),e._v(" "),i("li",{staticClass:"t-soft-create",class:{"is-active":"id"==e.orderKey},on:{click:function(t){return e.softTree("id")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.createTime))]),e._v(" "),i("li",{staticClass:"t-soft-asc",class:{"is-active":"asc"==e.orderType},on:{click:function(t){return e.softTreeWay("asc")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.ascend))]),e._v(" "),i("li",{staticClass:"t-soft-desc",class:{"is-active":"desc"==e.orderType},on:{click:function(t){return e.softTreeWay("desc")}}},[i("i",{staticClass:"base-icon"}),e._v(e._s(e.lg.descend))])]),e._v(" "),i("el-button",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.sort,expression:"lg['sort']"}],staticClass:"soft-btn",attrs:{slot:"reference",icon:"el-icon-sort"},slot:"reference"})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.treeType&&"8"!=e.treeType,expression:"(treeType != '1' && treeType != '8')"}],staticClass:"tree-expire-box"},[i("el-select",{staticClass:"tree-expire-select",on:{change:e.changeExpireType},model:{value:e.expiredType,callback:function(t){e.expiredType=t},expression:"expiredType"}},[i("el-option",{attrs:{label:e.lg.platformEnd,value:0}}),e._v(" "),i("el-option",{attrs:{label:e.lg.userEnd,value:1}})],1),e._v(" "),i("el-select",{staticClass:"tree-expire-select",on:{change:e.changeExpireType},model:{value:e.expiredValue,callback:function(t){e.expiredValue=t},expression:"expiredValue"}},[i("el-option",{attrs:{label:e.lg.expired,value:0}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expire7,value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expire30,value:2}})],1)],1),e._v(" "),i("div",{staticClass:"search-tree"},[i("el-autocomplete",{staticClass:"inline-input search-tree-input",attrs:{"prefix-icon":"search-icon base-icon","popper-class":"user-autocomplete","fetch-suggestions":e.searchFilterCustomer,placeholder:e.lg.account+"/"+e.lg.name,"trigger-on-focus":!0,"hide-loading":!0},on:{select:e.handleSelectCustomer},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[i("i",{staticClass:"user-icon",class:"user-icon-"+s.roletype}),e._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"s-name"},[e._v(e._s(s.name))]),e._v(" "),i("span",{staticClass:"s-account"},[e._v(e._s(s.account))])])]}}]),model:{value:e.searchCustomerKey,callback:function(t){e.searchCustomerKey=t},expression:"searchCustomerKey"}},[i("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){e.searchCustomerKey=""}},slot:"suffix"})])],1),e._v(" "),i("el-scrollbar",{ref:"businessTreeScroll",staticClass:"hidden-scroll-x",style:"height:"+e.treeHeight+"px;"},[e.loginId?i("treeComp",{ref:"userTreeComp",attrs:{treeType:e.treeType,rightClickFlag:!0},on:{treeNodeClick:e.treeNodeClick}}):e._e()],1)]},proxy:!0},{key:"mainContent",fn:function(){return[i("div",{staticClass:"pr15"},[i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-title"},[i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.customerName,expression:"lg.customerName"}],staticClass:"base-icon-account base-icon"}),e._v(e._s(e.userInfo.name)+"\n            "),i("a",{attrs:{href:"/V2/index.jsp?customerid="+e.userInfo.id,target:"_blank"}},[i("span",{staticClass:"monitor-btn"},[i("i",{staticClass:"base-icon monitor-icon"}),e._v(e._s(e.lg.monitor))])]),e._v(" "),i("i",{staticClass:"user-title-arrow",class:e.showUserInfo?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(t){t.stopPropagation(),e.showUserInfo=!e.showUserInfo}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showUserInfo,expression:"showUserInfo"}]},[i("div",{staticClass:"user-info-box clearfix"},[i("div",{staticClass:"info-item user-info-item bg",staticStyle:{width:"32%"}},[i("div",{staticClass:"user-info-word"},[i("div",{staticClass:"user-portrait bg",style:"background-image:url("+e.userInfo.thumbnailportrait+")",on:{click:e.showSearchUser}}),e._v(" "),i("p",{staticClass:"icon-word"},[i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.account,expression:"lg.account"}],staticClass:"base-icon account-icon"}),i("a",{on:{click:e.showSearchUser}},[i("copy",{attrs:{txt:e.userInfo.account}},[e._v(e._s(e.userInfo.account))])],1),e._v(" "),i("span",{staticClass:"account-type"},[e._v("("+e._s(e.userInfo.type&&e.role[parseInt(e.userInfo.type)])+")")])]),e._v(" "),i("p",{staticClass:"icon-word"},[i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.mobile,expression:"lg.mobile"}],staticClass:"base-icon phone-icon"}),e._v(" "),e.userInfo.phone?[i("copy",{attrs:{txt:e.userInfo.phone}},[e._v("\n                      "+e._s(e.userInfo.phone)+"\n                    ")])]:[e._v("\n                      -\n                    ")]],2),e._v(" "),i("p",{staticClass:"icon-word",staticStyle:{height:"32px"},attrs:{title:e.userInfo.email}},[i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.email,expression:"lg.email"}],staticClass:"base-icon message-icon"}),e._v(" "),e.userInfo.email?[i("copy",{attrs:{txt:e.userInfo.email}},[e._v(e._s(e.userInfo.email))])]:[e._v("\n                      -\n                    ")]],2)]),e._v(" "),i("div",{staticClass:"user-info-option clearfix"},[i("div",{staticClass:"option-item",on:{click:e.showDetail}},[i("i",{staticClass:"base-icon edit-icon"}),i("p",[e._v(e._s(e.lg.edit))])]),e._v(" "),i("div",{staticClass:"option-item",on:{click:e.showSetting}},[i("i",{staticClass:"base-icon set-icon"}),i("p",[e._v(e._s(e.lg.setting))])]),e._v(" "),i("div",{staticClass:"option-item mr0",on:{click:e.showSendMessage}},[i("i",{staticClass:"base-icon message-icon"}),i("p",[e._v(e._s(e.lg.sendMessage))])])])]),e._v(" "),i("div",{staticClass:"info-item device-info-item bg",style:"width:38%;"+("zh-cn"==e.lg.lang?"":"min-width:260px;")},[i("div",{staticClass:"device-item-cont"},[i("div",{staticClass:"info-title"},[e._v(e._s(e.lg.targetNum))]),e._v(" "),i("div",{staticClass:"item-device-info"},[i("span",{staticClass:"device-total link-hover",on:{click:e.viewDevice}},[e._v(e._s(e.userInfo.totaldevicecount))]),e._v(" "),e.diffDevice?i("span",{staticClass:"device-total-new"},[i("i",{class:e.diffDevice>0?"el-icon-top red":"el-icon-bottom gree"}),e._v(e._s(e.diffDevice))]):e._e(),e._v(" "),i("span",{staticClass:"num-title"},[e._v(e._s(e.lg.targetTotal))]),e._v(" "),e.diffDevice?i("el-tooltip",{attrs:{content:e.lg.from+":"+e.thisMonth(),placement:"top"}},[i("i",{staticClass:"el-icon-info"})]):e._e()],1)]),e._v(" "),i("div",{staticClass:"device-option option-box clearfix"},[i("div",{staticClass:"option-item"},[i("b",{staticClass:"option-num"},[e._v(e._s(e.deviceNummber.importcount||0==e.deviceNummber.importcount?e.deviceNummber.importcount:"-"))]),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.imported))])]),e._v(" "),i("div",{staticClass:"option-item"},[i("b",{staticClass:"option-num"},[i("router-link",{attrs:{to:"/reportactivation?type=1&customerid="+e.customerid+"&account="+e.userInfo.account}},[e._v("\n                    "+e._s(!e.userInfo.totaldevicecount&&0!=e.userInfo.totaldevicecount||!e.deviceNummber.activationcount&&0!=e.deviceNummber.activationcount?"-":e.userInfo.totaldevicecount-e.deviceNummber.inactivatecount)+"\n                    ")]),e._v("/\n                    "),i("router-link",{attrs:{to:"/reportactivation?type=0&customerid="+e.customerid+"&account="+e.userInfo.account}},[e._v("\n                      "+e._s(e.deviceNummber.inactivatecount||0==e.deviceNummber.inactivatecount?e.deviceNummber.inactivatecount:"-")+"\n                    ")])],1),e._v(" "),i("p",{staticClass:"option-desc"},[e._v("\n                       "+e._s(e.lg.activation)+" /\n                      "),"zh-cn"!=e.lg.lang?i("br"):e._e(),e._v("\n                       "+e._s(e.lg.unactivated)+"\n                    ")])]),e._v(" "),i("div",{staticClass:"option-item"},[i("b",{staticClass:"option-num"},[e._v(e._s(e.deviceNummber.rechargedcount||0==e.deviceNummber.rechargedcount?e.deviceNummber.rechargedcount:"-"))]),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.recharged))])]),e._v(" "),i("div",{staticClass:"option-item mr0"},[e.userInfo.expiredcount?i("b",{staticClass:"option-num",on:{click:e.showExpireDetail}},[i("a",[e._v(e._s(e.userInfo.expiredcount||0==e.userInfo.expiredcount?e.userInfo.expiredcount:"-"))])]):i("b",{staticClass:"option-num"},[e._v("\n                      "+e._s(0==e.userInfo.expiredcount?0:"-")+"\n                    ")]),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.expiration))])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!(-1==e.userInfo.importpoint&&-1==e.userInfo.zsimportpoint&&-1==e.userInfo.monthpoint&&-1==e.userInfo.lifelongpoint),expression:"!(userInfo.importpoint == -1 && userInfo.zsimportpoint == -1 && userInfo.monthpoint == -1 && userInfo.lifelongpoint == -1)"}],staticClass:"info-item balance-info-item bg",staticStyle:{width:"30%"}},[i("div",{staticClass:"info-title"},[i("router-link",{staticClass:"bs-title-link",attrs:{to:"/balance"}},[e._v(e._s(e.lg.balance))])],1),e._v(" "),i("div",{staticClass:"balance-num-box fl"},[i("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.userInfo.importpoint,expression:"userInfo.importpoint != -1"}],staticClass:"balance-num-item"},[i("router-link",{attrs:{to:"/cardhistory?type=1"+(e.userInfo.id!=e.loginId?"&customerid="+e.userInfo.id+"&account="+e.userInfo.account:"")}},[i("b",{staticClass:"balance-num link-hover"},[e._v(e._s(e.userInfo.importpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.newCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n                      "+e._s(e.lg.newCard)+"\n                    ")],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.userInfo.monthpoint,expression:" userInfo.monthpoint != -1"}],staticClass:"balance-num-item "},[i("router-link",{attrs:{to:"/cardhistory?type=2"+(e.userInfo.id!=e.loginId?"&customerid="+e.userInfo.id+"&account="+e.userInfo.account:"")}},[i("b",{staticClass:"balance-num link-hover"},[e._v(e._s(e.userInfo.monthpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.annualCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n                      "+e._s(e.lg.annualCard)+"\n                    ")],1)],1)]),e._v(" "),i("div",{staticClass:"balance-num-box fl pl20"},[i("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.userInfo.zsimportpoint,expression:"userInfo.zsimportpoint != -1"}],staticClass:"balance-num-item"},[i("router-link",{attrs:{to:"/cardhistory?type=4"+(e.userInfo.id!=e.loginId?"&customerid="+e.userInfo.id+"&account="+e.userInfo.account:"")}},[i("b",{staticClass:"balance-num link-hover"},[e._v(e._s(e.userInfo.zsimportpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc",style:"zh-cn"==e.lg.lang?"":"min-width:136px;"},[i("el-tooltip",{attrs:{content:e.lg.newCardLifelongTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v(" "),i("span",{attrs:{title:e.lg.newCardLifelong}},[e._v(e._s(e.lg.newCardLifelong))])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.userInfo.lifelongpoint,expression:"userInfo.lifelongpoint != -1"}],staticClass:"balance-num-item fl"},[i("router-link",{attrs:{to:"/cardhistory?type=3"+(e.userInfo.id!=e.loginId?"&customerid="+e.userInfo.id+"&account="+e.userInfo.account:"")}},[i("b",{staticClass:"balance-num link-hover"},[e._v(e._s(e.userInfo.lifelongpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.lifeLongCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n                      "+e._s(e.lg.lifeLongCard)+"\n                    ")],1)],1)]),e._v(" "),-1==e.userInfo.importpoint&&-1==e.userInfo.zsimportpoint&&-1==e.userInfo.monthpoint&&-1==e.userInfo.lifelongpoint?i("div",{staticClass:"el-table__empty-text"},[i("div",[e._v(e._s(e.lg.noData))])]):e._e()]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.userInfo.type,expression:"userInfo.type==1"}],staticClass:"info-detail-btn bg",on:{click:e.showCustomerChart}},[e._v(e._s(e.lg.detail))])],1),e._v(" "),1==e.userInfo.type&&e.showChart?i("div",{staticClass:"info-detail-box"},[i("el-row",[i("el-col",{attrs:{span:8}},[i("deviceAnalysis",{ref:"analysisChart",attrs:{source:"business"}})],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("deviceModel",{ref:"modelChart",attrs:{source:"business"}})],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("deviceNum",{ref:"deviceChart",attrs:{source:"business"}})],1)],1),e._v(" "),i("deviceMap",{ref:"deviceMap",attrs:{source:"business"}})],1):e._e()])]),e._v(" "),i("el-tabs",{staticClass:"table-tab",on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.target,name:"device"}},[i("deviceList",{ref:"deviceListComp",attrs:{treeType:e.treeType},on:{reloadTreeParent:e.reloadTreeParent}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.subAccount,name:"subAccount"}},[i("userList",{ref:"userListComp",attrs:{treeType:e.treeType},on:{reloadTreeParent:e.reloadTreeParent,cbAddUser:e.refreshFn}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.information,name:"userInfo"}},[i("userInfoComp",{ref:"userInfoComp"})],1)],1)],1)]},proxy:!0}])}),e._v(" "),i("sendMessageComp",{ref:"sendMessageComp"}),e._v(" "),i("settingComp",{ref:"settingComp",attrs:{customerType:e.userInfo.type}}),e._v(" "),i("modifyPwdComp",{ref:"modifyPwdComp"}),e._v(" "),i("resetPwdComp",{ref:"resetPwdComp"}),e._v(" "),i("addUserComp",{ref:"addUserComp",on:{cbAddUser:e.refreshFn}}),e._v(" "),i("searchComp",{ref:"searchComp"})],1)},staticRenderFns:[]};var p=i("VU/8")(d,h,!1,function(e){i("9vHO")},null,null);t.default=p.exports},"10lf":function(e,t){},"14er":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("YDJs"),n=i("xpps"),o=i("zAgK"),l=i("Rpa2"),c=i("gyMJ"),u={name:"cardhistory",mixins:[n.a],data:function(){return{searchFm:{operationType:"switchCard",fromtime:"",totime:"",customerid:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},pointType:["",lg.newCard,lg.annualCard,lg.lifeLongCard,lg.newCardLifelong],records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],params:{},loading:!1,searchCustomerKey:"",treeHeight:0}},computed:{loginId:function(){return this.$store.state.customerInfo.id},pointhistoryAuth:function(){return this.$store.state.functions&&this.$store.state.functions.pointhistory},importDeviceAuth:function(){return this.$store.state.auth.hasAuth2ImportDevice}},components:{treeComp:o.default,treePanel:r.default,userTreeSelect:l.default,historyDetail:function(){return i.e(87).then(i.bind(null,"Nxqm"))}},methods:{indexMethod:function(e){return this.start+(e+1)},selected:function(e){this.searchFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},show:function(){this.getList();var e=this;setTimeout(function(){e.setHeight()},300)},getList:function(){var e=this;this.loading=!0,this.basecustomerid&&(this.params.basecustomerid=this.basecustomerid),Object(c.H)(a()({start:this.start,count:this.pagesize},this.params)).then(function(t){e.records=t.records,e.total=t.totalcount,e.loading=!1}).catch(function(t){e.loading=!1})},treeLoaded:function(){this.setHeight()},searchFn:function(){return this.start=0,this.total=0,this.params=this.deepCopy(this.searchFm),this.params.totime=this.params.totime?this.params.totime+(864e5-1):this.params.totime,this.params.totime-this.params.fromtime>26784e5?this.$message.error(lg.maxTimeOneMonth):this.params.fromtime>this.params.totime?this.$message.error(lg.distimeError):void this.getList()},resetFm:function(){this.$refs.searchFm.resetFields(),this.params={},this.start=0,this.total=0,this.$refs.userTreeCompFilter.clearFn(),this.getList()},treeNodeClick:function(e){e.id!=this.customerid&&(this.basecustomerid=e.id,this.resetFm(),this.setTreeScrollPos())},searchFilterCustomer:function(e,t){e.length>1?Object(c.T)({rootid:this.loginId,num:10,query:e}).then(function(e){for(var i=e.record,s=[],a=0,r=i.length;a<r;a++)s.push({value:i[a].value,customerid:i[a].id,customers:i[a].index});t(s)}).catch(function(e){t([])}):t([])},handleSelectCustomer:function(e){this.$refs.userTreeComp.selectTreeNode(e)},showDetail:function(e){this.$refs.historyDetailComp.showDialog(e)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},formatterType:function(e,t,i,s){return this.pointType[i]},formatterOpt:function(e,t,i,s){var a=["",lg.create,lg.transferOut,lg.use,lg.transferIn,lg.return,lg.returnFirst],r="";return 6!=e.operation_type&&(r+=e.customer_name+"("+e.customeraccount+") "),r+=a[e.operation_type]+" ",r+=this.pointType[e.point_type]+" ",2!=e.operation_type&&1!=e.operation_type&&6!=e.operation_type||(r+=lg.withTo+" "+e.target_name+"("+e.targetaccount+")"),r||"-"},formatterIncome:function(e,t,i,s){return-1!=[1,4,5].indexOf(e.operation_type)?e.point_number:"-"},formatterExpenditure:function(e,t,i,s){return-1!=[2,3,6].indexOf(e.operation_type)?e.point_number:"-"},setTreeScrollPos:function(){var e=this;setTimeout(function(){var t=document.querySelector(".el-tree-node.is-current.is-focusable").offsetTop,i=e.$refs.historyScroll.wrap.scrollTop;(t<i||t>i+e.treeHeight)&&(e.$refs.historyScroll.wrap.scrollTop=t-30,e.$refs.historyScroll.handleScroll())},300)},setHeight:function(){if(this.pointhistoryAuth){var e=document.querySelector(".page-card-switch .aside-box").offsetHeight;this.treeHeight=e-200}},resize:function(){this.setHeight()}},mounted:function(){var e=this;this.$nextTick(function(){e.setHeight()}),this.getList()}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-switch-cardhistory h100b"},[i("div",{staticClass:"has-titlebar-content",style:"height:"+(e.treeHeight+95)+"px;"},[i("treePanel",{attrs:{offset:60,hideside:!e.pointhistoryAuth},scopedSlots:e._u([{key:"treeTitle",fn:function(){},proxy:!0},{key:"treeContent",fn:function(){return[i("div",{staticClass:"search-tree mt10"},[i("el-autocomplete",{staticClass:"inline-input search-tree-input",attrs:{"prefix-icon":"search-icon base-icon","fetch-suggestions":e.searchFilterCustomer,placeholder:e.lg.account+"/"+e.lg.name,"trigger-on-focus":!1,"hide-loading":!0},on:{select:e.handleSelectCustomer},model:{value:e.searchCustomerKey,callback:function(t){e.searchCustomerKey=t},expression:"searchCustomerKey"}},[i("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){e.searchCustomerKey=""}},slot:"suffix"})])],1),e._v(" "),i("el-scrollbar",{ref:"historyScroll",style:"height:"+e.treeHeight+"px;"},[i("treeComp",{ref:"userTreeComp",on:{treeLoaded:e.treeLoaded,treeNodeClick:e.treeNodeClick}})],1)]},proxy:!0},{key:"mainContent",fn:function(){return[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{staticClass:"filter-cardtype",attrs:{label:e.lg.from,prop:"fromtime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.searchFm.fromtime,callback:function(t){e.$set(e.searchFm,"fromtime",t)},expression:"searchFm.fromtime"}}),e._v(" "),i("label",{staticClass:"ml10 el-form-item__label"},[e._v(e._s(e.lg.to))]),e._v(" "),i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.searchFm.totime,callback:function(t){e.$set(e.searchFm,"totime",t)},expression:"searchFm.totime"}}),e._v(" "),i("p",{staticClass:"time-range-tips"},[e._v(e._s(e.lg.maxTimeOneMonth))])],1),e._v(" "),i("el-form-item",{staticClass:"filter-customer",attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeCompFilter",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{staticClass:"search-form-btns"},[i("div",{staticStyle:{position:"relative",top:"-2px"}},[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,"highlight-current-row":"",stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"create_time",label:e.lg.dateTime,formatter:e.formatterTime,width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_type",label:e.lg.cardType,formatter:e.formatterType}}),e._v(" "),i("el-table-column",{attrs:{prop:"operation_type",label:e.lg.operation,formatter:e.formatterOpt,width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_number",label:e.lg.income,formatter:e.formatterIncome}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_number",label:e.lg.expenditure,formatter:e.formatterExpenditure}}),e._v(" "),i("el-table-column",{attrs:{prop:"after",label:e.lg.balance}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return["3"==t.row.operation_type?i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row.id)}}},[e._v(e._s(e.lg.detail))]):i("span",[e._v("-")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)]},proxy:!0}])})],1),e._v(" "),i("historyDetail",{ref:"historyDetailComp"})],1)},staticRenderFns:[]};var d=i("VU/8")(u,m,!1,function(e){i("aANz")},null,null);t.default=d.exports},"184L":function(e,t){},"1JpP":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={data:function(){return{searchFm:{type:"",customerid:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},records:[],total:0,start:0,pagesizes:[10,15,20,30,50],pagesize:10,params:{},loading:!1}},components:{userTreeSelect:r.default,historyDetail:function(){return i.e(85).then(i.bind(null,"/P8L"))}},methods:{indexMethod:function(e){return this.start+(e+1)},selected:function(e){this.searchFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},getList:function(){var e=this;this.loading=!0,Object(n._92)(a()({start:this.start,count:this.pagesize},this.params)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(t){e.loading=!1})},searchFn:function(){this.start=0,this.total=0,this.params=this.deepCopy(this.searchFm),this.getList()},resetFm:function(){this.$refs.searchFm.resetFields(),this.params={},this.start=0,this.total=0,this.$refs.userTreeComp.clearFn(),this.getList()},changeStatus:function(e){var t=this,i="1"==e.available?"close":"open",s="1"==e.available?"0":"1";this.$confirm("Confirm to [ "+i+" ]?").then(function(){Object(n._91)({customerid:e.customerid,available:s}).then(function(i){t.$message.success(lg.success),e.usagestatus="1"==e.usagestatus?"0":"1",t.getList()}).catch(function(){})}).catch(function(){})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},fmtStatus:function(e,t,i,s){return"1"==e.available?"√":"×"},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.customerName,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{prop:"available",label:e.lg.available,formatter:e.fmtStatus}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",attrs:{"raw-html":""},on:{click:function(i){return e.changeStatus(t.row)}}},[e._v(e._s("1"==t.row.available?e.lg.close:e.lg.open))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e(),e._v(" "),i("historyDetail",{ref:"historyDetailComp"})],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},"1h9V":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"devicemodelcreator",data:function(){return{model:"",modelInfoFm:{customername:"",customeraccount:"",devicetype:"",aliastype:"",salename:"",remark:""},loading:!1,showInfo:!1}},methods:{getInfo:function(){var e=this;if(!this.model)return this.$message.error(lg.selectTargetType);this.loading=!0,Object(s._56)({devicetype:this.model}).then(function(t){e.modelInfoFm=t.record,e.showInfo=!0,e.loading=!1}).catch(function(){e.loading=!1})}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.deviceModelCreator))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("div",{staticClass:"p15"},[i("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.lg.targetType)+": ")]),e._v(" "),i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("","model")}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[i("el-button",{attrs:{slot:"append",loading:e.loading,icon:"el-icon-search"},on:{click:e.getInfo},slot:"append"})],1)],1),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showInfo,expression:"showInfo"}],ref:"modelInfoFm",attrs:{model:e.modelInfoFm,"label-width":"180px"}},[i("el-form-item",{attrs:{label:e.lg.customerName+": ",prop:"customername"}},[e._v(" "+e._s(e.modelInfoFm.customername)+" ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.account+": ",prop:"customeraccount"}},[e._v(" "+e._s(e.modelInfoFm.customeraccount)+" ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newModel+": ",prop:"devicetype"}},[e._v(" "+e._s(e.modelInfoFm.devicetype)+" ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aliasModel+": ",prop:"aliastype"}},[e._v(" "+e._s(e.modelInfoFm.aliastype)+" ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.sales+": ",prop:"customername"}},[e._v(" "+e._s(e.modelInfoFm.salename)+" ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+": ",prop:"remark"}},[e._v(" "+e._s(e.modelInfoFm.remark)+" ")])],1)],1)])],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"1ySC":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("bOdI"),a=i.n(s),r=i("gyMJ"),n={props:["deviceid"],data:function(){return{input:1,isloading:!1,minLength:10,sensorV:[],visibleArr:[]}},computed:{sensorList:function(){if(this.sensorV.length<this.minLength)for(var e=this.sensorV.length;e<this.minLength;e++)this.sensorV.push({x:"",y:""});return this.sensorV}},methods:{setData:function(e){this.clearData(),e&&(e=JSON.parse(e),this.input=e.analoginput?e.analoginput:1,this.sensorV=e.items?e.items:[])},showInput:function(e){if(!this.inArray(this.visibleArr,e)){this.visibleArr.push(e);var t=this;setTimeout(function(){t.$refs[e][0].focus()},10)}},hideInput:function(e){this.visibleArr.splice(this.visibleArr.indexOf(e),1)},addSensorValue:function(){for(var e="",t=0,i=this.sensorV.length;t<i;t++)if(""==this.sensorV[t].x){e=t;break}if(e||0===e)this.showInput("sensor_"+e);else{this.sensorV.push({x:"",y:""});var s=this;setTimeout(function(){s.$refs.sensorScroll.wrap.scrollTop=s.$refs.sensorScroll.wrap.children[0].offsetHeight,s.$refs.sensorScroll.handleScroll(),s.showInput("sensor_"+(s.sensorV.length-1))},300)}},delItem:function(e,t){this.sensorV.length<=t||this.sensorV.splice(t,1)},showChart:function(){"250px"==document.getElementsByClassName("fuel-chart-box")[0].style.height?document.getElementsByClassName("fuel-chart-box")[0].style.height="0px":(this.renderChart(),document.getElementsByClassName("fuel-chart-box")[0].style.height="250px")},hideChart:function(){document.getElementsByClassName("fuel-chart-box")[0].style.height="0px"},renderChart:function(){for(var e=[],t=[],i=0,s=this.sensorV.length;i<s;i++)this.sensorV[i].x&&this.sensorV[i].y&&(e.push(this.sensorV[i].x),t.push(this.sensorV[i].y));var r={color:["#409EFF"],title:{text:""},tooltip:{axisPointer:{type:"cross"},textStyle:{fontSize:12},formatter:function(i){return lg.sensorValue+": "+e[i.dataIndex]+"<br />"+lg.value+": "+t[i.dataIndex]+"(L)"}},grid:{left:35,right:15,bottom:50,backgroundColor:"#596673"},xAxis:{name:lg.sensorValue,data:e,nameGap:"30",nameLocation:"center",axisLine:{lineStyle:{color:"#ccc"}},nameTextStyle:{color:"#ccc",padding:[0,0,0,-15]},splitLine:{show:!1}},yAxis:a()({name:lg.value,nameTextStyle:{color:"#ccc",padding:[10,50,0,65]},axisLine:{lineStyle:{color:"#ccc"}},splitLine:{lineStyle:{color:["#409EFF"],type:"dashed"}},type:"value",boundaryGap:[0,"100%"]},"splitLine",{show:!0}),series:[{type:"line",smooth:!0,symbolSize:8,data:t}]};this.sensorChart.setOption(r)},updata:function(){var e=this,t=e.checkParams();if(t){this.isloading=!0;var i={deviceid:this.deviceid,analoginput:this.input,items:t};Object(r._168)(i,{stringify:!0,headers:{"Content-type":"application/json;charset=UTF-8"}}).then(function(t){e.hideDialog(),e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1}).catch(function(t){e.isloading=!1}),this.countEvent({action:"油箱传感设置",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){for(var e=!0,t=[],i="",s="",a=0,r=this.sensorV.length;a<r;a++){if(i=this.sensorV[a].x?this.$trim(this.sensorV[a].x+""):this.sensorV[a].x,s=this.sensorV[a].y?this.$trim(this.sensorV[a].y+""):this.sensorV[a].y,i&&!s||!i&&s){e=!1;break}if(i&&!/^\d+(\.\d{1,3})?$/.test(i)){e=!1;break}if(s&&!/^\d+(\.\d{1,3})?$/.test(s)){e=!1;break}i&&s&&t.push({x:i,y:s})}return e?t.length<2?(this.$message.error({message:lg.dataFormatError}),!1):t.length>50?(this.$message.error({message:lg[20081]+"(50)"}),!1):t:(this.$message.error({message:lg.dataFormatError}),!1)},clearData:function(){this.sensorV=[],this.input=1,this.visibleArr=[],this.hideChart()},hideDialog:function(){this.$emit("setVisible",!1)}},mounted:function(){var e=this;this.$nextTick(function(){"undefined"==typeof echarts&&this.loadScript("./static/plugins/echart/echarts.min.js"),this.findFn("echarts",function(){var t=document.getElementById("sensorChart");t&&(e.sensorChart=echarts.init(t),e.renderChart())})})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-fuel-sensor-box"},[i("el-row",{attrs:{gutter:80}},[i("el-col",{attrs:{span:10}},[i("el-form",{attrs:{"label-position":"top"}},[i("el-form-item",{attrs:{label:e.lg.input}},[i("el-select",{model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[i("el-option",{attrs:{label:e.lg.analogueInput1,value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.analogueInput2,value:2}})],1)],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:14}},[i("div",{staticClass:"pr"},[i("el-row",{staticClass:"d-sensor-header"},[i("el-col",{attrs:{span:11}},[e._v(e._s(e.lg.sensorValue))]),e._v(" "),i("el-col",{attrs:{span:11}},[e._v(e._s(e.lg.value)+"(L)")]),e._v(" "),i("el-col",{attrs:{span:2}})],1),e._v(" "),i("el-scrollbar",{ref:"sensorScroll",attrs:{"wrap-style":"height:300px;"}},e._l(e.sensorList,function(t,s){return i("el-row",{key:s,staticClass:"d-sensor-column"},[i("el-col",{attrs:{span:11}},[i("div",{staticClass:"d-sensor-col-item",on:{click:function(t){return e.showInput("sensor_"+s)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.inArray(e.visibleArr,"sensor_"+s),expression:"!inArray(visibleArr,'sensor_'+index)"}],staticClass:"pl15"},[e._v(e._s(t.x)+" ")]),e._v(" "),i("el-input",{directives:[{name:"show",rawName:"v-show",value:e.inArray(e.visibleArr,"sensor_"+s),expression:"inArray(visibleArr,'sensor_'+index)"}],ref:"sensor_"+s,refInFor:!0,on:{blur:function(t){return e.hideInput("sensor_"+s)}},model:{value:t.x,callback:function(i){e.$set(t,"x",i)},expression:"item.x"}})],1)]),e._v(" "),i("el-col",{attrs:{span:11},on:{click:function(t){return e.showInput("value_"+s)}}},[i("div",{staticClass:"d-sensor-col-item",on:{click:function(t){return e.showInput("value_"+s)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.inArray(e.visibleArr,"value_"+s),expression:"!inArray(visibleArr,'value_'+index)"}],staticClass:"pl15"},[e._v(e._s(t.y)+" ")]),e._v(" "),i("el-input",{directives:[{name:"show",rawName:"v-show",value:e.inArray(e.visibleArr,"value_"+s),expression:"inArray(visibleArr,'value_'+index)"}],ref:"value_"+s,refInFor:!0,on:{blur:function(t){return e.hideInput("value_"+s)}},model:{value:t.y,callback:function(i){e.$set(t,"y",i)},expression:"item.y"}})],1)]),e._v(" "),i("el-col",{attrs:{span:2}},[i("span",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.delete,expression:"lg.delete"}],staticClass:"el-option-btn el-icon-delete ml5",on:{click:function(i){return e.delItem(t,s)}}})])],1)}),1),e._v(" "),i("div",[i("el-button",{staticClass:"fuel-s-table-btn",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addSensorValue}}),e._v(" "),i("el-button",{staticClass:"fuel-s-table-btn",attrs:{icon:"el-icon-data-line",size:"mini"},on:{click:e.showChart}})],1),e._v(" "),i("div",{staticClass:"fuel-chart-box"},[i("div",{staticClass:"fuel-chart-close el-icon-error",on:{click:e.hideChart}}),e._v(" "),i("div",{attrs:{id:"sensorChart"}})])],1)])],1),e._v(" "),i("div",{staticClass:"submit-box mt20 tr"},[i("el-button",{attrs:{type:"primary",loading:e.isloading},on:{click:e.updata}},[e._v(e._s(e.lg.save))])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("10lf")},null,null);t.default=l.exports},"1yxD":function(e,t){},"206e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("KvKp"),r={props:["treeType"],data:function(){return{treetype:"1",customerid:"",customerName:"",userType:["",lg.gradeDealer,lg.gradeUser,lg.gradeVirtual],records:[],total:0,start:0,pagesize:20,pagesizes:[10,15,20,30,50],orderByData:{name:"name",account:"account",totalnum:"",ownnum:"",id:"createtime"},loading:!1}},components:{userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},addUserComp:function(){return i.e(75).then(i.bind(null,"S455")).catch()},moveComp:function(){return i.e(86).then(i.bind(null,"IWkG")).catch()},modifyPwdComp:function(){return i.e(76).then(i.bind(null,"HNuF")).catch()},resetPwdComp:function(){return i.e(74).then(i.bind(null,"RDSy")).catch()},deleteComp:function(){return i.e(90).then(i.bind(null,"uNXS")).catch()},searchComp:function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"Ghwc")).catch()}},methods:{indexMethod:function(e){return this.start+(e+1)},setData:function(e,t,i){this.customerid==e&&this.treetype==i||(this.customerid=e,this.customerName=t||"",this.treetype=parseInt(i),this.initList())},initList:function(){this.start=0,this.total=0,this.records=[],this.getList()},getList:function(){var e=this;if(!this.customerid)return this.$message.error(lg[10005]);var t=this.orderByData[Object(a.c)("treeCustomerOrderBy")]||"createtime",i=Object(a.c)("treeCustomerOrderType")||"desc";this.loading=!0,Object(s.S)({customerid:this.customerid,start:this.start,treetype:this.treetype,count:this.pagesize,orderby:t,sort:i}).then(function(t){e.records=t.records,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},fmtType:function(e,t,i,s){return this.userType[i]},fmtVal:function(e,t,i,s){return i||"-"},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},showAdd:function(){var e=this;this.findObj("addUserComp",this.$refs,function(){e.$refs.addUserComp.setVisible(!0),e.$refs.addUserComp.setData(e.customerid,e.customerName)})},showDetail:function(e){var t=this;this.findObj("userDetailComp",this.$refs,function(){t.$refs.userDetailComp.setVisible(!0),t.$refs.userDetailComp.getInfo(e.id)})},showSearch:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(e.account)},resetPwd:function(e){var t=this;this.findObj("resetPwdComp",this.$refs,function(){t.$refs.resetPwdComp.resetPassword(e)})},showMove:function(e){var t=this;this.findObj("moveComp",this.$refs,function(){t.$refs.moveComp.setVisible(!0),t.$refs.moveComp.setData(e)})},deleteRecord:function(e){var t=this;this.findObj("deleteComp",this.$refs,function(){t.$refs.deleteComp.deleteRecord(e)})},modifyPwd:function(e){this.$refs.modifyPwdComp.setVisible(!0),this.$refs.modifyPwdComp.setData(e)},updataDetail:function(e){var t=this.records.find(function(t){return t.id==e.customerid});t.address=e.address,t.contact=e.contact,t.email=e.email,t.name=e.name,t.phone=e.phone,t.telphone=e.telphone,t.timezone=e.timezone,t.type=e.type},reloadTreeParent:function(){this.initList(),this.$emit("reloadTreeParent")},refreshFn:function(){this.initList(),this.$emit("cbAddUser")}},mounted:function(){this.treetype=this.treeType?this.treeType:"1"}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-list"},[i("div",{staticClass:"batch-option-box clearfix"},[i("el-button",{staticClass:"adduser-btn batch-btn",attrs:{type:"primary",size:"mini"},on:{click:e.showAdd}},[e._v(e._s(e.lg.addCustomer))])],1),e._v(" "),i("div",{staticClass:"user-table-box pl15 pr15"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,"highlight-current-row":"",resizable:"",stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,fixed:"left",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:e.lg.customerName}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.account},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showSearch(t.row)}}},[i("copy",{ref:"copy-accout-"+t.$index,attrs:{txt:t.row.account}},[e._v(" "+e._s(t.row.account))])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:e.lg.roles,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{prop:"contact",label:e.lg.contact,formatter:e.fmtVal}}),e._v(" "),i("el-table-column",{attrs:{prop:"phone",label:e.lg.tel,formatter:e.fmtVal}}),e._v(" "),i("el-table-column",{attrs:{prop:"email",label:e.lg.email,formatter:e.fmtVal}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row)}}},[e._v(e._s(e.lg.detail))]),e._v(" |\n          "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.resetPwd(t.row.id)}}},[e._v(e._s(e.lg.resetPwd))]),e._v(" |\n          "),i("el-popover",{attrs:{placement:"bottom","popper-class":"table-more-option",trigger:"hover","visible-arrow":!1}},[i("ul",[i("li",{on:{click:function(i){return e.showMove(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch move-btn"}),e._v(e._s(e.lg.move))]),e._v(" "),i("a",{attrs:{href:"/V2/index.jsp?customerid="+t.row.id,target:"_blank"}},[i("li",{staticClass:"border-b"},[i("i",{staticClass:"more-btn-item-icon monitor-btn"}),e._v(e._s(e.lg.monitor))])]),e._v(" "),i("li",{on:{click:function(i){return e.modifyPwd(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch modifypwd-btn"}),e._v(e._s(e.lg.modifyPwd))]),e._v(" "),i("li",{on:{click:function(i){return e.deleteRecord(t.row.id)}}},[i("i",{staticClass:"more-btn-item-icon deluser-btn"}),e._v(e._s(e.lg.delete))])]),e._v(" "),i("a",{staticClass:"link-btn",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(e.lg.more)),i("i",{staticClass:"el-icon-caret-bottom"})])])]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[e.total?i("a",{staticClass:"excel-btn",attrs:{href:"/OutputService?method=customerlistXls&customerid="+e.customerid+"&lang="+e.$lang}},[e._v(e._s(e.lg.downloadExcel))]):e._e()])]),e._v(" "),i("addUserComp",{ref:"addUserComp",on:{cbAddUser:e.refreshFn}}),e._v(" "),i("userDetailComp",{ref:"userDetailComp",attrs:{title:"detail"},on:{cbSuccess:e.updataDetail}}),e._v(" "),i("moveComp",{ref:"moveComp",on:{successCallback:e.reloadTreeParent}}),e._v(" "),i("modifyPwdComp",{ref:"modifyPwdComp"}),e._v(" "),i("resetPwdComp",{ref:"resetPwdComp"}),e._v(" "),i("deleteComp",{ref:"deleteComp",on:{deleteUserCallback:e.reloadTreeParent}}),e._v(" "),i("searchComp",{ref:"searchComp"})],1)])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("uvy/")},null,null);t.default=o.exports},"2En/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{batchSale:i("CZxx").default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.findObj("batchSaleComp",this.$refs,function(){t.$refs.batchSaleComp.setData(e)})},setCustomer:function(e,t){var i=this;this.findObj("batchSaleComp",this.$refs,function(){i.$refs.batchSaleComp.setCustomer(e,t)})},sellSuccess:function(){this.setVisible(!1)},dialogCloseFn:function(){this.$refs.batchSaleComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchSale,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("batchSale",{ref:"batchSaleComp",attrs:{dialog:!0},on:{hideDialog:function(t){return e.setVisible(!1)},sellSuccess:e.sellSuccess}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"2KOF":function(e,t){},"2rzL":function(e,t){},"3+P/":function(e,t){},"3A2d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("Rpa2"),r=i("ZVCO"),n=i("iKHV"),o=i("ep55"),l={props:["dialog"],data:function(){return{userFm:{pid:"",customerid:"",devicetype:"",type:"1",imeis:""},imeiHint:lg.oneImeiOneLine,customername:"",newCard:0,newCardLifelong:0,successFlag:!1,btnloading:!1}},components:{userTreeSelect:a.default,modelSelect:r.default,addSuccess:o.default},computed:{loginId:function(){return this.$store.state.loginId}},methods:{init:function(e,t){this.userFm.customerid=e,this.customername=t,t&&this.$refs.userTreeComp.setCustomer(t)},getPointInfo:function(){var e=this;Object(s._102)({customerid:this.loginId}).then(function(t){e.newCard=t.importpoint,e.newCardLifelong=t.zsimportpoint}).catch(function(e){})},userSelected:function(e){this.userFm.customerid=e.customerid,this.customername=e.name},modelSelected:function(e){this.userFm.devicetype=e.devicetype,this.imeiHint=e.imeihint?e.imeihint:lg.oneImeiOneLine},onSubmit:function(){var e=this,t=this.checkParams();if(!t)return!1;this.btnloading=!0;var i=this.deepCopy(this.userFm);i.pid=this.loginId,i.imeis=t.join(","),Object(s._73)(i).then(function(t){e.showSuccess(i,t),e.fmReset(),e.btnloading=!1,e.$emit("cbSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"添加设备",opt_label:"点击",val:"Dealer2"})},checkParams:function(){var e=this.$trim(this.userFm.imeis);if(!this.userFm.customerid||!/^\d{1,}$/.test(this.userFm.customerid))return this.$message.error(lg.selectSuperCustomerNull),!1;if(!this.userFm.devicetype)return this.$message.error(lg.selectTargetType),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;var t=e.split(/\n/g);if((t=this.unique(t)).length>500)return this.$message.error(lg.maxImeiNum.replace("{num}",500)),!1;for(var i=0;i<t.length;i++){var s=this.$trim(t[i]);if(!Object(n.f)(s))return this.$message.error(this.userFm.devicetype+"("+s+"):"+lg[20053]),!1}return t},showSuccess:function(e,t){this.successFlag=!0;var i=this;e.name=this.customername,setTimeout(function(){i.$refs.addSuccessComp.setData(e,t)},0)},hideSuccess:function(){this.getPointInfo(),this.successFlag=!1},continueAdd:function(){this.successFlag=!1,this.clearFn()},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.modelComp.clearFn()},clearFn:function(){this.fmReset(),this.newCard=0,this.newCardLifelong=0,this.successFlag=!1},cancel:function(){this.fmReset(),this.$emit("close")}},mounted:function(){this.getPointInfo()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-add submit-from-box"},[i("el-alert",{directives:[{name:"show",rawName:"v-show",value:!e.successFlag,expression:"!successFlag"}],staticClass:"tips-page",attrs:{title:e.lg.importCheckImeiTip,closable:!1,"show-icon":"",type:"warning"}}),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.successFlag,expression:"!successFlag"}],ref:"addFm",attrs:{model:e.userFm,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[i("table",{staticClass:"table-balance"},[i("tr",[i("td",[e._v(" "+e._s(e.newCard)+" "),i("em",[e._v(e._s(e.lg.newCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.newCardLifelong)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])])])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.userSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType,required:"",prop:"devicetype"}},[i("modelSelect",{ref:"modelComp",on:{selected:e.modelSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType,required:"",prop:"cardType"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[e._v(e._s(e.lg.newCard))]),e._v(" "),i("el-radio",{attrs:{label:"4"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[e._v(e._s(e.lg.newCardLifelong))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"4"==e.userFm.type,expression:"userFm.type == '4'"}],attrs:{label:e.lg.option}},[i("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.userFm.onlineyears,callback:function(t){e.$set(e.userFm,"onlineyears",t)},expression:"userFm.onlineyears"}},[e._v(e._s(e.lg.setOneyearExpire))]),i("br"),e._v(" "),i("el-checkbox",{attrs:{"true-label":"2","false-label":"0"},model:{value:e.userFm.onlineyears,callback:function(t){e.$set(e.userFm,"onlineyears",t)},expression:"userFm.onlineyears"}},[e._v(e._s(e.lg.setTwoyearExpire))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imeiId,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",rows:3,placeholder:e.imeiHint},model:{value:e.userFm.imeis,callback:function(t){e.$set(e.userFm,"imeis",t)},expression:"userFm.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",500)))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.userFm.remark,callback:function(t){e.$set(e.userFm,"remark",t)},expression:"userFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"form-btn-box"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancel}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),e.successFlag?i("addSuccess",{ref:"addSuccessComp",on:{hideSuccess:e.hideSuccess}}):e._e()],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("kAwz")},null,null);t.default=u.exports},"3OzE":function(e,t){},"3QUk":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=(i("Rpa2"),i("wQjV"),i("gyMJ")),n={name:"operationHistory",data:function(){return{searchFm:{starttime:"",endtime:"",name:""},searchParams:{},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},records:[],total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},components:{},computed:{filterData:function(){for(var e=[],t=this.records,i=this.start,s=this.start+this.pagesize>t.length?t.length:this.start+this.pagesize;i<s;i++)e.push(t[i]);return e}},methods:{indexMethod:function(e){return this.start+(e+1)},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},checkSearchParams:function(){return!!this.searchFm.name||(this.$message.error("name can not be blank."),!1)},searchFn:function(e){this.checkSearchParams()&&(this.start=0,this.total=0,this.searchParams=this.deepCopy(this.searchFm),this.searchParams.endtime=this.searchParams.endtime?this.searchParams.endtime+(864e5-1):(new Date).getTime(),this.searchParams.type=e,this.getList())},getList:function(){var e=this;this.loading=!0,Object(r._93)(a()({},this.searchParams)).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount}).catch(function(){e.loading=!1})},formatterTime:function(e,t,i,s){return this.utcToLocal(e.createtime)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize},handleSizeChange:function(e){this.pagesize=e},updateView:function(e){this.$forceUpdate()},setQuery:function(){var e=this.$route.query;this.searchFm.name=e.account||e.imei,e.account&&this.searchFn(1),e.imei&&this.searchFn(2)}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){var e=this;this.$nextTick(function(){e.setQuery()})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-operationhistory h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.operationHistory))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0}},[i("el-form-item",{attrs:{label:e.lg.from,prop:"starttime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime,input:function(t){return e.updateView(t)}},model:{value:e.searchFm.starttime,callback:function(t){e.$set(e.searchFm,"starttime",t)},expression:"searchFm.starttime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.to,prop:"endtime"}},[i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{input:function(t){return e.updateView(t)}},model:{value:e.searchFm.endtime,callback:function(t){e.$set(e.searchFm,"endtime",t)},expression:"searchFm.endtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"name",prop:"name"}},[i("el-input",{attrs:{size:"medium",placeholder:"account/imei"},on:{blur:function(t){return e.$trimFn("searchFm","name")},input:function(t){return e.updateView(t)}},model:{value:e.searchFm.name,callback:function(t){e.$set(e.searchFm,"name",t)},expression:"searchFm.name"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchFn("1")}}},[e._v("Account")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchFn("2")}}},[e._v("IMEI")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.filterData,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"60"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"Operator"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:"Operation Time",formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"operatortypeI18n",label:"Operation Type",width:"160"}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("2rzL")},null,null);t.default=l.exports},"3pO9":function(e,t){},"425f":function(e,t){},"45X1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={data:function(){var e=this,t={speedthreshold:function(t,i,s){""==(i=e.$trim(i))?s(new Error("Please input speeding value.")):s()},imeis:function(t,i,s){i=e.$trim(i);var a=e.formatImeis(i);""===i?s(new Error(lg.inputImeiError)):a.length>200?s(new Error(lg.maxImeiNum.replace("{num}",200))):s()}};return{dialogVisible:!1,editSutranFm:{speedthreshold:"",imeis:""},btnloading:!1,rules:{speedthreshold:[{required:!0,validator:t.speedthreshold,trigger:"blur"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},methods:{setVisible:function(e){this.dialogVisible=e},show:function(e){this.setVisible(!0),this.editSutranFm.imeis=e},cancelFn:function(){this.setVisible(!1),this.clearData()},clearData:function(){this.$refs.editSutranFm.resetFields()},editSuccess:function(){this.$emit("confirmCallback"),this.setVisible(!1),this.clearData()},confirmData:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s._16)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success+(t.msg?"("+t.msg+")":"")),e.editSuccess()}).catch(function(){e.btnloading=!1}))},checkParams:function(){var e=this.$trim(this.editSutranFm.speedthreshold),t=this.$trim(this.editSutranFm.imeis);if(""==e)return this.$message.error("Please input speeding value."),!1;if(!t)return this.$message.error(lg.inputImeiError),!1;if((t=this.formatImeis(t)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(a.g)(t);return i.rs?{imeis:i.imeis.join(","),speedthreshold:e}:(this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1)},dialogCloseFn:function(){this.$refs.editSutranFm.resetFields(),this.$refs.userTreeComp.clearFn()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:"Batch edit speed",visible:e.dialogVisible,width:"600px",closed:e.clearData,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"editSutranFm",attrs:{model:e.editSutranFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.confirmData.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.overspeedThreshold,prop:"speedthreshold"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("editSutranFm","speedthreshold")}},model:{value:e.editSutranFm.speedthreshold,callback:function(t){e.$set(e.editSutranFm,"speedthreshold",t)},expression:"editSutranFm.speedthreshold"}}),e._v(" "),i("el-alert",{attrs:{title:"0 means no limit. other(>0) means set the speed threshold.",closable:!1,"show-icon":"",type:"info"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},on:{blur:function(t){return e.trimImeiInput("editSutranFm","imeis")}},model:{value:e.editSutranFm.imeis,callback:function(t){e.$set(e.editSutranFm,"imeis",t)},expression:"editSutranFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",[e._v("One line one IMEI.")]),e._v(" "),i("div",[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("div",{staticClass:"submit-box tr pt20"},[i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.confirm))])],1)],1)],1)])},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},"5B3p":function(e,t){},"5Mam":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("9pi8"),a=i("t3TR"),r=i("IZLQ"),n=i("t+XV"),o=i("XeEf"),l=i("hlAS"),c=i("ZPej"),u=i("tvm+"),m=i("9WcZ"),d=i("xVP3"),h={name:"dashboard",data:function(){return{}},components:{userComp:s.default,workComp:a.default,billComp:n.default,modelChart:o.default,supplierComp:l.default,deviceAnalysis:u.default,deviceNum:m.default,quickComp:c.default,noticeComp:d.default,expireComp:r.default,reminderComp:function(){return i.e(131).then(i.bind(null,"efw/")).catch()},message:function(){return i.e(134).then(i.bind(null,"KB7B")).catch()},mapComp:function(){return i.e(128).then(i.bind(null,"Nxpd")).catch()}},computed:{customerInfo:function(){return this.$store.state.customerInfo},loginId:function(){return this.$store.state.loginId}},methods:{refreshFn:function(){this.$refs.reminderComp.refreshFn(),this.$refs.messageComp.refreshFn(),this.$refs.supplierComp.refreshFn(),this.$refs.billComp.refreshFn(),this.$refs.deviceAnalysis.refreshFn(),this.$refs.modelChart.refreshFn(),this.$refs.deviceNumComp.refreshFn(),this.$refs.mapComp.refreshFn()}},mounted:function(){}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-scrollbar",{staticClass:"hidden-scroll-x h100b p0"},[i("div",{staticClass:"p15 dashboard"},[i("noticeComp"),e._v(" "),i("div",[i("userComp",{on:{refreshFn:e.refreshFn}})],1),e._v(" "),i("div",{staticClass:"dashborad-card clearfix"},[i("div",{staticClass:"fl t-h-w"},[i("div",{staticClass:"second-item mt10 fl h-w70",staticStyle:{height:"auto"}},[i("workComp",{ref:"workComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10 fl h-w30"},[i("reminderComp",{ref:"reminderComp"})],1)]),e._v(" "),i("div",{staticClass:"fr h-w25"},[i("div",{staticClass:"mt10 second-item home-message-box pr0"},[i("message",{ref:"messageComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10 pr0"},[i("supplierComp",{ref:"supplierComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10 pr0"},[i("deviceNum",{ref:"deviceNumComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10 pr0",staticStyle:{height:"465px"}},[i("modelChart",{ref:"modelChart"})],1)]),e._v(" "),i("div",{staticClass:"fl h-w75"},[i("div",{staticClass:"second-item mt10"},[i("expireComp",{ref:"expireComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10"},[i("billComp",{ref:"billComp"})],1),e._v(" "),i("div",{staticClass:"second-item mt10"},[i("deviceAnalysis",{ref:"deviceAnalysis"})],1),e._v(" "),i("div",{staticClass:"second-item mt10",staticStyle:{height:"465px"}},[i("mapComp",{ref:"mapComp"})],1)])])],1)])},staticRenderFns:[]};var f=i("VU/8")(h,p,!1,function(e){i("QHKE"),i("xCLh")},null,null);t.default=f.exports},"5VNz":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["title"],data:function(){return{hideSet:!1,infoVisible:!1}},components:{profileComp:function(){return i.e(79).then(i.bind(null,"TqR5")).catch()}},methods:{setVisible:function(e,t){this.infoVisible=e,"profileNull"==t&&(this.hideSet=!0)},getInfo:function(e){var t=this;this.findObj("profileComp",this.$refs,function(){t.$refs.profileComp.getInfo(e)})},successCb:function(e){this.setVisible(!1),this.$emit("cbSuccess",e)},closeDialog:function(){this.setVisible(!1)},closedFn:function(){this.$refs.profileComp.fmReset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.title?e.lg[e.title]:e.lg.information,visible:e.infoVisible,modal:!0,"show-close":!0,width:"800px","append-to-body":!0},on:{"update:visible":function(t){e.infoVisible=t},closed:e.closedFn}},[i("profileComp",{ref:"profileComp",attrs:{isDialog:!0,hideSet:e.hideSet},on:{closeDialog:e.closeDialog,successCb:e.successCb}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"5f/S":function(e,t){},"5gwf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{modifyData:i("qSo9").default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.findObj("modifyDataComp",this.$refs,function(){t.$refs.modifyDataComp.setData(e)})},dialogCloseFn:function(){this.$refs.modifyDataComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchDistributorTime,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("modifyData",{ref:"modifyDataComp",attrs:{dialog:!0},on:{hideDialog:function(t){return e.setVisible(!1)}}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"5iOi":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={props:["dialog"],data:function(){return{formData:{imei:"",deviceid:"",devicename:"-",nowPlatform:"-",cardtype:"2",number:"1",afterPlatform:"",distributortime:"",remark:""},afterPlatform:"",btnloading:!1}},computed:{auth_function:function(){return this.$store.state.functions||{}}},methods:{setVisible:function(e){this.$emit("rechargeCb")},setData:function(e){this.formData.imei=e.imei,this.formData.deviceid=e.deviceid,this.formData.devicename=e.devicename,this.formData.nowPlatform=this.utcToLocal(e.plattime).substr(0,10),this.afterPlatform=this.formatPlatform(e.plattime),this.formData.afterPlatform=this.afterPlatform,this.formData.distributortime=new Date(this.afterPlatform).getTime()},formatPlatform:function(e){var t=0;return(t=Date.now()>e?Date.now():e)>=new Date("2099-12-31 00:00:00").getTime()?"2099-12-31":this.utcToLocal(new Date(t).setFullYear(new Date(t).getFullYear()+1)).substr(0,10)},cardTypeChange:function(){var e="3"==this.formData.cardtype?"2099-12-31":this.afterPlatform;this.formData.afterPlatform=e,this.formData.distributortime=new Date(e).getTime()},isInWhitelistFn:function(e){var t=this;Object(s._74)({imei:e}).then(function(e){""==e.errormsg&&(t.formData.number="0.5")}).catch(function(e){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s._114)(t).then(function(t){e.$message.success(lg.rechargeDeviceSuccess),e.btnloading=!1,e.setVisible(!1),e.resetFm()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"续费",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.remark),t=this.formData.cardtype;if(!this.formData.distributortime)return this.$message.error(lg.platformEndError),!1;var i=Object(a.n)(1,this.formData.distributortime).endTime-999;return{remark:e,type:t,deviceid:this.formData.deviceid,distributortime:i}},fnHistory:function(){this.$router.push({path:"/imeirechargehistory",query:{imei:this.formData.imei}})},cancelFn:function(){this.$emit("close")},resetFm:function(){this.$refs.formComp.resetFields()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",staticClass:"recharge-form",attrs:{"show-message":!1,"label-position":"right",model:e.formData,"label-width":"200px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imei"}},[i("el-input",{staticStyle:{width:"220px"},on:{blur:function(t){return e.$trimFn("formData","imei")}},model:{value:e.formData.imei,callback:function(t){e.$set(e.formData,"imei",t)},expression:"formData.imei"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetName,prop:"devicename"}},[e._v("\n    "+e._s(e.formData.devicename)+"\n  ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.platformEnd,prop:"nowPlatform"}},[e._v("\n    "+e._s(e.formData.nowPlatform)+"\n  ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType,prop:"cardtype"}},[i("el-radio",{attrs:{label:"2"},on:{change:e.cardTypeChange},model:{value:e.formData.cardtype,callback:function(t){e.$set(e.formData,"cardtype",t)},expression:"formData.cardtype"}},[e._v(e._s(e.lg.annualCard))]),e._v(" "),i("el-radio",{attrs:{label:"3"},on:{change:e.cardTypeChange},model:{value:e.formData.cardtype,callback:function(t){e.$set(e.formData,"cardtype",t)},expression:"formData.cardtype"}},[e._v(e._s(e.lg.lifeLongCard))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.afterRecharge,prop:"afterPlatform"}},[e._v("\n    "+e._s(e.formData.afterPlatform)+"\n  ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.userEnd,required:"",prop:"distributortime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp"},model:{value:e.formData.distributortime,callback:function(t){e.$set(e.formData,"distributortime",t)},expression:"formData.distributortime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea",rows:2},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))]),e._v(" "),e.auth_function.imeirechargehistory?i("a",{attrs:{href:"javascript://"},on:{click:e.fnHistory}},[e._v(e._s(e.lg.rechargeHistory))]):e._e()],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},"5qAy":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"createdatatransfercard",data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.selectCustomer)):s()},number:function(t,i,s){if(!(i=1*e.$trim(i))||!/^[0-9]+$/.test(i)||parseInt(i)<=0||parseInt(i)>2e3)return s(new Error(lg.invalidNumber)),!1;s()}};return{activeName:"add",addFm:{customerid:"",number:""},searchFm:{customerid:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"}],number:[{required:!0,validator:t.number,trigger:"blur"}]}}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.addFm.customerid=e.customerid},searchUserFn:function(e){this.searchFm.customerid=e.customerid,e.customerid||this.searchFn()},onSubmit:function(){var e=this,t=this.checkParams();t&&Object(n.j)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.getList()}).catch(function(){e.btnloading=!1})},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},checkParams:function(){var e=this.$trim(this.addFm.number),t=this.$trim(this.addFm.remark);return this.addFm.customerid?!e||!/^[0-9]+$/.test(e)||parseInt(e)<=0||parseInt(e)>2e3?(this.$message.error(lg.invalidNumber),!1):{customerid:this.addFm.customerid,number:e,remark:t}:(this.$message.error(lg.selectCustomer),!1)},searchFn:function(){this.start=0,this.total=0,this.searchParams={customerid:this.searchFm.customerid},this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._150)(a()({start:this.start,count:this.pagesize},this.searchParams,{operationtype:"1"})).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-data-transfercard h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.createDataTransferCard))]),e._v(" "),i("el-row",{staticClass:"has-titlebar-content"},[i("el-col",{staticClass:"h100b",attrs:{span:8}},[i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.createDataTransferCard))]),e._v(" "),i("el-form",{ref:"addFm",attrs:{model:e.addFm,rules:e.rules,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,prop:"number"}},[i("el-input-number",{attrs:{min:1,max:2e3},model:{value:e.addFm.number,callback:function(t){e.$set(e.addFm,"number",t)},expression:"addFm.number"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("addFm","remark")}},model:{value:e.addFm.remark,callback:function(t){e.$set(e.addFm,"remark",t)},expression:"addFm.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)],1)]),e._v(" "),i("el-col",{staticClass:"h100b",attrs:{span:16}},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"main-table"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.history))]),e._v(" "),i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userSearchComp",on:{selected:e.searchUserFn}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:e.lg.aimCustomer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointnumber",label:e.lg.number}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("OPEw")},null,null);t.default=c.exports},"5tBF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r=i("A6oP"),n={props:["deviceid"],data:function(){return{fuelconsumption:0,unit:{},fuelEfficiencyUnit:r.b,isloading:!1,loading:!1}},methods:{submit:function(){var e=this;if(e.checkParams()){e.isloading=!0;var t=Object(a.o)(e.fuelconsumption,"fuelefficiency",e.unit.fuelefficiency),i={deviceid:e.deviceid,fuelconsumption:t};Object(s._164)(i).then(function(t){e.isloading=!1,e.hideDialog(),e.$message({message:lg.updateTarget,type:"success"}),e.$emit("updataCallback",i)}).catch(function(t){e.isloading=!1})}},checkParams:function(){var e=this.fuelconsumption;return""==e?(this.$message.error(lg.fuelconsumptionNull),!1):!(isNaN(e)||e<0)||(this.$message.error(lg.fuelconsumptionFormat),!1)},setData:function(e){e=e||0,this.fuelconsumption=Object(a.c)(e,"fuelefficiency",this.unit.fuelefficiency)},setUnit:function(e){this.unit=e},hideDialog:function(){this.$emit("setVisible",!1)}},mounted:function(){}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"fuel-info pt20"},[i("el-form",{staticClass:"clearfix",attrs:{"label-position":"left"},nativeOn:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.fuelConsumptions}},[i("el-input-number",{attrs:{"controls-position":"right",min:.5,step:1},model:{value:e.fuelconsumption,callback:function(t){e.fuelconsumption=t},expression:"fuelconsumption"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.fuelEfficiencyUnit[e.unit.fuelefficiency]))])],1),e._v(" "),i("div",{staticClass:"submit-box tr pt10",staticStyle:{clear:"both"}},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("RRU+")},null,null);t.default=l.exports},"6LkC":function(e,t){},"6ZSK":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){return{linkFm:{customerid:"",devicetypeid:"",devicetype:"",remark:""},dialogVisible:!1,btnloading:!1}},components:{userTreeSelect:s.default},methods:{setData:function(e){this.linkFm.devicetype=e.devicetype,this.linkFm.devicetypeid=e.devicetypeid},setVisible:function(e){this.dialogVisible=e},setTargetAccount:function(e){this.linkFm.customerid=e.customerid},onSubmit:function(){var e=this;if(!this.linkFm.customerid)return this.$message.error(lg.selectCustomer);var t=this.linkFm;this.btnloading=!0,Object(a._77)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.setVisible(!1)}).catch(function(){e.btnloading=!1})},cancelFn:function(){this.fmReset(),this.setVisible(!1)},fmReset:function(){this.$refs.linkFm.resetFields(),this.$refs.userTreeComp.clearFn()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addOwner,"append-to-body":!0,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"linkFm",attrs:{model:e.linkFm,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.targetType+": "}},[e._v("\n      "+e._s(e.linkFm.devicetype)+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer+": ",required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.setTargetAccount}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.linkFm.remark,callback:function(t){e.$set(e.linkFm,"remark",t)},expression:"linkFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},"6lYA":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("NC6I"),a=i.n(s),r=i("CGzg"),n=i("gyMJ"),o=i("iKHV"),l={props:["dialog"],data:function(){return{deviceid:"",devicename:"-",formData:{newpwd:"",renewpwd:""},btnloading:!1}},components:{passwordStrength:r.default},methods:{setData:function(e){this.deviceid=e.deviceid,this.devicename=e.devicename},clearFn:function(){this.deviceid="",this.devicename="-",this.$refs.fromComp.resetFields()},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(n._162)(t).then(function(t){e.$message.success(lg.success),e.btnloading=!1,e.$emit("hideDialog")}).catch(function(){e.btnloading=!1}),this.countEvent({action:"修改设备密码",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.newpwd),t=this.$trim(this.formData.renewpwd);return""==e?(this.$message.error(lg.newPwdNull),!1):Object(o.i)(e)?""==t?(this.$message.error(lg.inputConfirmPwd),!1):e!=t?(this.$message.error(lg.matchPwdError),!1):{targetid:this.deviceid,type:"device",newpwd:a()(e)}:(this.$message.error(lg.pwdLengthError),!1)},cancel:function(){this.$emit("hideDialog")}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"fromComp",attrs:{model:e.formData,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.name}},[e._v("\n      "+e._s(e.devicename)+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newPwd,required:"",prop:"newpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","newpwd")}},model:{value:e.formData.newpwd,callback:function(t){e.$set(e.formData,"newpwd",t)},expression:"formData.newpwd"}}),e._v(" "),i("passwordStrength",{ref:"passwordStrength",attrs:{pwd:e.formData.newpwd}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rePwd,required:"",prop:"renewpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","renewpwd")}},model:{value:e.formData.renewpwd,callback:function(t){e.$set(e.formData,"renewpwd",t)},expression:"formData.renewpwd"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancel}},[e._v(e._s(e.lg.cancel))]):e._e()],1)],1)],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},"7+PD":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"exportofflinedevice",data:function(){return{exportFm:{customerid:"",fromtime:"",totime:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},btnloading:!1}},components:{userTreeSelect:i("Rpa2").default},methods:{selectedFn:function(e){this.exportFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},onSubmit:function(){if(!this.exportFm.customerid)return this.$message.error(lg.inputTargetCustomer);if(!this.exportFm.fromtime||!this.exportFm.totime)return this.$message.error(lg.inputBeginEndTime);var e=this.exportFm.fromtime,t=this.exportFm.totime+(864e5-1);if(e>t)return this.$message.error(lg.distimeError);window.open("/OutputService?method=outputOfflineCustomerDeviceAllFile&customerid="+this.exportFm.customerid+"&begintime="+e+"&endtime="+t+"&tzOffset="+this.timezoneOffset())}},mounted:function(){}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.exportOfflineDevice))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"exportFm",attrs:{"show-message":!1,model:e.exportFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.from,required:"",prop:"fromtime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.exportFm.fromtime,callback:function(t){e.$set(e.exportFm,"fromtime",t)},expression:"exportFm.fromtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.to,required:"",prop:"totime"}},[i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.exportFm.totime,callback:function(t){e.$set(e.exportFm,"totime",t)},expression:"exportFm.totime"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{staticClass:"download-excel-btn",attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.downloadExcel))])],1)],1)],1)])],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"70WO":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{params:{},loading:!1,records:[]}},methods:{rowClassFn:function(e){var t=e.row;e.rowIndex;return t.isok?"":"table-row-error"},beforeUpload:function(){this.loading=!0},handleUploadSuccess:function(e){this.loading=!1,0==e.errorcode?(this.$message.success(lg.success),this.records=e.records):(this.$message.error(lg[e.errorcode]),this.records=[])},handleUploadError:function(){this.loading=!1,this.records=[]},fmtNull:function(e,t,i){return i||"-"},handleChange:function(){}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pb20"},[i("p",[e._v(e._s(e.lg.imeiAccountUploadTips)+"\n    "),i("a",{staticClass:"link-btn",attrs:{href:"/static/example-import-imei.xls"}},[e._v(e._s(e.lg.fileExample))])]),i("p"),i("div",{},[i("p",{staticClass:"pt20 pb10"},[e._v(e._s(e.lg.poiImportFields)+":")]),e._v(" "),i("ul",{staticClass:"table-cell-list",attrs:{slot:"title"},slot:"title"},[i("li",[i("b",[e._v("IMEI")]),e._v(" - "+e._s(e.lg.required))]),e._v(" "),i("li",[i("b",[e._v("Account")]),e._v(" - "+e._s(e.lg.required)+","+e._s(e.lg.accountFormatError))]),e._v(" "),i("li",[i("b",[e._v("Password")]),e._v(" - "+e._s(e.lg.required)+","+e._s(e.lg.pwdLengthError))])])]),e._v(" "),i("el-upload",{ref:"upload",staticClass:"imei-upload-btn mt20",attrs:{multiple:!1,name:"files",data:e.params,action:"/api2/customer/batch/upload/create","show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleUploadSuccess,"on-change":e.handleChange,"on-error":e.handleUploadError,"auto-upload":!0,accept:".xls,.xlsx,.csv"}},[i("el-button",{staticClass:"blue-btn upload-btn",attrs:{slot:"trigger",loading:e.loading,size:"mini",type:"primary"},slot:"trigger"},[e._v(e._s(e.lg.upload))]),e._v(" "),i("span",{staticClass:"el-upload__tip ml15",attrs:{slot:"tip"},slot:"tip"},[e._v("(XLS, XLSX, maximum size 5 Mb)")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.records.length>0,expression:"records.length > 0"}]},[i("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","row-class-name":e.rowClassFn,data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei,formatter:e.fmtNull}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account,formatter:e.fmtNull}}),e._v(" "),i("el-table-column",{attrs:{prop:"password",label:e.lg.pass,formatter:e.fmtNull}}),e._v(" "),i("el-table-column",{attrs:{prop:"status",label:e.lg.result},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isok?[e._v("\n            "+e._s(e.lg.success)+"\n          ")]:[i("div",{staticClass:"txt-ellipsis"},[e._v(e._s(e.lg.fail+":"+e.lg[t.row.errorcode]))])]]}}])})],1)],1)],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"7A6a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{records:[],total:0,start:0,pagesize:5,loading:!1,showType:"list",detailObj:{},multipleSelection:[]}},components:{detailComp:function(){return i.e(144).then(i.bind(null,"PvY0")).catch()},receiver:function(){return i.e(83).then(i.bind(null,"V1xy")).catch()}},methods:{getList:function(){var e=this;this.loading=!0,Object(s._130)({start:this.start,count:this.pagesize}).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},deleteMsg:function(e){var t=this;this.$confirm(lg.delRecord).then(function(){Object(s._129)({messageids:e.messageid}).then(function(e){t.$message.success(lg.delSuccess),1==t.records.length&&0!=t.start&&(t.start=t.start-t.pagesize),t.getList()}).catch(function(){})}).catch(function(){})},delAll:function(){var e=this;this.$confirm(lg.allDeleteTips).then(function(){Object(s._128)({}).then(function(t){e.$message.success(lg.delSuccess),e.getList()}).catch(function(){})}).catch(function(){})},delSelectMsg:function(){var e=this,t=[];this.multipleSelection.forEach(function(e,i,s){t.push(e.messageid)}),this.$confirm(lg.delRecord).then(function(){Object(s._129)({messageids:t.join(",")}).then(function(t){e.$message.success(lg.delSuccess),e.getList()}).catch(function(){})}).catch(function(){})},showDetailFn:function(e){this.detailObj=e,this.showType="detail",this.$refs.detailComp.setData(e)},showReceiverListFn:function(e){this.showType="receiver",this.$refs.receiver.setData(e.messageid)},backList:function(){this.showType="list",this.detailObj={}},handleSelectionChange:function(e){this.multipleSelection=e},reset:function(){this.showType="list"}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:"list"==e.showType,expression:"showType == 'list'"}]},[i("div",{staticClass:"mb15"},[i("el-button",{attrs:{disabled:0==e.multipleSelection.length},on:{click:e.delSelectMsg}},[e._v(e._s(e.lg.delete))]),e._v(" "),i("el-button",{on:{click:e.delAll}},[e._v(e._s(e.lg.deleteAll))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"message-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,"show-header":!1,stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascript://"},on:{click:function(i){return e.showDetailFn(t.row)}}},[e._v("\n            "+e._s(t.row.content)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascript://",title:"---"+e.lg.sendTo},on:{click:function(i){return e.showReceiverListFn(t.row)}}},[e._v("\n            "+e._s(t.row.receivernum)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",width:"160",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.deleteMsg(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"detail"==e.showType,expression:"showType == 'detail'"}]},[i("div",{staticClass:"mb10"},[i("a",{staticClass:"link-btn",on:{click:e.backList}},[i("i",{staticClass:"back-icon base-icon"}),e._v(e._s(e.lg.back))])]),e._v(" "),i("detailComp",{ref:"detailComp"})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"receiver"==e.showType,expression:"showType == 'receiver'"}]},[i("div",{staticClass:"mb10"},[i("a",{staticClass:"link-btn",on:{click:e.backList}},[i("i",{staticClass:"back-icon base-icon"}),e._v(e._s(e.lg.back))]),e._v(" | "+e._s(e.lg.sendTo)+" :\n    ")]),e._v(" "),i("receiver",{ref:"receiver"})],1)])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("PQkt")},null,null);t.default=n.exports},"7F2V":function(e,t){},"7M+5":function(e,t){},"7NCW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"permission",data:function(){return{searchFm:{type:1,targetcustomerid:"",includesubcustomer:"",deviceinfo:"",starttime:"",endtime:""},records:[],searchParams:{},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},TIME2014:new Date("2014-01-02 00:00:00").getTime(),TIME7Day:6048e5,TIME2099:new Date("2099-12-31 00:00:00").getTime(),total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},selectedFn:function(e){this.searchFm.targetcustomerid=e.customerid},searchFn:function(){this.checkParams()&&(this.start=0,this.searchParams=this.searchFm,this.getList())},checkParams:function(){if(1==this.searchFm.type){if(!this.searchFm.starttime)return this.$message.error(lg.inputStartTime),!1;if(!this.searchFm.endtime)return this.$message.error(lg.inputEndTime),!1;if(this.searchFm.starttime>this.searchFm.endtime)return this.$message.error(lg.distimeError),!1;if(this.searchFm.endtime-this.searchFm.starttime>this.TIME7Day){var e=lg.dateRangeTips.replace("{{num}}",7);return this.$message.error(e),!1}}return!0},setDefaultTime:function(){this.searchFm.starttime=new Date((new Date).getTime()-6048e5).getTime(),this.searchFm.endtime=(new Date).getTime()},resetSearch:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.setDefaultTime(),this.searchFn()},getList:function(){var e=this;this.loading=!0,Object(n._39)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){var a=e.customerinfo;return a.name+"("+a.account+")"},fmtActivationStatus:function(e,t,i,s){return i>this.TIME2014?lg.statusActivation1:lg.statusActivation0},fmtlifeLong:function(e,t,i,s){return this.isActived(e.onlinetime)&&this.isLifeLong(e)?"√":"-"},fmtTime:function(e,t,i,s){return this.isActived(e.onlinetime)?this.utcToLocal(i):"-"},isActived:function(e){return e>this.TIME2014},isLifeLong:function(e){return!!e.lifelong&&(!!this.auth.hasAuth2ModifyPlatformTime||e.plattime>=this.TIME2099)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},viewUser:function(){},onOutput:function(){if(this.checkParams()){var e=["type="+this.searchFm.type,"targetcustomerid="+this.searchFm.targetcustomerid,"includesubcustomer="+this.searchFm.includesubcustomer,"deviceinfo="+this.searchFm.deviceinfo];1==this.searchFm.type&&(e.push("starttime="+this.searchFm.starttime),e.push("endtime="+this.searchFm.endtime)),window.open("/OutputService?method=outputCustomerActivatedDeviceFile&"+e.join("&")+"&tzOffset="+this.timezoneOffset()+"&language="+this.$lang)}},setQuery:function(){var e=this.$route.query;this.searchFm.type=0==e.type?0:1,this.searchFm.targetcustomerid=e.customerid?e.customerid:"",e.account&&this.$refs.userTreeComp.setCustomer(e.account),this.searchFn()}},activated:function(){this.setQuery()},mounted:function(){var e=this;this.$nextTick(function(){e.setDefaultTime(),e.setQuery()})}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.reportactivation)+"\n  ")]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.type,prop:"type"}},[i("el-select",{model:{value:e.searchFm.type,callback:function(t){e.$set(e.searchFm,"type",t)},expression:"searchFm.type"}},[i("el-option",{key:"activatetype-0",attrs:{value:0,label:e.lg.statusActivation0}}),e._v(" "),i("el-option",{key:"activatetype-1",attrs:{value:1,label:e.lg.statusActivation1}})],1)],1),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1==e.searchFm.type,expression:"searchFm.type == 1"}]},[i("el-form-item",{attrs:{label:e.lg.from,prop:"starttime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.searchFm.starttime,callback:function(t){e.$set(e.searchFm,"starttime",t)},expression:"searchFm.starttime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.to,prop:"endtime"}},[i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.searchFm.endtime,callback:function(t){e.$set(e.searchFm,"endtime",t)},expression:"searchFm.endtime"}})],1)],1),e._v(" "),i("br"),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"targetcustomerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:"",prop:"targetcustomerid"}},[i("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.searchFm.includesubcustomer,callback:function(t){e.$set(e.searchFm,"includesubcustomer",t)},expression:"searchFm.includesubcustomer"}},[e._v(e._s(e.lg.containSubcustomer))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.target,prop:"deviceinfo"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"",placeholder:e.lg.nameImeiPlate},model:{value:e.searchFm.deviceinfo,callback:function(t){e.$set(e.searchFm,"deviceinfo",t)},expression:"searchFm.deviceinfo"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearch}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"carnum",label:e.lg.carNum}}),e._v(" "),i("el-table-column",{attrs:{prop:"devicename",label:e.lg.deviceName}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"onlinetime",label:e.lg.statusActivation,formatter:e.fmtActivationStatus}}),e._v(" "),i("el-table-column",{attrs:{prop:"onlinetime",label:e.lg.activationTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"plattime",label:e.lg.platformEnd,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"distributortime",label:e.lg.userEnd,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"lifelong",label:e.lg.lifeLong+"?",formatter:e.fmtlifeLong,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.customer,formatter:e.fmtName},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:e.viewUser}},[e._v(e._s(e.fmtName(t.row)))])]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[e.total?i("a",{staticClass:"excel-btn",on:{click:e.onOutput}},[e._v(e._s(e.lg.downloadExcel))]):e._e()])])],1)])],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},"7Uct":function(e,t){},"7aI2":function(e,t){},"7biW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  Search\n")])},staticRenderFns:[]},a=i("VU/8")({name:"searchComp",data:function(){return{}}},s,!1,null,null,null);t.default=a.exports},"8lLR":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"rolepermissionmanagement",mixins:[i("xpps").a],data:function(){return{permissions:[],roles:[],tableH:200,loading:!1,btnloading:!1}},computed:{auth:function(){return this.$store.state.auth}},methods:{getList:function(){var e=this;this.loading=!0,Object(s._139)().then(function(t){e.permissions=t.record.permissions,e.roles=t.record.roles,e.loading=!1}).catch(function(){e.loading=!1})},onSubmit:function(){var e=this;this.btnloading=!0,Object(s._140)(this.roles,{stringify:!0,headers:{"Content-type":"application/json;charset=UTF-8"}}).then(function(t){e.$message.success(lg.success),e.btnloading=!1}).catch(function(){e.btnloading=!1})},saveRemark:function(e,t){t=this.$trim(t),Object(s._141)({permissionid:e,remark:t}).then(function(e){}).catch(function(){})},setHeight:function(){this.tableH=document.querySelector(".has-titlebar-content").clientHeight-60},resize:function(){this.setHeight()}},mounted:function(){var e=this;this.$nextTick(function(){e.getList(),e.setHeight()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.rolePermissionManagement)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("此处仅为记录作用，无开通/授权作用\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.permissions,stripe:"",height:e.tableH}},[i("el-table-column",{attrs:{prop:"permission",label:e.lg.permission},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.permission)+" "+e._s(t.row.allcustomer?e.lg.allCustomerHasPermission:"")+"\n        ")]}}])}),e._v(" "),e._l(e.roles,function(t){return[i("el-table-column",{attrs:{label:t.role},scopedSlots:e._u([{key:"default",fn:function(s){return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.permissions,expression:"item.permissions"}],attrs:{type:"checkbox"},domProps:{value:s.row.permissionid,checked:Array.isArray(t.permissions)?e._i(t.permissions,s.row.permissionid)>-1:t.permissions},on:{change:function(i){var a=t.permissions,r=i.target,n=!!r.checked;if(Array.isArray(a)){var o=s.row.permissionid,l=e._i(a,o);r.checked?l<0&&e.$set(t,"permissions",a.concat([o])):l>-1&&e.$set(t,"permissions",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"permissions",n)}}})]}}],null,!0)})]}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.remark},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{on:{change:function(i){return e.saveRemark(t.row.permissionid,t.row.remark)}},model:{value:t.row.remark,callback:function(i){e.$set(t.row,"remark",i)},expression:"scope.row.remark"}})]}}])})],2),e._v(" "),i("div",{staticClass:"pt10 pl10"},[i("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.save))])],1)],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"8nrD":function(e,t){},"908k":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("YZ0n"),a={name:"Cropper",components:{VueCropper:s.VueCropper},props:{dialogVisible:{type:Boolean,default:!1},imgType:{type:String,default:"blob"},cropperImg:{type:String,default:""}},data:function(){return{previews:{},option:{img:"",size:1,full:!1,outputType:"png",canMove:!1,fixedBox:!1,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,centerBox:!0,high:!1,enlarge:1,mode:"contain",maxImgSize:1024,limitMinSize:[100,100],infoTrue:!1,fixed:!0,fixedNumber:[1,1]}}},methods:{realTime:function(e){this.previews=e},uploadBth:function(){this.$emit("update-cropper")},handleClose:function(){this.$emit("colse-dialog",!1)},saveImg:function(){var e=this;"blob"===this.imgType?this.$refs.cropper.getCropBlob(function(t){e.$emit("upload-img",t)}):this.$refs.cropper.getCropData(function(t){e.uploadFile=t,e.$emit("upload-img",t)})}},watch:{cropperImg:function(e){e&&"string"==typeof this.cropperImg&&(this.cropperImg=e)}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.$options.name},[i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"dialog-cropper",attrs:{title:e.lg.cropper,visible:e.dialogVisible,width:"620px",modal:!1,"append-to-body":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"cropper-container"},[i("div",{staticClass:"cropper-el"},[i("vue-cropper",{ref:"cropper",attrs:{img:e.cropperImg,"output-size":e.option.size,"output-type":e.option.outputType,info:!0,full:e.option.full,"can-move":e.option.canMove,"can-move-box":e.option.canMoveBox,"fixed-box":e.option.fixedBox,original:e.option.original,"auto-crop":e.option.autoCrop,"auto-crop-width":e.option.autoCropWidth,"auto-crop-height":e.option.autoCropHeight,"center-box":e.option.centerBox,high:e.option.high,"info-true":e.option.infoTrue,enlarge:e.option.enlarge,fixed:e.option.fixed,"fixed-number":e.option.fixedNumber},on:{realTime:e.realTime}})],1),e._v(" "),i("div",{staticClass:"prive-el"},[i("div",{staticClass:"prive-style",style:{width:"200px",height:"200px",overflow:"hidden",margin:"0 25px",display:"flex","align-items":"center"}},[i("div",{staticClass:"preview",style:e.previews.div},[i("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),e._v(" "),e.option.img?i("el-button",{on:{click:e.uploadBth}},[e._v("Reupload")]):e._e()],1)]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.saveImg}},[e._v(e._s(e.lg.save))])],1)])],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("1yxD"),i("GvLR")},"data-v-67e58a93",null);t.default=n.exports},"9P+D":function(e,t){},"9WcZ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("KvKp"),r={props:["source"],mixins:[i("Zlha").a],data:function(){return{chart:null,loading:!1,customerid:"",record:[]}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},computed:{loginId:function(){return this.$store.state.loginId}},methods:{refreshFn:function(){this.chart||this.initChart(),this.getData()},changeCustomerId:function(e){if(this.customerid!=e){this.customerid=e;var t=this;this.findFn("echarts",function(){t.chart||t.initChart(),t.getData()})}},getData:function(){var e=this,t=Object(a.g)(3)[0],i=Object(a.g)(1)[0];Object(s._5)({customerid:this.customerid,startDate:t,endDate:i}).then(function(t){e.loading=!1,e.record=t.record,e.setChartData()}).catch(function(t){e.loading=!1})},setChartData:function(){if(!this.record||0==this.record.length)return this.clearChart();var e=[],t=[],i=[];this.record=this.sortByNumber(this.record,"month","ascending"),this.record.forEach(function(s,a){e.push(s.month),t.push(s.total),i.push(s.expired)}),this.chart.setOption({xAxis:{data:e},series:[{data:t},{data:i}]})},clearChart:function(){this.chart.setOption({xAxis:{data:[]},series:[{data:[]},{data:[]}]})},initChart:function(){document.getElementById("deviceNumChart"+(this.source?this.source:""))&&(this.chart=echarts.init(document.getElementById("deviceNumChart"+(this.source?this.source:""))),this.chart.setOption({tooltip:{trigger:"axis"},color:["#38a0ff","#c23531"],legend:{data:[lg.total,lg.expired]},grid:{left:10,right:60,bottom:5,containLabel:!0},xAxis:{type:"category",name:"Month",data:["July","Aug","Sept"],boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#e8e8e8",width:1,type:"solid"}},axisLabel:{color:"#989898"}},yAxis:{name:lg.number,axisLine:{show:!1,lineStyle:{color:"#999",width:1,type:"solid"}},axisLabel:{color:"#989898"},type:"value",axisTick:{show:!1},lineStyle:{color:"#ddd",width:1,type:"solid"},splitLine:{lineStyle:{color:"#f5f5f5",type:"solid"}}},series:[{name:lg.total,type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#38a0ff"},label:{normal:{show:!0,position:"top"}},data:[]},{name:lg.expired,type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#c23531"},label:{normal:{show:!0,position:"top"}},data:[]}]}))}},mounted:function(){var e=this,t=this;this.$nextTick(function(){t.loading=!0,"undefined"==typeof echarts&&e.loadScript("./static/plugins/echart/echarts.min.js"),e.source||(e.customerid=e.loginId,e.findFn("echarts",function(){t.initChart(),t.getData()}))})}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-num-chart"},[i("h3",{staticClass:"nobg-title"},[e._v(e._s(e.lg.targetNum))]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chart-box"},[i("div",{staticClass:"device-num-box",attrs:{id:"deviceNumChart"+(e.source?e.source:"")}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.record.length,expression:"record.length == 0"}],staticClass:"no-data bg"},[e._v("\n      "+e._s(e.lg.noData)+"\n    ")])])])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("3+P/")},null,null);t.default=o.exports},"9bBU":function(e,t,i){i("mClu");var s=i("FeBl").Object;e.exports=function(e,t,i){return s.defineProperty(e,t,i)}},"9bTi":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,btnloading:!1,userinfo:{},data:[]}},methods:{show:function(){this.dialogVisible=!0},hide:function(){this.dialogVisible=!1},setData:function(e,t){this.userinfo=e,this.data=t},delRow:function(e,t){this.data.splice(t,1)},onSubmit:function(){var e=this,t=this.checkParam();t&&(this.btnloading=!0,Object(s._2)(t).then(function(t){e.$message.success(lg.targerDeleteSuccessTip),e.btnloading=!1,e.hide(),e.$emit("removeSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"虚拟账号批量删除",opt_label:"点击",val:"Dealer2"}))},checkParam:function(){if(!this.userinfo.id)return this.$message.error(lg.selectSuperCustomerNull),!1;if(0==this.data.length)return this.$message.error(lg.targetNull),!1;var e=[];return this.data.forEach(function(t){e.push(t.deviceid)}),{deviceids:e.join(","),customerid:this.userinfo.id}},cancelFn:function(){this.reset(),this.hide()},reset:function(){this.userinfo={},this.data=[]},dialogCloseFn:function(){this.reset()}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchRemove,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"550px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"pb10"},[i("label",[e._v(e._s(e.lg.aimCustomer)+": ")]),e._v(" "),i("el-input",{staticStyle:{width:"240px"},attrs:{value:e.userinfo._name+"("+e.userinfo.account+")",disabled:""}})],1),e._v(" "),i("el-table",{attrs:{data:e.data}},[i("el-table-column",{attrs:{type:"index",label:e.lg.serialNum,width:"45"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"devicename",label:e.lg.targetName}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.delRow(t.row,t.$index)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),i("div",{staticClass:"pt30 tr"},[i("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"9j4I":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={data:function(){var e=this,t={speedthreshold:function(t,i,s){""==(i=e.$trim(i))?s(new Error("Please input speeding value.")):s()},imeis:function(t,i,s){i=e.$trim(i);var a=e.formatImeis(i);""===i?s(new Error(lg.inputImeiError)):a.length>200?s(new Error(lg.maxImeiNum.replace("{num}",200))):s()}};return{dialogVisible:!1,editFm:{speedthreshold:"",imeis:""},btnloading:!1,rules:{speedthreshold:[{required:!0,validator:t.speedthreshold,trigger:"blur"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},methods:{setVisible:function(e){this.dialogVisible=e},show:function(e){this.setVisible(!0),this.editFm.imeis=e},cancelFn:function(){this.setVisible(!1),this.clearData()},clearData:function(){this.$refs.editFm.resetFields()},editSuccess:function(){this.$emit("confirmCallback"),this.setVisible(!1),this.clearData()},confirmData:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s._98)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success+(t.msg?"("+t.msg+")":"")),e.editSuccess()}).catch(function(){e.btnloading=!1}))},checkParams:function(){var e=this.$trim(this.editFm.speedthreshold),t=this.$trim(this.editFm.imeis);if(""==e)return this.$message.error("Please input speeding value."),!1;if(!t)return this.$message.error(lg.inputImeiError),!1;if((t=this.formatImeis(t)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(a.g)(t);return i.rs?{speedthreshold:e,imeis:i.imeis.join(",")}:(this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1)},dialogCloseFn:function(){this.$refs.editFm.resetFields(),this.$refs.userTreeComp.clearFn()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:"Batch edit speed",visible:e.dialogVisible,width:"600px",closed:e.clearData,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"editFm",attrs:{model:e.editFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.confirmData.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.overspeedThreshold,prop:"speedthreshold"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("editFm","speedthreshold")}},model:{value:e.editFm.speedthreshold,callback:function(t){e.$set(e.editFm,"speedthreshold",t)},expression:"editFm.speedthreshold"}}),e._v(" "),i("el-alert",{attrs:{title:"0 means no limit. other(>0) means set the speed threshold.",closable:!1,"show-icon":"",type:"info"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},on:{blur:function(t){return e.trimImeiInput("editFm","imeis")}},model:{value:e.editFm.imeis,callback:function(t){e.$set(e.editFm,"imeis",t)},expression:"editFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",[e._v("One line one IMEI.")]),e._v(" "),i("div",[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("div",{staticClass:"submit-box tr pt20"},[i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.confirm))])],1)],1)],1)])},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},"9pi8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("KvKp"),r=i("jb42"),n={data:function(){return{role:r.a,users:0,lastusers:0,lastDevice:0,devices:{},activationcount:0,inactivatecount:0,rechargedcount:0,importcount:0,expired:0,importpoint:0,zsimportpoint:0,yearrechargepoint:0,zsrechargepoint:0,isloaded:!1}},computed:{auth:function(){return this.$store.state.auth},customerInfo:function(){return this.$store.state.customerInfo},loginId:function(){return this.$store.state.loginId},diffUsers:function(){return this.$store.state.customerInfo.customercount-this.lastusers},diffDevice:function(){return this.$store.state.customerInfo.totaldevicecount-this.lastDevice}},components:{addUserComp:function(){return i.e(93).then(i.bind(null,"S455")).catch()},viewUserComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},passwordComp:function(){return Promise.all([i.e(0),i.e(3)]).then(i.bind(null,"LFw6")).catch()}},methods:{getData:function(){var e=this,t=Object(a.g)(1);this.isloaded=!1,Object(s._37)({customerid:this.loginId,date:t[1]}).then(function(t){e.isloaded=!0,e.lastusers=t.record.customercount,e.lastDevice=t.record.totaldevicecount,e.activationcount=e.customerInfo.totaldevicecount-t.record.inactivatecount,e.inactivatecount=t.record.inactivatecount,e.rechargedcount=t.record.rechargedcount,e.importcount=t.record.importcount}).catch(function(t){e.isloaded=!0})},thisMonth:function(){return this.utcToLocal(new Date).substr(0,7)+"-01"},clearAddCustormer:function(){this.$refs.addUserComp.clearFn()},showAddCustomer:function(){var e=this;e.findObj("addUserComp",e.$refs,function(){e.$refs.addUserComp.setVisible(!0),e.$refs.addUserComp.setData(e.customerInfo.id,e.customerInfo.name)})},showEdit:function(){var e=this;e.findObj("viewUserComp",e.$refs,function(){e.$refs.viewUserComp.setVisible(!0),e.$refs.viewUserComp.getInfo(e.customerInfo.id)})},showPass:function(){this.$refs.passwordComp.setVisible(!0)},refreshFn:function(){this.$store.dispatch("getProfileData").then(function(e){}).catch(function(e){}),this.getData(),this.$emit("refreshFn")},linkReportActiviation:function(){}},mounted:function(){this.getData()}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dashboard-user clearfix"},[i("div",{staticClass:"item"},[i("div",{staticClass:"item-content user-box bg"},[i("div",{staticClass:"item-title"},[e._v(e._s(e.customerInfo.name))]),e._v(" "),i("div",{staticClass:"item-user-info"},[i("div",{staticClass:"user-num"},[i("span",{staticClass:"num-title mr5"},[e._v(e._s(e.lg.customers))]),e._v(" "),i("router-link",{staticClass:"link-line-hover link-line",attrs:{to:"/business?treeLevel=1"}},[i("span",{staticClass:"total-user"},[e._v(e._s(e.customerInfo.customercount))])]),e._v(" "),e.isloaded&&e.diffUsers?i("span",{staticClass:"total-user-new"},[i("i",{class:e.diffUsers>0?"el-icon-top":"el-icon-bottom"}),e._v(e._s(e.diffUsers))]):e._e(),e._v(" "),e.isloaded&&e.diffUsers?i("el-tooltip",{attrs:{content:e.lg.from+":"+e.thisMonth(),placement:"top"}},[i("i",{staticClass:"el-icon-info"})]):e._e()],1)]),e._v(" "),i("div",{staticClass:"option-box clearfix"},[i("div",{staticClass:"option-item fl",on:{click:e.showAddCustomer}},[i("i",{staticClass:"option-icon base-icon add-user-white-icon"}),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.add))])]),e._v(" "),i("div",{staticClass:"option-item fl",on:{click:e.showEdit}},[i("i",{staticClass:"option-icon base-icon edit-blod-white-icon"}),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.edit))])]),e._v(" "),i("div",{staticClass:"option-item fl",on:{click:e.showPass}},[i("i",{staticClass:"option-icon base-icon key-white-icon"}),e._v(" "),i("p",{staticClass:"option-desc"},[e._v(e._s(e.lg.pass))])])]),e._v(" "),i("el-tooltip",{attrs:{content:e.lg.refresh,"popper-class":"ds-refresh-tip",placement:"top"}},[i("el-button",{staticClass:"el-icon-refresh link-hover ds-refresh-btn",on:{click:e.refreshFn}})],1)],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content device-box bg"},[i("div",{staticClass:"item-title mr5"},[i("router-link",{staticClass:"link-hover ds-title-link",attrs:{to:"/business?treeLevel=1"}},[e._v("\n        "+e._s(e.lg.targetNum)+"\n        ")])],1),e._v(" "),i("div",{staticClass:"item-device-info"},[i("span",{staticClass:"num-title"},[e._v(e._s(e.lg.targetTotal))]),e._v(" "),i("router-link",{staticClass:"link-line-hover link-line",attrs:{to:"/business?treeLevel=1"}},[i("span",{staticClass:"device-total"},[e._v(e._s(e.customerInfo.totaldevicecount))])]),e._v(" "),e.isloaded&&e.diffDevice?i("span",{staticClass:"device-total-new"},[i("i",{class:e.diffDevice>0?"el-icon-top":"el-icon-bottom"}),e._v(e._s(e.diffDevice))]):e._e(),e._v(" "),e.isloaded&&e.diffDevice?i("el-tooltip",{attrs:{content:e.lg.from+":"+e.thisMonth(),placement:"top"}},[i("i",{staticClass:"el-icon-info"})]):e._e()],1),e._v(" "),i("div",{staticClass:"device-option option-box clearfix"},[i("div",{staticClass:"option-item fl"},[i("b",{staticClass:"option-num"},[e._v(e._s(e.importcount))]),e._v(" "),i("p",{staticClass:"option-desc"},[e._v("\n            "+e._s(e.lg.imported)+"\n            "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                信息说明(内部) - 导入："),i("br"),e._v("\n                累计导入："+e._s(e.importcount)+"个设备"),i("br"),e._v("\n                （包括：子客户的导入）"),i("br"),e._v("\n                （不包括：上级转入，卖入等）\n              ")])])],1)]),e._v(" "),i("div",{staticClass:"option-item fl"},[i("b",{staticClass:"option-num"},[i("router-link",{attrs:{to:"/reportactivation?type=1"}},[e._v(e._s(e.activationcount))]),e._v(" /\n          "),i("router-link",{attrs:{to:"/reportactivation?type=0"}},[e._v(e._s(e.inactivatecount))])],1),e._v(" "),i("p",{staticClass:"option-desc"},[i("span",[e._v("\n               "+e._s(e.lg.activation)+" /\n              "),"zh-cn"!=e.lg.lang?i("br"):e._e(),e._v("\n               "+e._s(e.lg.unactivated)+"\n            ")]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                信息说明(内部) - 激活："),i("br"),e._v("\n                "+e._s(e.customerInfo.totaldevicecount)+"个设备里"),i("br"),e._v("\n                累计激活："+e._s(e.activationcount)+"个"),i("br"),e._v("\n                未激活："+e._s(e.inactivatecount)+"个(1小时统计一次)"),i("br"),e._v("\n                （包括：子客户）"),i("br"),i("br"),e._v("\n                （激活的设备 可能在"+e._s(e.customerInfo.totaldevicecount)+"个设备里，"),i("br"),e._v("也可能已经转走/卖走）\n              ")])])],1)]),e._v(" "),i("div",{staticClass:"option-item fl"},[i("b",{staticClass:"option-num"},[e._v(e._s(e.rechargedcount))]),e._v(" "),i("p",{staticClass:"option-desc"},[e._v("\n            "+e._s(e.lg.recharged)+"\n            "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                信息说明(内部) - 续费："),i("br"),e._v("\n                累计续费"+e._s(e.rechargedcount)+"次"),i("br"),e._v("\n                （包括：子客户）"),i("br"),i("br"),e._v("\n                （续费的设备 可能在"+e._s(e.customerInfo.totaldevicecount)+"个设备里，"),i("br"),e._v("也可能已经转走/卖走）\n              ")])])],1)]),e._v(" "),i("div",{staticClass:"option-item fl mr0"},[i("b",{staticClass:"option-num"},[i("router-link",{attrs:{to:"/business?treeLevel=2"}},[e._v(e._s(e.customerInfo.expiredcount))])],1),e._v(" "),i("p",{staticClass:"option-desc"},[e._v("\n            "+e._s(e.lg.expiration)+"\n            "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                信息说明(内部) - 过期："),i("br"),e._v("\n                "+e._s(e.customerInfo.totaldevicecount)+"个设备里"),i("br"),e._v("\n                当前为过期状态的有"+e._s(e.customerInfo.expiredcount)+"个设备"),i("br"),e._v("\n                （包括：子客户）\n              ")])])],1)])]),e._v(" "),i("el-tooltip",{attrs:{content:e.lg.refresh,"popper-class":"ds-refresh-tip",placement:"top"}},[i("el-button",{staticClass:"el-icon-refresh ds-refresh-btn link-hover",on:{click:e.refreshFn}})],1)],1)]),e._v(" "),i("div",{staticClass:"item box-balance pr0"},[i("div",{staticClass:"item-content balance-box bg"},[i("div",{staticClass:"item-title"},[i("router-link",{staticClass:"link-hover ds-title-link",attrs:{to:"/balance"}},[e._v("\n        "+e._s(e.lg.balance)+"\n        ")])],1),e._v(" "),i("div",{staticClass:"balance-content-box fl"},[e.customerInfo.importpoint>-1?i("div",{staticClass:"balance-num-item"},[i("router-link",{staticClass:"link-line-hover link-line ds-title-link",attrs:{to:"/cardhistory?type=1"}},[i("b",{staticClass:"balance-num"},[e._v(e._s(e.customerInfo.importpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.newCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n            "+e._s(e.lg.newCard)+"\n          ")],1)],1):e._e(),e._v(" "),i("div",{staticClass:"balance-num-item mt20"},[i("router-link",{staticClass:"link-line-hover link-line ds-title-link",attrs:{to:"/cardhistory?type=2"}},[i("b",{staticClass:"balance-num"},[e._v(e._s(e.customerInfo.monthpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.annualCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n            "+e._s(e.lg.annualCard)+"\n          ")],1)],1)]),e._v(" "),i("div",{staticClass:"balance-content-box fl"},[e.customerInfo.zsimportpoint>-1?i("div",{staticClass:"balance-num-item"},[i("router-link",{staticClass:"link-line-hover link-line ds-title-link",attrs:{to:"/cardhistory?type=4"}},[i("b",{staticClass:"balance-num"},[e._v(e._s(e.customerInfo.zsimportpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.newCardLifelongTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v(" "),i("span",{attrs:{title:e.lg.newCardLifelong}},[e._v(e._s(e.lg.newCardLifelong))])],1)],1):e._e(),e._v(" "),i("div",{staticClass:"balance-num-item mt20"},[i("router-link",{staticClass:"link-line-hover link-line ds-title-link",attrs:{to:"/cardhistory?type=3"}},[i("b",{staticClass:"balance-num"},[e._v(e._s(e.customerInfo.lifelongpoint))])]),e._v(" "),i("p",{staticClass:"balance-desc"},[i("el-tooltip",{attrs:{content:e.lg.lifeLongCardTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("\n            "+e._s(e.lg.lifeLongCard)+"\n          ")],1)],1)]),e._v(" "),i("el-tooltip",{attrs:{content:e.lg.refresh,"popper-class":"ds-refresh-tip",placement:"top"}},[i("el-button",{staticClass:"el-icon-refresh link-hover ds-refresh-btn",on:{click:e.refreshFn}})],1)],1)]),e._v(" "),i("addUserComp",{ref:"addUserComp"}),e._v(" "),i("viewUserComp",{ref:"viewUserComp",attrs:{title:"profile"}}),e._v(" "),i("passwordComp",{ref:"passwordComp"})],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("CdiY")},null,null);t.default=l.exports},"9reP":function(e,t){},"9tOI":function(e,t){},"9vHO":function(e,t){},"9xlb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={data:function(){return{imei:"",loading:!1,dialogVisible:!1,record:[]}},methods:{searchIMEI:function(){var e=this,t=this.$trim(this.imei);if(this.imei=this.$trim(this.imei),!Object(a.h)(t))return this.$message.error(lg.inputImeiLast5);this.loading=!0,Object(s._47)({imei:t}).then(function(t){e.loading=!1,e.record=t.records,t.records.length>1?e.dialogVisible=!0:1==t.records.length?e.$emit("imeiChecked",t.records[0]):e.$emit("imeiChecked",{})}).catch(function(t){e.loading=!1})},rowClick:function(e,t,i){this.$emit("imeiChecked",e),this.imei=e.imei,this.dialogVisible=!1},resetFm:function(){this.imei=""},clearFn:function(){this.record=[]}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-input",{attrs:{placeholder:e.lg.imei},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchIMEI.apply(null,arguments)}},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}},[i("el-button",{attrs:{slot:"append",loading:e.loading,icon:"el-icon-search"},on:{click:e.searchIMEI},slot:"append"})],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.imei,visible:e.dialogVisible,width:"500px",closed:e.clearFn,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-table",{attrs:{data:e.record},on:{"row-click":e.rowClick}},[i("el-table-column",{attrs:{width:"35"},scopedSlots:e._u([{key:"header",fn:function(e){return[i("span")]}},{key:"default",fn:function(e){return[i("el-checkbox")]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"150",property:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{width:"100",property:"devicetype",label:e.lg.targetType}}),e._v(" "),i("el-table-column",{attrs:{width:"150",label:e.lg.membershipCustomer},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[e._v(e._s(t.row.customername))])]}}])})],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},"9zM5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"rolepermission",mixins:[i("xpps").a],data:function(){return{permissions:[],tableH:200,roles:[],loading:!1}},methods:{getList:function(){var e=this;this.loading=!0,Object(s._139)().then(function(t){e.permissions=t.record.permissions,e.roles=t.record.roles,e.loading=!1}).catch(function(){e.loading=!1})},setHeight:function(){this.tableH=document.querySelector(".has-titlebar-content").clientHeight},resize:function(){this.setHeight()}},mounted:function(){var e=this;this.$nextTick(function(){e.getList(),e.setHeight()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.rolePermission))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.permissions,height:e.tableH,stripe:""}},[i("el-table-column",{attrs:{prop:"permission",label:e.lg.permission},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.permission)+" "+e._s(t.row.allcustomer?e.lg.allCustomerHasPermission:"")+"\n      ")]}}])}),e._v(" "),e._l(e.roles,function(t){return[i("el-table-column",{attrs:{label:t.role},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v("\n          "+e._s(t.permissions.includes(i.row.permissionid)?"√":"-")+"\n        ")]}}],null,!0)})]}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],2)],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},A6oP:function(e,t,i){"use strict";i.d(t,"e",function(){return s}),i.d(t,"c",function(){return a}),i.d(t,"a",function(){return r}),i.d(t,"d",function(){return n}),i.d(t,"b",function(){return o});var s=[{value:-720,label:"UTC-12:00"},{value:-660,label:"UTC-11:00"},{value:-600,label:"UTC-10:00"},{value:-570,label:"UTC-09:30"},{value:-540,label:"UTC-09:00"},{value:-480,label:"UTC-08:00"},{value:-420,label:"UTC-07:00"},{value:-360,label:"UTC-06:00"},{value:-300,label:"UTC-05:00"},{value:-270,label:"UTC-04:30"},{value:-240,label:"UTC-04:00"},{value:-210,label:"UTC-03:30"},{value:-180,label:"UTC-03:00"},{value:-120,label:"UTC-02:00"},{value:-60,label:"UTC-01:00"},{value:0,label:"UTC+00:00"},{value:60,label:"UTC+01:00"},{value:120,label:"UTC+02:00"},{value:180,label:"UTC+03:00"},{value:210,label:"UTC+03:30"},{value:240,label:"UTC+04:00"},{value:270,label:"UTC+04:30"},{value:300,label:"UTC+05:00"},{value:330,label:"UTC+05:30"},{value:345,label:"UTC+05:45"},{value:360,label:"UTC+06:00"},{value:390,label:"UTC+06:30"},{value:420,label:"UTC+07:00"},{value:480,label:"UTC+08:00"},{value:510,label:"UTC+08:30"},{value:525,label:"UTC+08:45"},{value:540,label:"UTC+09:00"},{value:570,label:"UTC+09:30"},{value:600,label:"UTC+10:00"},{value:630,label:"UTC+10:30"},{value:660,label:"UTC+11:00"},{value:720,label:"UTC+12:00"},{value:765,label:"UTC+12:45"},{value:780,label:"UTC+13:00"},{value:840,label:"UTC+14:00"}],a=(lg.km,lg.mile,["",lg.kPerH,lg.milePerH]),r=(lg.psiUnit,lg.barUnit,lg.kpaUnit,["",lg.fuelUnit,lg.usGalUnit,lg.ukGalUnit]),n=["",lg.celsiusUnit,lg.fahrenheitUnit],o=["",lg["100fuelUnit"],lg.usGalEfficiencyUnit,lg.ukGalEfficiencyUnit]},ACk0:function(e,t){},AbrE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("VU/8")({created:function(){var e=this.$route,t=e.params,i=e.query,s=t.path;this.$router.replace({path:"/"+s,query:i})},render:function(e){return e()}},null,!1,null,null,null);t.default=s.exports},AwON:function(e,t){},BB7o:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"tlc",data:function(){return{}},components:{transferDataList:i("Lu3L").default},methods:{},mounted:function(){}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("transferDataList",{attrs:{transfertype:6}})},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},BHdU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"saleslist",data:function(){return{searchFm:{customerid:""},records:[],searchParams:{},loading:!1}},components:{userTreeSelect:r.default,couponComp:function(){return i.e(7).then(i.bind(null,"Inv4")).catch()}},methods:{indexMethod:function(e){return e+1},selectedFn:function(e){this.searchFm.customerid=e.customerid,e.customerid||this.searchFn()},searchFn:function(){this.start=0,this.searchParams={},this.searchFm.customerid&&(this.searchParams={customerid:this.searchFm.customerid}),this.getList()},getList:function(){var e=this;this.loading=!0,Object(n.P)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.loading=!1}).catch(function(){e.loading=!1})},fmReset:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.getList()},showCustomerCoupon:function(e,t){this.$refs.couponComp.setVisible(!0,!1),this.$refs.couponComp.getList(e),this.$refs.couponComp.setActiveTab(t)}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.couponManagement))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page",staticStyle:{"padding-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.customerName}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.total},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showCustomerCoupon(t.row.customerid,"all")}}},[e._v(e._s(t.row.totalcount))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.statusUnused},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showCustomerCoupon(t.row.customerid,"unused")}}},[e._v(e._s(t.row.unusedcount))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.used},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showCustomerCoupon(t.row.customerid,"used")}}},[e._v(e._s(t.row.usedcount))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.expired},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showCustomerCoupon(t.row.customerid,"expired")}}},[e._v(e._s(t.row.expiredcount))])]}}])})],1)],1)]),e._v(" "),i("couponComp",{ref:"couponComp"})],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},BO1k:function(e,t,i){e.exports={default:i("fxRn"),__esModule:!0}},BR7J:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"message-dialog",attrs:{title:e.lg.userManual,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"wrap-manaul"},[i("div",{staticClass:"mb15"}),e._v(" "),i("div",{staticClass:"main"},[i("ul",[i("li",[i("a",{attrs:{href:"/help/manaual-business.pdf",target:"_blank"}},[i("i"),e._v(" [PDF] Downlaod Business Manaual")])]),e._v(" "),i("li",[i("a",{attrs:{href:"/help/manaual-monitor.pdf",target:"_blank"}},[i("i"),e._v(" [PDF] Downlaod Monitor Manaual")])])])])])])},staticRenderFns:[]};var a=i("VU/8")({data:function(){return{dialogVisible:!1,records:[],total:0,start:0,pagesize:5,loading:!1,multipleSelection:[]}},components:{},methods:{setVisible:function(e){this.dialogVisible=e},dialogCloseFn:function(){}}},s,!1,function(e){i("9reP")},null,null);t.default=a.exports},BV5N:function(e,t){},BXoL:function(e,t){},"BbY/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"factory",data:function(){return{records:[],total:0,start:0,pagesize:15,pagesizes:[15,20,30,50],loading:!1}},components:{factoryTestAdd:i("ZkYP").default},methods:{indexMethod:function(e){return this.start+(e+1)},reloadList:function(){this.start=0,this.total=0,this.getList()},getList:function(){var e=this;this.loading=!0,Object(s._23)({start:this.start,pagecount:this.pagesize}).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},showAdd:function(){this.$refs.addComp.setVisible(!0)}},mounted:function(){this.getList()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-factorytest h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.inspectionFactory))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("div",{staticClass:"pt15 pb15"},[i("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v("添加")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:"编号",width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"batch",label:"批次"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imeicount",label:"IMEI 数量"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:"上传时间",formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),i("el-table-column",{attrs:{label:"下载测试结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",attrs:{href:"/download/factorytest/result?batchid="+t.row.batchid}},[e._v("下载")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),i("factoryTestAdd",{ref:"addComp",on:{reloadList:e.reloadList}})],1)])],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},Bh0a:function(e,t){},"Bl+L":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("pFYg"),a=i.n(s),r=i("mtWM"),n=i.n(r),o=i("908k"),l={name:"UploadImg",props:{targetUrl:{type:String,default:"/api2/device/vehicle/picture/upload"},initThumbnailurl:{default:""},initOriginalurl:{default:""},deviceid:{default:""},binaryName:{default:"files"}},components:{Cropper:o.default},data:function(){return{uploadData:{deviceid:"",fileName:""},action:"/api2/device/vehicle/picture/upload",cropperImg:"",showCropper:!1,uploadFile:"",thumbnailurl:"",originalurl:"",cancelTokenFn:null}},methods:{httpRequest:function(e){var t=this,i=e.action,s=e.data,a=e.filename,r=new FormData;for(var o in s)r.append(o,s[o]);r.append(a,this.uploadFile,s.fileName);var l=this,c=n.a.create({withCredentials:!0}),u=n.a.CancelToken;this.cancelTokenFn&&this.cancelTokenFn(),this.cancelTokenFn=null;c.post(i,r,{cancelToken:new u(function(e){l.cancelTokenFn=e})}).then(function(e){var i=e.data;0===i.errorcode?(t.$message.success(lg.uploadSuccess),t.thumbnailurl=i.thumbnailurl,t.originalurl=i.vehiclepicture||i.originalurl,t.$emit("setData",i),t.closeDialog()):t.$message.error(lg[i.errorcode]||"error")}).catch(function(e){console.log(e)})},selectChange:function(e){var t=e.raw,i=e.name;this.openCropper(t),this.uploadData.fileName=i},openCropper:function(e){var t=this,i=e;if(i.size>1<<20)return this.$message.error(lg.maxImgSize.replace("{{num}}","(<1MB)")||"Picture limit exceeded. (<1MB)"),!1;var s=!1,r=!1;switch(/\.((jpg)|(jpeg)|(gif)|(png))$/i.test(e.name)&&(s=!0),e.type){case"image/png":case"image/jpeg":case"image/gif":r=!0;break;default:r=!1}if(!s||!r)return this.$message.error(lg[20074]+"(JPG/PNG/GIF,<1MB)"),!1;var n=new FileReader;n.onload=function(e){var i=void 0;i="object"===a()(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,t.cropperImg=i},n.readAsArrayBuffer(i),this.showCropper=!0},uploadImg:function(e){this.uploadFile=e,this.$refs.fileUpload.submit()},updateCropper:function(){this.$refs.fileUpload.$children[0].$el.click()},closeDialog:function(){this.showCropper=!1},setData:function(e){e.deviceid&&(this.uploadData.deviceid=e.deviceid),e.targetUrl&&(this.action=e.targetUrl),this.originalurl=e.originalurl,this.thumbnailurl=e.thumbnailurl}},mounted:function(){"string"==typeof this.initThumbnailurl&&(this.thumbnailurl=this.initThumbnailurl),this.originalurl=this.initOriginalurl,this.uploadData.deviceid=this.deviceid,this.action=this.targetUrl},watch:{thumbnailurl:function(e){this.thumbnailurl=e},deviceid:function(e){e&&(this.uploadData.deviceid=e)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"imgUploader",class:e.$options.name},[i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!e.thumbnailurl,expression:"!thumbnailurl"}],ref:"fileUpload",attrs:{accept:".jpg,.png,.gif",name:e.binaryName,multiple:!1,action:e.action,data:e.uploadData,"on-change":e.selectChange,"show-file-list":!1,"auto-upload":!1,"http-request":e.httpRequest}},[i("div",[i("span",{staticClass:"bg edit-no-img"})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.thumbnailurl,expression:"thumbnailurl"}],staticClass:"result-img"},[i("a",{attrs:{href:e.originalurl,target:"_blank"}},[i("img",{staticClass:"thumbnail",attrs:{src:e.thumbnailurl}})]),e._v(" "),i("i",{staticClass:"w30 h30 bg pa editimg",on:{click:e.updateCropper}})]),e._v(" "),e.showCropper?i("cropper",{ref:"cropperComp",attrs:{"dialog-visible":e.showCropper,"cropper-img":e.cropperImg},on:{"update-cropper":e.updateCropper,"colse-dialog":e.closeDialog,"upload-img":e.uploadImg}}):e._e()],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("b9BO")},"data-v-2124323e",null);t.default=u.exports},BpT4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["deviceid"],data:function(){return{isloading:!1,labelPosition:"top",data:{},pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},upLoadData:{deviceid:""},fileList:[],data_tmp:{},installtime:""}},methods:{getDetail:function(){var e=this;this.deviceid&&Object(s._42)({deviceid:this.deviceid}).then(function(t){e.setData(t.record)}).catch(function(e){})},setData:function(e){this.data=e,this.installtime=e.installtime?e.installtime:"",this.upLoadData.deviceid=e.deviceid,this.setImageData(e.installimages)},setImageData:function(e){for(var t=[],i=0;i<e.length;i++)t[i]={name:"image-"+i,url:e[i].thumbnailimage,originalurl:e[i].installimage};this.fileList=t},handleUploadBefore:function(e){return this.checkImage(e)},checkImage:function(e){if(e.size>1<<20)return this.$message.error(lg.maxImgSize.replace("{{num}}","(<1MB)")||"Picture limit exceeded. (<1MB)"),!1;var t=!1,i=!1;switch(/\.((jpg)|(jpeg)|(gif)|(png))$/i.test(e.name)&&(t=!0),e.type){case"image/png":case"image/jpeg":case"image/gif":i=!0;break;default:i=!1}return t&&i?void 0:(this.$message.error(lg[20074]+"(JPG/PNG/GIF,<1MB)"),!1)},handleUploadSuccess:function(e,t,i){0==e.errorcode||(i.pop(),this.handleRemoveImage(t,i),this.$message.error(lg[e.errorcode]||e.msg))},handleUploadError:function(e,t,i){},handleUploadexceed:function(e,t){this.$message.error(lg[20081])},handleRemoveImage:function(e,t){this.fileList=t;var i=e.originalurl||e.response.originalurl;if(!i)return!1;Object(s._4)({deviceid:this.deviceid,imageurl:i}).then(function(e){}).catch(function(e){})},handlePictureCardPreview:function(e){var t=e.originalurl||e.response.originalurl;window.open(t)},editInstall:function(){var e=this;this.data.installtime=this.installtime?this.installtime:0,e.checkParams()&&(this.isloading=!0,Object(s._12)(this.data).then(function(t){e.isloading=!1,e.hideDialog(),e.$message({message:lg.success,type:"success",duration:1500})}).catch(function(t){e.isloading=!1}),this.countEvent({action:"安装信息",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.data;return""!=e.installpersonnel&&e.installpersonnel.length>256?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.installPerson).replace("{{num}}",256)),!1):""!=e.installcompany&&e.installcompany.length>256?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.installCompany).replace("{{num}}",256)),!1):""!=e.installposition&&e.installposition.length>256?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.installPosition).replace("{{num}}",256)),!1):""!=e.installaddress&&e.installaddress.length>256?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.installAddress).replace("{{num}}",256)),!1):!(""!=e.remark&&e.remark.length>1e3)||(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.remark).replace("{{num}}",1e3)),!1)},setDeviceId:function(e){this.deviceid=e},hideDialog:function(){this.$emit("setVisible",!1)}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"deviceInstall pt20"},[i("el-form",{ref:"",staticClass:"clearfix",attrs:{"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.editInstall.apply(null,arguments)}}},[i("div",{staticClass:"ft-cont",staticStyle:{"min-height":"200px"}},[i("el-form-item",{attrs:{label:e.lg.installPerson+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","installpersonnel")}},model:{value:e.data.installpersonnel,callback:function(t){e.$set(e.data,"installpersonnel",t)},expression:"data.installpersonnel"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.installTime+":"}},[i("el-date-picker",{staticClass:"time-box",staticStyle:{width:"100%"},attrs:{type:"date","value-format":"timestamp","prefix-icon":"time-icon",align:"right",clearable:!1,"picker-options":e.pickerOption},model:{value:e.installtime,callback:function(t){e.installtime=t},expression:"installtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.installCompany+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","installcompany")}},model:{value:e.data.installcompany,callback:function(t){e.$set(e.data,"installcompany",t)},expression:"data.installcompany"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.installPosition+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","installposition")}},model:{value:e.data.installposition,callback:function(t){e.$set(e.data,"installposition",t)},expression:"data.installposition"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.installAddress+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","installaddress")}},model:{value:e.data.installaddress,callback:function(t){e.$set(e.data,"installaddress",t)},expression:"data.installaddress"}})],1),e._v(" "),i("el-form-item",{staticStyle:{width:"100%","margin-left":"0"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.lg.installImage)+":\n          "),i("el-tooltip",{staticClass:"item",attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("JPG/PNG/GIF, <1MB")]),e._v(" "),i("span",{staticClass:"el-icon-info"})])],1),e._v(" "),i("el-upload",{staticClass:"imgr-upload",attrs:{action:"/DataService?method=uploadInstallationPicture","list-type":"picture-card",data:e.upLoadData,accept:".jpg,.png,.gif",name:"originalimage",limit:6,multiple:!1,"file-list":e.fileList,"on-success":e.handleUploadSuccess,"before-upload":e.handleUploadBefore,"on-error":e.handleUploadError,"on-exceed":e.handleUploadexceed,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemoveImage}},[i("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.lg.remark+":"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.data.remark,callback:function(t){e.$set(e.data,"remark",t)},expression:"data.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"submit-box tr cb"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)])],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("eSl4")},null,null);t.default=n.exports},Bu48:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("NC6I"),a=i.n(s),r=i("gyMJ"),n=i("CGzg"),o=i("iKHV"),l={data:function(){return{dialogVisible:!1,formData:{deviceid:"",account:"",passwd:"",name:"",contact:"",mobile:"",telephone:"",email:"",address:""},btnloading:!1,showSuccess:!1}},components:{passwordStrength:n.default},methods:{setData:function(e){this.formData.account=e.imei,this.formData.passwd=e.imei.substr(e.imei.length-6,e.imei.length),this.formData.name=e.devicename,this.formData.deviceid=e.deviceid},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(r.Q)(t).then(function(t){e.showCreateSuccess(),e.btnloading=!1}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"创建设备账号",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.account),t=this.$trim(this.formData.name),i=this.$trim(this.formData.contact),s=this.$trim(this.formData.mobile),r=this.$trim(this.formData.telephone),n=this.$trim(this.formData.email),l=this.$trim(this.formData.address),c=this.$trim(this.formData.passwd);return e?Object(o.d)(e)?c?Object(o.i)(c)?t?t.length>o.a?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.customerName).replace("{{num}}",o.a)),!1):i&&i.length>o.m?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.contact).replace("{{num}}",o.m)),!1):s&&!Object(o.l)(s)?(this.$message.error(lg.phoneNumberError),!1):n&&!Object(o.k)(n)?(this.$message.error(lg.emailFormatError),!1):l&&l.length>o.b?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.address).replace("{{num}}",o.b)),!1):{deviceid:this.formData.deviceid,account:e,name:t,passwd:a()(c),contact:i,mobile:s,telephone:r,email:n,address:l}:(this.$message.error(lg.customerNameNull),!1):(this.$message.error(lg.pwdLengthError),!1):(this.$message.error(lg.inputPwd),!1):(this.$message.error(lg.accountFormatError),!1):(this.$message.error(lg.accountNull),!1)},showCreateSuccess:function(){this.showSuccess=!0},dialogCloseFn:function(){this.$refs.formComp.resetFields(),this.showSuccess=!1}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-device-account-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showSuccess,expression:"!showSuccess"}]},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.changeImeiTips,closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.createAccountTips.replace("{num}",200)))])])],2),e._v(" "),i("el-form",{ref:"formComp",staticClass:"half-from clearfix",attrs:{"label-position":"top",model:e.formData,"label-width":"200px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("div",[i("el-form-item",{attrs:{label:e.lg.account,required:"",prop:"account"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","account")}},model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account",t)},expression:"formData.account"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.customerName,required:"",prop:"name"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","name")}},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{required:"",prop:"passwd"}},[i("template",{slot:"label"},[e._v("\n            "+e._s(e.lg.pass)+"\n            "),i("el-tooltip",{attrs:{content:e.lg.defualtImeiPwd,placement:"right"}},[i("i",{staticClass:"el-icon-info"})])],1),e._v(" "),i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","passwd")}},model:{value:e.formData.passwd,callback:function(t){e.$set(e.formData,"passwd",t)},expression:"formData.passwd"}}),e._v(" "),i("passwordStrength",{attrs:{pwd:e.formData.passwd}})],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.contact,prop:"contact"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","contact")}},model:{value:e.formData.contact,callback:function(t){e.$set(e.formData,"contact",t)},expression:"formData.contact"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.mobile,prop:"mobile"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","mobile")}},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.tel,prop:"telephone"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","telephone")}},model:{value:e.formData.telephone,callback:function(t){e.$set(e.formData,"telephone",t)},expression:"formData.telephone"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.email,prop:"email"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","email")}},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:e.lg.address,prop:"address"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","address")}},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1)],1),e._v(" "),i("div",{staticClass:"submit-box tr"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))])],1)])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuccess,expression:"showSuccess"}],staticClass:"success-box"},[i("i",{staticClass:"ico ico-ok"}),e._v(" "),i("label",[e._v(e._s(e.lg.account)+": ")]),i("span",[e._v(e._s(e.$trim(e.formData.account)))]),e._v(" "),i("label",{staticClass:"ml30"},[e._v(e._s(e.lg.pass)+": ")]),i("span",[e._v("******")]),e._v(" "),i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.copy,expression:"lg.copy"}],staticClass:"el-icon-copy-document copy-btn ml10 create-device-account-copy",attrs:{"data-clipboard-text":e.lg.account+": "+e.$trim(e.formData.account)+","+e.lg.pass+": "+e.$trim(e.formData.passwd)},on:{click:function(t){return e.copyFn(".create-device-account-copy")}}})])])},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("ACk0")},null,null);t.default=u.exports},Bzy5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"storingimeidatalist",data:function(){return{searchFm:{customerid:"",imei:""},storageArr:["",lg.ayear,lg.twoYear],records:[],total:0,start:0,currentPage:1,pagesize:10,pagesizes:[10,15,20,30,50],searchParams:{},loading:!1}},components:{userTreeSelect:r.default},methods:{selectedFn:function(e){this.searchFm.customerid=e.customerid},indexMethod:function(e){return this.start+(e+1)},searchFn:function(){this.start=0;var e=this.$trim(this.searchFm.imei);if(e.length>0&&e.length<5)return this.$message.error(lg.inputImeiLast5);this.searchParams={targetuserid:this.searchFm.customerid,imei:e},this.getList()},resetSearchFm:function(){console.log(123),this.start=0,this.currentPage=1,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._136)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},fmtType:function(e,t,i,s){return this.storageArr[i]||"-"},fmtCustomer:function(e,t,i,s){return e.targetusername+"("+e.targetuseraccount+")"},fmtDueTo:function(e,t,i,s){return e.expiretime>0?this.utcToLocal(e.expiretime).substr(0,10):lg.targetUnactivated},fmtTime:function(e,t,i,s){return this.utcToLocal(i)||"-"}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.storingImeiDataList))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",staticClass:"block-searchbar",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,prop:"imei"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","imei")}},model:{value:e.searchFm.imei,callback:function(t){e.$set(e.searchFm,"imei",t)},expression:"searchFm.imei"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearchFm}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"storagetype",label:e.lg.type,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{prop:"targetusername",label:e.lg.aimCustomer,formatter:e.fmtCustomer}}),e._v(" "),i("el-table-column",{attrs:{prop:"expiretime",label:e.lg.dueTo,formatter:e.fmtDueTo}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,"current-page":e.currentPage,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}):e._e()],1)])],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},CGzg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["pwd"],name:"passwordStrength",data:function(){return{pwdLevel:0}},computed:{checkStrength:function(){if(!this.pwd)return 0;var e=new RegExp("^(?=.{8,})(?=.*[A-Za-z])(?=.*[0-9])(?=.*\\W).*$","g"),t=new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|(?=.*[0-9])(?=.*\\W)|(?=.*[A-Za-z])(?=.*\\W)|((?=.*[a-z])(?=.*[0-9]))).*$","g"),i=new RegExp("(?=.{6,}).*","g");return e.test(this.pwd)?"pwd-level-3":t.test(this.pwd)?"pwd-level-2":i.test(this.pwd)?"pwd-level-1":"pwd-level-0"}},methods:{}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pwd-strength"},[t("span",{class:this.checkStrength})])},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("O6a9")},null,null);t.default=r.exports},CNbB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"mono",data:function(){return{}},components:{transferDataList:i("Lu3L").default},methods:{},mounted:function(){}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("transferDataList",{attrs:{transfertype:8}})},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},CZxx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("Glw6"),r=i("gyMJ"),n=i("KvKp"),o=i("iKHV"),l={props:["dialog"],data:function(){return{formData:{customerid:"",distributortime:(new Date).setFullYear((new Date).getFullYear()+1),imeis:""},btnloading:!1}},components:{userTreeSelect:s.default,imeiListComp:a.default},methods:{setCustomer:function(e,t){this.formData.customerid=e,this.$refs.userSelectComp.setCustomer(t)},setData:function(e){this.formData.imeis=e.join("\n"),this.formData.distributortime=(new Date).setFullYear((new Date).getFullYear()+1)},userSelected:function(e){this.formData.customerid=e.customerid},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.formData.imeis)},setImeis:function(e){this.formData.imeis=e?e.join("\n"):""},onSubmit:function(){var e=this,t=this.checkParams();if(t){this.btnloading=!0;var i=Object(n.e)(this.formData.imeis);Object(r.C)(t).then(function(s){e.$message.success(lg.sellTargerSuccess+"("+lg.success+":"+t.imeis.split(",").length+(i.length>0?", "+lg.repeated+":"+i.length:"")+")"),e.btnloading=!1,0==i.length&&e.reset(),e.$emit("sellSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"批量销售",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){if(!this.formData.customerid)return this.$message.error(lg.selectSuperCustomerNull),!1;if(!this.formData.distributortime)return this.$message.error(lg.platformEndError),!1;var e=this.$trim(this.formData.imeis);if(!e)return this.$message.error(lg.inputImeiError),!1;if((e=this.formatImeis(e)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var t=Object(o.g)(e);if(!t.rs)return this.$message.error(lg[20053]+"("+t.imeis[t.imeis.length-1]+")"),!1;var i=Object(o.n)(1,this.formData.distributortime).endTime;return{customerid:this.formData.customerid,distributortime:i,imeis:t.imeis.join(",")}},cancelFn:function(){this.$emit("hideDialog")},reset:function(){this.formData.customerid="",this.$refs.formComp.resetFields(),this.$refs.userSelectComp.clearFn()}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",attrs:{"label-position":"right","show-message":!1,model:e.formData,"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("userTreeSelect",{ref:"userSelectComp",staticStyle:{width:"264px"},on:{selected:e.userSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.userEnd,required:"",prop:"distributortime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp"},model:{value:e.formData.distributortime,callback:function(t){e.$set(e.formData,"distributortime",t)},expression:"formData.distributortime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"220px"},attrs:{type:"textarea",rows:4,placeholder:e.lg.oneImeiOneLine},on:{blur:function(t){return e.trimImeiInput("formData","imeis")}},model:{value:e.formData.imeis,callback:function(t){e.$set(e.formData,"imeis",t)},expression:"formData.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.reset}},[e._v(e._s(e.lg.reset))])],1)],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},CdiY:function(e,t){},"D+iQ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"checkwhitelist",data:function(){return{validFm:{imeis:""},checkType:"",recordsWhitelist:[],recordsPlatform:[],btnLoadingWhitelist:!1,btnLoadingPlatform:!1,loadingWhitelist:!1,loadingPlatform:!1,notInWhitelist:"",oPlatform:{"-1":lg.noSuchIMEI,0:lg.notInBlackList,1:"Protrack",2:"Itrack/SWD",3:"ProtrackAsia"},hasDataWhiteList:!1}},computed:{auth:function(){return this.$store.state.auth}},methods:{checkWhitelistFn:function(){var e=this;this.checkType="whitelist";var t=this.checkParams();t&&(this.loadingWhitelist=!0,this.btnLoadingWhitelist=!0,Object(s.N)(t).then(function(t){e.btnLoadingWhitelist=!1,e.loadingWhitelist=!1,e.recordsWhitelist=t.record,e.hasDataWhiteList=t.record.length>0,e.setImeiNotInWhitelist()}).catch(function(t){e.btnLoadingWhitelist=!1,e.loadingWhitelist=!0}))},checkPlatformFn:function(){var e=this;this.checkType="platform";var t=this.checkParams();t&&(this.loadingPlatform=!0,this.btnLoadingPlatform=!0,Object(s.M)(t).then(function(t){e.btnLoadingPlatform=!1,e.loadingPlatform=!1,e.recordsPlatform=t.record}).catch(function(t){e.btnLoadingPlatform=!1,e.loadingPlatform=!0}))},checkParams:function(){var e=this.$trim(this.validFm.imeis);if(""==e)return this.$message.error(lg.inputImeiError),!1;for(var t=this.formatImeis(e),i=[],s=/(^\d{7,15}$)/,a=0;a<t.length;a++){var r=t[a].trim();if(i.push(r),!s.test(r))return this.$message.error(r+":"+lg[20053]),!1}return{imeis:i.join(",")}},setImeiNotInWhitelist:function(){for(var e,t=[],i=0;i<this.recordsWhitelist.length;i++)1*(e=this.recordsWhitelist[i]).type<0&&t.push(e.imei);this.notInWhitelist=t.join(",")},fmtInWhitelist:function(e,t,i,s){return 1*i>0?"Y":"N"},fmtPlatform:function(e,t,i,s){return this.oPlatform[i]},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.whitelistValidate)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      【页面说明】"),i("br"),e._v("\n      · 检测IMEI是否在白名单中"),i("br"),e._v("\n      · 查询IMEI所属平台"),i("br"),e._v("\n      其它："),i("br"),e._v("\n      当一个IMEI在两个平台上都存在时，"),i("br"),e._v("\n      会以两条记录的形式来展现。\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-alert",{staticClass:"tips-page",attrs:{closable:!1,"show-icon":"",type:"info",title:"Verify whether the IMEI is in the Whitelist / Check which Platform the IMEI belongs to."}}),e._v(" "),i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"validFm",attrs:{model:e.validFm,"show-message":!1}},[i("el-form-item",{attrs:{label:e.lg.whitelistValidate,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",rows:6},on:{blur:function(t){return e.trimImeiInput("validFm","imeis")}},model:{value:e.validFm.imeis,callback:function(t){e.$set(e.validFm,"imeis",t)},expression:"validFm.imeis"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary",loading:e.btnLoadingWhitelist},on:{click:e.checkWhitelistFn}},[e._v(e._s(e.lg.whitelist))]),e._v(" "),i("el-button",{attrs:{loading:e.btnLoadingPlatform},on:{click:e.checkPlatformFn}},[e._v(e._s(e.lg.platform))])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"whitelist"==e.checkType,expression:"checkType=='whitelist'"}]},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingWhitelist,expression:"loadingWhitelist"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.recordsWhitelist,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:"IMEI",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:e.lg.whitelist+"?",formatter:e.fmtInWhitelist}}),e._v(" "),i("el-table-column",{attrs:{prop:"addlistTime",label:e.lg.addlistTime,formatter:e.fmtTime,width:"160"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasDataWhiteList&&e.notInWhitelist.length>0,expression:"hasDataWhiteList && notInWhitelist.length > 0"}],staticClass:"pt10 pb10 tc"},[i("el-button",{staticClass:"copy-not-whitelist",attrs:{plain:"","data-clipboard-text":e.notInWhitelist},on:{click:function(t){return e.copyFn(".copy-not-whitelist")}}},[e._v(e._s(e.lg.copyNotWhitelistImei))])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"platform"==e.checkType,expression:"checkType=='platform'"}]},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingPlatform,expression:"loadingPlatform"}],staticStyle:{width:"100%"},attrs:{data:e.recordsPlatform,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:"IMEI",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:e.lg.platform,formatter:e.fmtPlatform}}),e._v(" "),i("el-table-column",{attrs:{prop:"importTime",label:e.lg.importTime,formatter:e.fmtTime,width:"160"}})],1)],1)],1)],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"D/H3":function(e,t){},DCCZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"importwhitelist",data:function(){return{importFm:{devicetype:"",imeis:"",ourplatform:"1",remark:""},modelArr:[],btnLoading:!1}},methods:{getModelData:function(){var e=this;Object(s._9)({}).then(function(t){e.modelArr=t.ourtype}).catch(function(e){})},submitFn:function(){var e=this,t=this.checkParams();t&&(this.btnLoading=!0,Object(s._72)(t).then(function(t){e.btnLoading=!1,t.total==t.successnum?e.$message.success(lg.importDeviceAllSuccess.replace("{total}",t.total)):e.$message({type:"success",duration:0,showClose:!0,dangerouslyUseHTMLString:!0,message:lg.importDeviceErrorTips.replace("{total}",t.total).replace("{exist}",t.existnum).replace("{success}",t.successnum).replace("{msg}",t.msg)}),e.resetFm()}).catch(function(t){e.btnLoading=!1}))},resetFm:function(){this.$refs.importFm.resetFields()},checkParams:function(){var e=this.$trim(this.importFm.imeis);if(!this.importFm.devicetype)return this.$message.error(lg.selectTargetType),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;for(var t=this.formatImeis(e),i=[],s=/(^\d{7,15}$)/,a=0;a<t.length;a++){var r=this.$trim(t[a]);if(i.push(r),!s.test(r))return this.$message.error(r+":"+lg[20053]),!1}return{devicetype:this.importFm.devicetype,imeis:i.join(","),ourplatform:this.importFm.ourplatform,remark:this.importFm.remark}}},mounted:function(){this.getModelData()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.importWhitelist))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"importFm",attrs:{"show-message":!1,model:e.importFm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.targetType,required:"",prop:"devicetype"}},[i("el-select",{model:{value:e.importFm.devicetype,callback:function(t){e.$set(e.importFm,"devicetype",t)},expression:"importFm.devicetype"}},e._l(e.modelArr,function(e){return i("el-option",{key:e.devicetype,attrs:{label:e.devicetype,value:e.devicetype}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",rows:6},on:{blur:function(t){return e.trimImeiInput("importFm","imeis")}},model:{value:e.importFm.imeis,callback:function(t){e.$set(e.importFm,"imeis",t)},expression:"importFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.oneImeiOneLine))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.usePlatform,prop:"ourplatform"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.importFm.ourplatform,callback:function(t){e.$set(e.importFm,"ourplatform",t)},expression:"importFm.ourplatform"}},[e._v(e._s(e.lg.yes))]),e._v(" "),i("el-radio",{attrs:{label:"0"},model:{value:e.importFm.ourplatform,callback:function(t){e.$set(e.importFm,"ourplatform",t)},expression:"importFm.ourplatform"}},[e._v(e._s(e.lg.no))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("importFm","remark")}},model:{value:e.importFm.remark,callback:function(t){e.$set(e.importFm,"remark",t)},expression:"importFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},DFbo:function(e,t){},DReV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("pFYg"),a=i.n(s),r=i("mtWM"),n=i.n(r),o=i("908k"),l={name:"UploadImg",props:{targetUrl:{type:String,default:"/api2/customer/portrait/upload"},initThumbnailurl:{default:""},initOriginalurl:{default:""},customerid:{default:""},binaryName:{default:"files"}},components:{Cropper:o.default},data:function(){return{uploadData:{customerid:"",fileName:""},action:"/api2/customer/portrait/upload",cropperImg:"",showCropper:!1,uploadFile:"",thumbnailurl:"",originalurl:"",cancelTokenFn:null,imgUploadTips:"JPG/PNG/GIF, <1MB"}},methods:{httpRequest:function(e){var t=this,i=e.action,s=e.data,a=e.filename,r=new FormData;for(var o in s)r.append(o,s[o]);r.append(a,this.uploadFile,s.fileName);var l=this,c=n.a.create({withCredentials:!0}),u=n.a.CancelToken;this.cancelTokenFn&&this.cancelTokenFn(),this.cancelTokenFn=null;c.post(i,r,{cancelToken:new u(function(e){l.cancelTokenFn=e})}).then(function(e){var i=e.data;0===i.errorcode?(t.$message.success(lg.uploadSuccess),t.thumbnailurl=i.thumbnailportrait,t.originalurl=i.portrait,t.$emit("setData",i),t.closeDialog()):t.$message.error(lg[i.errorcode]||"error")}).catch(function(e){console.log(e)})},selectChange:function(e){var t=e.raw,i=e.name;this.openCropper(t),this.uploadData.fileName=i},openCropper:function(e){var t=this,i=e;if(i.size>1<<20)return this.$message.error(lg.maxImgSize.replace("{{num}}","(<1MB)")||"Picture limit exceeded. (<1MB)"),!1;var s=!1,r=!1;switch(/\.((jpg)|(jpeg)|(gif)|(png))$/i.test(e.name)&&(s=!0),e.type){case"image/png":case"image/jpeg":case"image/gif":r=!0;break;default:r=!1}if(!s||!r)return this.$message.error(lg[20074]+"(JPG/PNG/GIF,<1MB)"),!1;var n=new FileReader;n.onload=function(e){var i=void 0;i="object"===a()(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,t.cropperImg=i},n.readAsArrayBuffer(i),this.showCropper=!0},uploadImg:function(e){this.uploadFile=e,this.$refs.fileUpload.submit()},updateCropper:function(){this.$refs.fileUpload.$children[0].$el.click()},closeDialog:function(){this.showCropper=!1},setData:function(e){e.customerid&&(this.uploadData.customerid=e.customerid),e.targetUrl&&(this.action=e.targetUrl),this.thumbnailurl=e.thumbnailurl,this.originalurl=e.originalurl}},mounted:function(){"string"==typeof this.initThumbnailurl&&(this.thumbnailurl=this.initThumbnailurl),this.originalurl=this.initOriginalurl,this.uploadData.customerid=this.customerid,this.action=this.targetUrl},watch:{thumbnailurl:function(e){this.thumbnailurl=e},customerid:function(e){e&&(this.uploadData.customerid=e)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"imgUploader",class:e.$options.name},[i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!e.thumbnailurl,expression:"!thumbnailurl"}],ref:"fileUpload",attrs:{accept:".jpg,.png,.gif",name:e.binaryName,multiple:!1,action:e.action,data:e.uploadData,"on-change":e.selectChange,"show-file-list":!1,"auto-upload":!1,"http-request":e.httpRequest}},[i("div",[i("span",{staticClass:"bg edit-no-img"})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.thumbnailurl,expression:"thumbnailurl"}],staticClass:"result-img"},[i("a",{attrs:{href:e.originalurl,target:"_blank"}},[i("img",{staticClass:"thumbnail",attrs:{src:e.thumbnailurl}})]),e._v(" "),i("i",{staticClass:"w30 h30 bg pa editimg",on:{click:e.updateCropper}})]),e._v(" "),i("el-tooltip",{attrs:{content:e.imgUploadTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v(" "),e.showCropper?i("cropper",{ref:"cropperComp",attrs:{"dialog-visible":e.showCropper,"cropper-img":e.cropperImg},on:{"update-cropper":e.updateCropper,"colse-dialog":e.closeDialog,"upload-img":e.uploadImg}}):e._e()],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("9tOI")},"data-v-09f912b6",null);t.default=u.exports},DbQS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("FPo1"),o=i("MvQr"),l=i("vFeZ"),c=i("gyMJ"),u={name:"apikey",data:function(){return{searchFm:{customerid:""},functions:[],loginId:this.$store.state.customerInfo.id,typeArr:["","Geocoding API","Maps JavaScript API"],records:[],searchParams:{},loading:!1,filterType:"1"}},computed:{auth:function(){return this.$store.state.auth},fitlerList:function(){var e=this;return this.records.filter(function(t){return t.keytype==e.filterType})}},components:{userTreeSelect:r.default,addComp:n.default,userComp:o.default,functionComp:l.default},methods:{indexMethod:function(e){return e+1},selectedFn:function(e){this.searchFm.customerid=e.customerid},searchFn:function(){this.searchParams=this.searchFm,this.getList()},resetSearch:function(){this.searchParams={},this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.getList()},getList:function(){var e=this;this.loading=!0,Object(c._30)(a()({},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.functions=t.functionslist}).catch(function(){e.loading=!1})},fmtStatus:function(e,t,i,s){return"0"==e.keystatus?lg.normal:"OVER_QUERY_LIMIT"==e.keystatusdescription?lg.overLimit:lg.invalid},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},showAdd:function(){this.$refs.addComp.setVisible(!0),this.$refs.addComp.setKeyType(this.filterType)},addSuccess:function(){this.getList()},showUsers:function(e){this.$refs.userComp.setVisible(!0),this.$refs.userComp.getData(e.googleapikeyid)},changeStatus:function(e){var t=this;this.$confirm("1"==e.usagestatus?lg.googleKeyStop:lg.googleKeyOpen).then(function(){Object(c._158)({googleapikeyid:e.googleapikeyid}).then(function(i){t.$message.success(lg.success),e.usagestatus="1"==e.usagestatus?"0":"1"}).catch(function(){})}).catch(function(){})},formatterKey:function(e,t){return"***************"+e.googleapikey.substr(e.googleapikey.length-5)},formatterApiStatus:function(e,t){return"0"==e.keystatus?lg.normal:e.keystatusdescription},formatterType:function(e,t){return this.typeArr[e.keytype]},deleteKey:function(e,t){var i=this;this.$confirm(lg.delRecord).then(function(){Object(c.p)({googleapikeyid:e.googleapikeyid}).then(function(e){i.$message.success(lg.success),i.records.splice(t,1)}).catch(function(){})}).catch(function(){})},showFunctions:function(e){this.$refs.functionsComp.show(),this.$refs.functionsComp.setData(e)},getUseUrl:function(e){return"1"==e?"/help/googleApi.jsp?dealer=1":"/help/googleApiJavascript.jsp?dealer=1"},refresh:function(){this.getList()}},mounted:function(){this.getList()}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-googleKey h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.googleApiKey))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-tabs",{staticClass:"pl15",model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}},[i("el-tab-pane",{attrs:{label:e.typeArr[1],name:"1"}}),e._v(" "),i("el-tab-pane",{attrs:{label:e.typeArr[2],name:"2"}})],1),e._v(" "),i("div",{staticClass:"pl15 pr15"},[i("el-alert",{staticClass:"tips-page",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v(e._s("1"==e.filterType?e.lg.googleApiTips:e.lg.googleMapApiTips))]),e._v(" "),i("div",{staticClass:"limitTips"},[i("a",{staticClass:"link ico-link",attrs:{href:"https://cloud.google.com/maps-platform/pricing/sheet/",target:"_blank"}},[e._v(e._s(e.lg.googlePriceLink))])])])],2)],1),e._v(" "),i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{prop:"customerid"}},[i("template",{slot:"label"},[i("label",[e._v(e._s(e.lg.aimCustomer))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              一 能查看："),i("br"),e._v("\n              1.看自己的："),i("br"),e._v("\n              · 默认显示登录用户自己创建的key"),i("br"),e._v("\n              · 和使用的key(上级分配过来的)；"),i("br"),e._v("\n              2.看客户的：只能查看到“我”分配给下级的"),i("br"),i("br"),e._v("\n\n              二 不能看到："),i("br"),e._v("\n              3 不能看到：客户自己添加的key\n            ")])])],1),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],2),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{staticClass:"search-btn-fm",on:{click:e.resetSearch}},[e._v(e._s(e.lg.reset))])],1),e._v(" "),i("div",{staticClass:"fr"},[i("a",{staticClass:"link-btn ico-link",attrs:{href:e.getUseUrl(e.filterType),target:"_blank"}},[e._v(e._s(e.lg.createKeyHelp))]),e._v(" "),i("el-button",{staticClass:"form-new-btn",attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.addKey))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.fitlerList,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"googleapikey",label:e.lg.key}}),e._v(" "),i("el-table-column",{attrs:{prop:"keytype",label:e.lg.type,formatter:e.formatterType}}),e._v(" "),i("el-table-column",{attrs:{prop:"keystatus",label:e.lg.keyStatus,formatter:e.fmtStatus},scopedSlots:e._u([{key:"default",fn:function(t){return["2"==t.row.keytype&&t.row.operatorid==e.loginId?i("p",[i("a",{staticClass:"link",attrs:{href:"/help/testmap.html?key="+t.row.googleapikey,target:"_blank"}},[e._v("\n            "+e._s(e.lg.test))])]):i("p",[e._v("\n            "+e._s(e.formatterApiStatus(t.row))+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.status},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0",disabled:""},nativeOn:{click:function(i){return e.changeStatus(t.row)}},model:{value:t.row.usagestatus,callback:function(i){e.$set(t.row,"usagestatus",i)},expression:"scope.row.usagestatus"}}),e._v(" "+e._s("1"==t.row.usagestatus?e.lg.available:e.lg.unavailable)+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"tools"},[t.row.own?[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showUsers(t.row)}}},[e._v(e._s(e.lg.users))]),e._v(" |\n            ")]:e._e(),e._v(" "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.showFunctions(t.row,t.$index)}}},[e._v(e._s(e.lg.functions))]),e._v(" |\n            "),t.row.own?[i("a",{staticClass:"link-btn",on:{click:function(i){return e.deleteKey(t.row,t.$index)}}},[e._v(e._s(e.lg.delete))])]:e._e()],2)]}}])})],1),e._v(" "),i("addComp",{ref:"addComp",on:{addSuccess:e.addSuccess}}),e._v(" "),i("userComp",{ref:"userComp"}),e._v(" "),i("functionComp",{ref:"functionsComp",attrs:{functions:e.functions},on:{successCB:e.refresh}})],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(u,m,!1,function(e){i("rk0T")},null,null);t.default=d.exports},Di9D:function(e,t){},EJsQ:function(e,t){},EOjH:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s=new(i("7+uW").default)},"ER+x":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"adduser",data:function(){return{}},computed:{customerInfo:function(){return this.$store.state.customerInfo}},components:{addComp:i("Z8T2").default,settingComp:function(){return i.e(4).then(i.bind(null,"PSis")).catch()}},methods:{showSetTemplate:function(){var e=this.customerInfo.id;this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(e,!0,"setTemplate")}},mounted:function(){var e=this;this.customerid=this.customerInfo.id,this.$nextTick(function(){e.$refs.addComp.init(e.customerInfo.id,e.customerInfo.name)})}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-user-page h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.addCustomer)+"\n    "),i("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.setTemplateTips,align:"rightBottom"},expression:"{txt:lg.setTemplateTips,align:'rightBottom'}"}],staticClass:"set-template",attrs:{href:"javascript://"},on:{click:e.showSetTemplate}},[i("i",{staticClass:"option-btn base-icon set-icon"}),e._v(" "+e._s(e.lg.setTemplate)+"\n    ")]),e._v(" "),i("span",{staticStyle:{color:"#aaa"}},[e._v("("+e._s(e.lg.setTemplateTips)+")")])]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("addComp",{ref:"addComp"})],1),e._v(" "),i("settingComp",{ref:"settingComp",attrs:{sence:"setTemplate"}})],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("uX+y")},null,null);t.default=r.exports},EW63:function(e,t){},Eaf0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pt10 search-moreaction"},[i("div",{staticClass:"row"},[e.auth_function.permissionmanagement?i("el-button",{on:{click:e.show_permission}},[e._v(e._s(e.lg.permissionAdmin))]):e._e(),e._v(" "),e.auth_function.reviewcustomerapply?i("el-button",{on:{click:e.show_reviewcustomerapply}},[e._v(e._s(e.lg.reviewCustomerApply))]):e._e(),e._v(" "),e.auth_function.translationauthorize?i("el-button",{on:{click:e.show_translationauth}},[e._v(e._s(e.lg.translationAuthorize))]):e._e()],1),e._v(" "),i("div",{staticClass:"row"},[e.auth_function.customerinfo?i("el-button",{on:{click:e.show_customerinfo}},[e._v(e._s(e.lg.customerInfo))]):e._e(),e._v(" "),e.auth_function.quotas?i("el-button",{on:{click:e.show_quotas}},[e._v(e._s(e.lg.quotas))]):e._e()],1),e._v(" "),i("div",{staticClass:"row"},[e.auth_function.operationHistory?i("el-button",{on:{click:e.show_operationhistory}},[e._v(e._s(e.lg.operationHistory))]):e._e(),e._v(" "),e.auth_function.blockcustomerdevice?i("el-button",{on:{click:e.show_blockCustomerDevice}},[e._v(e._s(e.lg.blockCustomerDevice))]):e._e()],1)])},staticRenderFns:[]};var a=i("VU/8")({data:function(){return{data:{}}},computed:{auth_function:function(){return this.$store.state.functions||{}}},methods:{show_permission:function(){this.$router.push({path:"/permission",query:this.data})},show_reviewcustomerapply:function(){this.$router.push({path:"/reviewcustomerapply",query:this.data})},show_translationauth:function(){this.$router.push({path:"/translationauth",query:this.data})},show_operationhistory:function(){this.$router.push({path:"/operationhistory",query:this.data})},show_customerinfo:function(){this.$router.push({path:"/customerinfo",query:this.data})},show_quotas:function(){this.$router.push({path:"/quotas",query:this.data})},show_blockCustomerDevice:function(){this.$router.push({path:"/blockcustomerdevice",query:this.data})},setData:function(e){this.data=e}}},s,!1,function(e){i("5B3p")},null,null);t.default=a.exports},Ek5U:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("eInf"),r=i("VV4h"),n={data:function(){return{reocrds:[],visible:!1,loading:!1}},components:{imeiDetail:a.default,membership:r.default},methods:{showDialog:function(e){e&&(this.visible=!0,this.getData(e))},getData:function(e){var t=this;this.loading=!0,Object(s._134)({imeis:e}).then(function(e){t.loading=!1,t.reocrds=e.record}).catch(function(e){t.loading=!1})},formatterDealer:function(e){return e.dealername+"("+e.dealeraccount+")"},showMembership:function(e){this.$refs.membershipComp.setVisible(!0),this.$refs.membershipComp.getRelationship(e.customerid)}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.membershipCustomer,modal:!0,visible:e.visible,width:"700px","append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.reocrds,"max-height":"500"}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{property:"imei",label:e.lg.imei},scopedSlots:e._u([{key:"default",fn:function(e){return[i("imeiDetail",{attrs:{record:{deviceid:e.row.deviceid,imei:e.row.imei}}})]}}])}),e._v(" "),i("el-table-column",{attrs:{property:"devicetype",label:e.lg.targetType}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.membershipCustomer},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.customerid?[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showMembership(t.row)}}},[e._v(e._s(t.row.customername+"("+t.row.customeraccount+")"))])]:[e._v("\n          "+e._s(t.row.customername+"("+t.row.customeraccount+")")+"\n        ")]]}}])}),e._v(" "),i("el-table-column",{attrs:{property:"dealername",label:e.lg.gradeDealer,formatter:e.formatterDealer}})],1),e._v(" "),i("membership",{ref:"membershipComp"})],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},EpMq:function(e,t){},FPo1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){return{showadd:!1,fmData:{customerid:"",key:"",maptype:1},typeArr:["","Geocoding API","Maps JavaScript API"],agreeCheck:!1,btnloading:!1}},components:{userTreeSelect:s.default},methods:{selectedFn:function(e){this.fmData.customerid=e.customerid},setVisible:function(e){this.showadd=e},dialogCloseFn:function(){this.$refs.addFrom.resetFields(),this.$refs.userTreeComp.clearFn()},addKey:function(){var e=this,t=this.$trim(this.fmData.key);return this.fmData.customerid?t?this.agreeCheck?(this.btnloading=!0,Object(a.f)({customerids:this.fmData.customerid,keytype:this.fmData.maptype,googleapikey:t}).then(function(t){e.$message.success(lg.success),e.showadd=!1,e.btnloading=!1,e.$emit("addSuccess")}).catch(function(t){e.btnloading=!1}),void this.countEvent({action:"添加google key",opt_label:"点击",val:"Dealer2"})):(this.$message.error(lg.acceptService),!1):(this.$message.error(lg.googleKeyNotNull),!1):(this.$message.error(lg.selectCustomer),!1)},setKeyType:function(e){this.fmData.maptype=+e}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{visible:e.showadd,"append-to-body":!0,modal:!0,"show-close":!0,width:"520px"},on:{"update:visible":function(t){e.showadd=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"dialog-title-box dialog-title-icon dialog_key_icon",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.lg.add))]),e._v(" "),i("el-alert",{staticClass:"tips-page",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("\n        "+e._s(e.lg.googleSecureTips)+"\n        "),i("br"),e._v(" "),i("a",{staticClass:"link ico-link",attrs:{href:"1"==e.fmData.maptype?"/help/googleApi.jsp?dealer=1":"/help/googleApiJavascript.jsp?dealer=1",target:"_blank"}},[e._v(e._s(e.lg.createKeyHelp))])])])],2),e._v(" "),i("el-form",{ref:"addFrom",attrs:{"label-position":"top","show-message":!1,model:e.fmData},nativeOn:{submit:function(t){return t.preventDefault(),e.addKey.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": ",required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{staticClass:"mb5",attrs:{label:e.lg.key+":",required:"",prop:"key"}},[i("el-input",{attrs:{type:"input"},on:{blur:function(t){return e.$trimFn("fmData","key")}},model:{value:e.fmData.key,callback:function(t){e.$set(e.fmData,"key",t)},expression:"fmData.key"}})],1),e._v(" "),i("el-form-item",{staticClass:"mb5",attrs:{label:e.lg.type+":",required:"",prop:"maptype"}},[i("div",[i("el-radio",{attrs:{label:1},model:{value:e.fmData.maptype,callback:function(t){e.$set(e.fmData,"maptype",t)},expression:"fmData.maptype"}},[e._v(e._s(e.lg.addressServices)+"("+e._s(e.typeArr[1])+")")]),e._v(" "),i("el-radio",{attrs:{label:2},model:{value:e.fmData.maptype,callback:function(t){e.$set(e.fmData,"maptype",t)},expression:"fmData.maptype"}},[e._v(e._s(e.lg.googleMap)+"("+e._s(e.typeArr[2])+")")])],1)]),e._v(" "),i("el-form-item",[i("div",[i("el-checkbox",{model:{value:e.agreeCheck,callback:function(t){e.agreeCheck=t},expression:"agreeCheck"}},[e._v(e._s(e.lg.agreeTips))]),e._v(" "),i("a",{staticClass:"link",attrs:{href:"/help/trial.jsp",target:"_blank"}},[e._v(e._s(e.lg.googleApiService))])],1)]),e._v(" "),i("el-form-item",{staticClass:"pt10 tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:function(t){e.showadd=!1}}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("YNP1")},null,null);t.default=o.exports},FT4W:function(e,t){},FauR:function(e,t){},Glw6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=(i("iKHV"),i("VV4h")),r=i("eInf"),n=i("sQMB"),o=i("KvKp"),l={data:function(){return{filter:"0",visible:!1,loading:!1,imeiComp:null,repeatImei:[],reocrds:[]}},components:{membership:a.default,imeiDetail:r.default,platformComp:n.default},computed:{normalNum:function(){return this.reocrds.filter(function(e){return e.isok}).length},errorNum:function(){return this.reocrds.filter(function(e){return!e.isok}).length},repeatData:function(){},repeatNum:function(){return this.repeatImei.length},filterData:function(){var e=this;return"0"==this.filter?this.reocrds:"1"==this.filter?this.reocrds.filter(function(e){return e.isok}):"2"==this.filter?this.reocrds.filter(function(e){return!e.isok}):"3"==this.filter?this.reocrds.filter(function(t){return e.inArray(e.repeatImei,t.imei)}):void 0}},methods:{checkClick:function(){this.$emit("getImeis")},rowClassFn:function(e){var t=e.row;e.rowIndex;return t.isok?"":"table-row-error"},beforeDestroy:function(){this.imeiComp=null},setRepeatData:function(e){if(e){var t=[],i=[];(e=e.replaceAll("\n",",").split(",")).forEach(function(e){-1!=t.indexOf(e)?i.push(e):t.push(e)}),this.repeatImei=i}},getImeisInfoData:function(e){var t=this;e&&(e=this.$trim(e),this.setRepeatData(e),e=this.formatImeis(e),this.loading=!0,Object(s._49)({imeis:e.join(",")}).then(function(e){t.visible=!t.visible,t.reocrds=e.records,t.loading=!1}).catch(function(e){t.loading=!1}))},showFn:function(){Object(o.k)(document,"click",this.handleDocumentClick)},handleDocumentClick:function(e){this.imeiComp&&this.imeiComp.$el.contains(e.target)||this.$refs.membershipComp&&this.$refs.membershipComp.$el.contains(e.target)||(this.visible=!1)},hideFn:function(){Object(o.j)(document,"click",this.handleDocumentClick)},filterClick:function(){var e=[];this.filterData.forEach(function(t){e.push(t.imei)}),this.$emit("setImeis",e)},setImeiComp:function(e){this.imeiComp=e},showMembership:function(e){this.$refs.membershipComp.setVisible(!0),this.$refs.membershipComp.getRelationship(e.customerid)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-popover",{ref:"imeiPopover",attrs:{"popper-class":"imei-list-popover",placement:"right",width:"400",trigger:"manual"},on:{"after-enter":e.showFn,"after-leave":e.hideFn},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("el-tabs",{on:{"tab-click":e.filterClick},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[i("el-tab-pane",{attrs:{label:e.lg.all+"("+e.reocrds.length+")",name:"0"}}),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.normal+"("+e.normalNum+")",name:"1"}}),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.repeated+"("+e.repeatNum+")",name:"3"}}),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.error+"("+e.errorNum+")",name:"2"}})],1),e._v(" "),i("el-button",{staticClass:"popver-close-btn",attrs:{type:"info",round:"",icon:"el-icon-close"},on:{click:function(t){e.visible=!1}}}),e._v(" "),i("el-table",{attrs:{data:e.filterData,"max-height":"300","row-class-name":e.rowClassFn}},[i("el-table-column",{attrs:{width:"150",property:"imei",label:e.lg.imei},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isok?[i("imeiDetail",{attrs:{record:{deviceid:t.row.id,imei:t.row.imei}},on:{dialogShow:e.setImeiComp}})]:[e._v("\n          "+e._s(t.row.imei)+"\n        ")]]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"100",property:"devicetype",label:e.lg.targetType}}),e._v(" "),i("el-table-column",{attrs:{width:"150",label:e.lg.membershipCustomer},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isok?[i("a",{staticClass:"txt-ellipsis link-btn",on:{click:function(i){return e.showMembership(t.row)}}},[e._v(e._s(t.row.customername))])]:[i("div",{staticClass:"txt-ellipsis"},[i("p",[e._v(e._s(e.lg[t.row.errorcode]))]),e._v(" "),"20005"==t.row.errorcode?[i("platformComp",{attrs:{imeis:t.row.imei}})]:e._e()],2)]]}}])})],1),e._v(" "),i("el-button",{staticClass:"check-imei-btn",attrs:{slot:"reference",loading:e.loading},on:{click:e.checkClick},slot:"reference"},[e._v(e._s(e.lg.check))]),e._v(" "),i("membership",{ref:"membershipComp"})],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("fY/y")},null,null);t.default=u.exports},GnB0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,records:[],total:0,start:0,pagesize:5,loading:!1,multipleSelection:[]}},components:{},methods:{indexMethod:function(e){return this.start+(e+1)},setVisible:function(e){if(this.dialogVisible=e,e=!0){var t=this;setTimeout(function(){t.getList()},100)}},getList:function(){var e=this;this.loading=!0,Object(s._52)({start:this.start,pagecount:this.pagesize}).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},backList:function(){this.detailObj={}},handleSelectionChange:function(e){this.multipleSelection=e},dialogCloseFn:function(){}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"message-dialog",attrs:{title:e.lg.loginlog,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"900px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",[i("div",{staticClass:"mb15"}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"message-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,"row-key":"id",stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{label:e.lg.serialNum,type:"index",align:"center",index:e.indexMethod,fixed:"left",width:"48"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.dateTime,prop:"createtime",width:"160",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.loginclient,prop:"loginclient",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.loginip,prop:"loginip",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.agentinfo},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{directives:[{name:"tip",rawName:"v-tip",value:{txt:t.row.agentinfo,align:"centerBottom"},expression:"{txt:scope.row.agentinfo,align:'centerBottom'}"}],staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"#409EFF",cursor:"pointer"}},[e._v("\n            "+e._s(t.row.agentinfo)+"\n          ")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1)])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("kHQY")},null,null);t.default=n.exports},Gqz3:function(e,t){},GvLR:function(e,t){},HMEC:function(e,t){},HNuF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("NC6I"),a=i.n(s),r=i("CGzg"),n=i("gyMJ"),o=i("iKHV"),l={data:function(){return{dialogVisible:!1,customerid:"",formData:{name:"-",newpwd:"",renewpwd:""},btnloading:!1}},components:{passwordStrength:r.default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){this.customerid=e.id,this.formData.name=e.name},dialogCloseFn:function(){this.customerid="",this.$refs.formComp.resetFields()},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(n._162)(t).then(function(t){e.$message.success(lg.success),e.btnloading=!1,e.setVisible(!1)}).catch(function(){e.btnloading=!1}),this.countEvent({action:"修改用户密码",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.newpwd),t=this.$trim(this.formData.renewpwd);return""==e?(this.$message.error(lg.newPwdNull),!1):Object(o.i)(e)?""==t?(this.$message.error(lg.inputConfirmPwd),!1):e!=t?(this.$message.error(lg.matchPwdError),!1):{targetid:this.customerid,type:"customer",newpwd:a()(e)}:(this.$message.error(lg.pwdLengthError),!1)},cancel:function(){this.setVisible(!1)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.modifyPwd,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"formComp",attrs:{model:e.formData},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.name,prop:"name"}},[e._v("\n        "+e._s(e.formData.name)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newPwd,prop:"newpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","newpwd")}},model:{value:e.formData.newpwd,callback:function(t){e.$set(e.formData,"newpwd",t)},expression:"formData.newpwd"}}),e._v(" "),i("passwordStrength",{ref:"passwordStrength",attrs:{pwd:e.formData.newpwd}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rePwd,prop:"renewpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","renewpwd")}},model:{value:e.formData.renewpwd,callback:function(t){e.$set(e.formData,"renewpwd",t)},expression:"formData.renewpwd"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.cancel}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},HPq4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("wQjV"),o=i("gyMJ"),l={name:"routelicence",data:function(){return{searchFm:{begintime:"",endtime:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},records:[],total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],searchParams:{},btnloading:!1,loading:!1}},components:{userTreeSelect:r.default,routeLicenceAdd:n.default},computed:{filterData:function(){for(var e=[],t=this.records,i=this.start,s=this.start+this.pagesize>t.length?t.length:this.start+this.pagesize;i<s;i++)e.push(t[i]);return e}},methods:{indexMethod:function(e){return this.start+(e+1)},showAdd:function(){this.$refs.addComp.setVisible(!0)},addSuccess:function(){this.getList()},tabClick:function(e,t){},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},searchFn:function(){this.start=0,this.total=0,this.searchParams=this.deepCopy(this.searchFm),this.searchParams.endtime=this.searchParams.endtime?this.searchParams.endtime+(864e5-1):this.searchParams.endtime,this.getList()},resetSearchFm:function(){this.$refs.searchFm.resetFields(),this.start=0,this.total=0,this.searchParams={},this.getList()},getList:function(){var e=this;this.loading=!0,Object(o._78)(a()({operationtype:1,count:100},this.searchParams)).then(function(t){e.loading=!1,e.records=t.records,e.total=t.records.length}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(e.createtime)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize},handleSizeChange:function(e){this.pagesize=e}},mounted:function(){this.getList()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-routelicence h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.addLicence))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.from,prop:"begintime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.searchFm.begintime,callback:function(t){e.$set(e.searchFm,"begintime",t)},expression:"searchFm.begintime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.to,prop:"endtime"}},[i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.searchFm.endtime,callback:function(t){e.$set(e.searchFm,"endtime",t)},expression:"searchFm.endtime"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearchFm}},[e._v(e._s(e.lg.reset))]),e._v(" "),i("routeLicenceAdd",{ref:"addComp",on:{addSuccess:e.addSuccess}})],1),e._v(" "),i("div",{staticClass:"fr"},[i("el-button",{staticClass:"form-new-btn",attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.filterData,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.aimCustomer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"licencecount",label:e.lg.number}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("U4t+")},null,null);t.default=u.exports},IKuJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("Glw6"),r=i("gyMJ"),n=i("KvKp"),o=i("iKHV"),l={props:["dialog"],data:function(){return{formData:{customerid:"",imeis:""},btnloading:!1}},components:{userTreeSelect:s.default,imeiListComp:a.default},methods:{setCustomer:function(e,t){this.formData.customerid=e,this.$refs.userSelect.setCustomer(t)},setData:function(e){this.formData.imeis=e.join("\n")},userSelected:function(e){this.formData.customerid=e.customerid},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.formData.imeis)},setImeis:function(e){this.formData.imeis=e?e.join("\n"):""},onSubmit:function(){var e=this,t=this.checkParams();if(t){this.btnloading=!0;var i=Object(n.e)(this.formData.imeis);Object(r.z)(t).then(function(s){e.$message.success(lg.moveTargerSuccess+"("+lg.success+":"+t.imeis.split(",").length+(i.length>0?", "+lg.repeated+":"+i.length:"")+")"),e.btnloading=!1,0==i.length&&e.resetFm(),e.$emit("moveSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"批量转移",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){var e=this.formData.customerid,t=this.$trim(this.formData.imeis);if(!e)return this.$message.error(lg.selectSuperCustomerNull),!1;if(!t)return this.$message.error(lg.inputImeiError),!1;if((t=this.formatImeis(t)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(o.g)(t);return i.rs?{imeis:i.imeis.join(","),customerid:e}:(this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1)},resetFm:function(){this.formData.customerid="",this.$refs.formComp.resetFields(),this.$refs.userSelect.clearFn()},cancel:function(){this.resetFm(),this.$emit("close")}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",staticClass:"batch-move-form",attrs:{"show-message":!1,"label-position":"right",model:e.formData,"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("userTreeSelect",{ref:"userSelect",staticStyle:{width:"264px"},on:{selected:e.userSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"220px"},attrs:{type:"textarea",placeholder:e.lg.oneImeiOneLine,rows:5},on:{blur:function(t){return e.trimImeiInput("formData","imeis")}},model:{value:e.formData.imeis,callback:function(t){e.$set(e.formData,"imeis",t)},expression:"formData.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancel}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},IRtq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"customerapp",data:function(){return{searchFm:{customerid:"",applyAccount:"",nation:"",appname:"",developeraccount:""},inactive:!1,records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],searchParams:{},loading:!1}},components:{userTreeSelect:r.default},computed:{auth:function(){return this.$store.state.auth}},methods:{indexMethod:function(e){return this.start+(e+1)},setTargetAccount:function(e){this.searchFm.customerid=e.customerid},setApplyAccount:function(e){this.searchFm.applyAccount=e.customerid},searchFn:function(){this.start=0,this.searchParams={customerid:this.searchFm.customerid,nation:this.$trim(this.searchFm.nation),submitterid:this.searchFm.applyAccount,appname:this.$trim(this.searchFm.appname),developeraccount:this.$trim(this.searchFm.developeraccount)},this.getList()},resetSearchFm:function(){this.resetParams(),this.getList()},resetParams:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp1.clearFn(),this.$refs.userTreeComp2.clearFn(),this.searchParams={}},getList:function(){var e=this;this.loading=!0,Object(n.R)(a()({start:this.start,pagecount:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},fmtAccout:function(e,t,i,s){return i||"-"},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},displayPass:function(e,t){this.$set(this.records[e],t,!this.records[e][t])}},activated:function(){var e=this.$route.query.applyid,t=this.$route.query.applyname;e&&(this.resetParams(),this.searchFm.applyAccount=e,this.$refs.userTreeComp2.setCustomer(t),this.searchParams={submitterid:this.searchFm.applyAccount},this.inactive=!0,this.getList())},mounted:function(){var e=this;this.$nextTick(function(){e.inactive||e.getList()})}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.customerApp)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        此为应用列表（非申请列表）；"),i("br"),e._v("\n        另：很早之前定制的APP，可能未记录在此列表中\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{staticClass:"form-cols-1",attrs:{label:"Target account: ",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp1",on:{selected:e.setTargetAccount}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Apply account: ",prop:"applyAccount"}},[i("userTreeSelect",{ref:"userTreeComp2",on:{selected:e.setApplyAccount}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.nation+": ",prop:"nation"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","nation")}},model:{value:e.searchFm.nation,callback:function(t){e.$set(e.searchFm,"nation",t)},expression:"searchFm.nation"}})],1),e._v(" "),i("el-form-item",{staticClass:"form-cols-1",attrs:{label:"Domain/APP name: ",prop:"appname"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","appname")}},model:{value:e.searchFm.appname,callback:function(t){e.$set(e.searchFm,"appname",t)},expression:"searchFm.appname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Account(IOS/Android): ",prop:"developeraccount"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","developeraccount")}},model:{value:e.searchFm.developeraccount,callback:function(t){e.$set(e.searchFm,"developeraccount",t)},expression:"searchFm.developeraccount"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearchFm}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"nation",width:"100",label:e.lg.nation}}),e._v(" "),i("el-table-column",{attrs:{prop:"submitteraccount",label:"Apply account",formatter:e.fmtAccout}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:"Target account",formatter:e.fmtAccout}}),e._v(" "),i("el-table-column",{attrs:{label:"WEB"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.customerdomain?i("p",[e._v("\n            "+e._s(t.row.customerdomain)+" "),i("br"),e._v("\n            "+e._s(e.lg.updateTime)+": "+e._s(e.utcToLocal(t.row.domaincreatetime).substr(0,10))+"\n          ")]):i("p",[e._v("-")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"IOS"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.iosappname?i("div",[e._v("\n            "+e._s(e.lg.account)+": "+e._s(t.row.appledeveloperaccount)+"\n            "),t.row.appledeveloperpassword?i("a",{staticClass:"link-btn",on:{click:function(i){return e.displayPass(t.$index,"showIosPass")}}},[e._v("\n              ("+e._s(t.row.showIosPass?t.row.appledeveloperpassword:e.lg.pass)+")\n            ")]):e._e(),e._v(" "),i("p",[e._v(" "+e._s(e.lg.appName)+": "+e._s(t.row.iosappname)+" ")]),e._v(" "),t.row.iosappversion?i("p",[e._v(e._s(e.lg.version)+": "+e._s(t.row.iosappversion))]):e._e(),e._v(" "),i("p",[e._v(e._s(e.lg.updateTime)+": "+e._s(e.utcToLocal(t.row.iosupdatetime).substr(0,10)))])]):i("div",[e._v("-")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Android"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.androidname?i("div",[e._v("\n            "+e._s(e.lg.account)+": scope.row.googledeveloperaccount\n            "),t.row.googledeveloperpassword?i("a",{staticClass:"link-btn",on:{click:function(i){return e.displayPass(t.$index,"showAndroidPass")}}},[e._v("\n              ("+e._s(t.row.showAndroidPass?t.row.googledeveloperpassword:e.lg.pass)+")\n            ")]):e._e(),e._v(" "),i("p",[e._v(" "+e._s(e.lg.appName)+": "+e._s(t.row.androidname)+" ")]),e._v(" "),t.row.androidversion?i("p",[e._v(e._s(e.lg.version)+": "+e._s(t.row.androidversion))]):e._e(),e._v(" "),i("p",[e._v(e._s(e.lg.updateTime)+": "+e._s(e.utcToLocal(t.row.androidupdatetime).substr(0,10)))])]):i("div",[e._v("-")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},IWkG:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{moveComp:i("xom8").default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.findObj("moveComp",this.$refs,function(){t.$refs.moveComp.setData(e)})},successcb:function(){this.$emit("successCallback")},cancel:function(){this.setVisible(!1)},dialogCloseFn:function(){this.$refs.moveComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.customerMove,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("moveComp",{ref:"moveComp",attrs:{dialog:!0},on:{hideDialog:e.cancel,successCallback:e.successcb}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},IZLQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("KvKp"),o=i("VV4h"),l=i("eInf"),c={data:function(){return{active:"1",loading:!1,rechargeVisible:!1,start:0,total:0,pagesize:5,willExpired:"after7",expired:"before30",willExpiredTotal:0,expiredTotal:0,params:{},lefelongTime:new Date("2099-01-01 00:00:00").getTime(),data:[]}},components:{membership:o.default,imeiDetail:l.default,rechargeComp:function(){return i.e(146).then(i.bind(null,"5iOi")).catch()}},computed:{auth:function(){return this.$store.state.auth},downloadExpiredAuth:function(){return this.$store.state.functions&&this.$store.state.functions.exportexpiredevices}},methods:{indexMethod:function(e){return this.start+(e+1)},getList:function(){var e=this;this.loading=!0,Object(r._22)(a()({start:this.start,count:this.pagesize},this.params)).then(function(t){e.loading=!1,e.data=t.record,e.total=t.totalcount,"1"==e.active?(e.willExpiredTotal=e.total,e.params.expiredstarttime&&(e.expiredTotal=t.expiredtotalcount||0)):e.expiredTotal=e.total}).catch(function(t){e.loading=!1})},tabChange:function(e,t){return this.active=e,this.start=0,this.params={},this.initTime(),this.getList(),!0},initTime:function(){if("1"==this.active){this.willExpired="after7";var e=Object(n.d)(this.willExpired)}else if("2"==this.active)e=Object(n.d)(this.expired);this.params.starttime=e.beginTime,this.params.endtime=e.endTime},changeWillExpire:function(){this.start=0;var e=Object(n.d)(this.willExpired);this.params.starttime=e.beginTime,this.params.endtime=e.endTime,this.getList()},changeExpired:function(){this.start=0;var e=Object(n.d)(this.expired);this.params.starttime=e.beginTime,this.params.endtime=e.endTime,this.getList()},showMembership:function(e){this.$refs.membershipComp.setVisible(!0),this.$refs.membershipComp.getRelationship(e)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},getExpireDay:function(e){var t=e.plattime>e.distributortime?e.distributortime:e.plattime,i=(new Date).setHours(0,0,0,0),s=Math.abs((i-t)/864e5);return 0==(s="1"==this.active?parseInt(s):Math.ceil(s))?lg.todayExpired:s+" "+lg.days},showRecharge:function(e){this.rechargeVisible=!0;var t=this,i={imei:e.deviceimei,deviceid:e.deviceid,devicename:e.devicename,plattime:e.plattime};this.findObj("rechargeComp",this.$refs,function(){t.$refs.rechargeComp.setData(i)})},clearRecharge:function(){this.$refs.rechargeComp.resetFm()},hideRecharge:function(){this.rechargeVisible=!1},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i).substr(0,10):"-"}},mounted:function(){var e=this;this.$nextTick(function(){e.initTime();var t=Object(n.d)(e.expired);e.params.expiredstarttime=t.beginTime,e.params.expiredendtime=t.endTime,e.getList()})}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home-device-expire"},[i("div",{staticClass:"device-tab-box"},[i("el-tabs",{attrs:{"before-leave":e.tabChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[i("el-tab-pane",{attrs:{label:e.lg.willExpired+"("+e.willExpiredTotal+")",name:"1"}}),e._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.lg.expired)+"("+e._s(e.expiredTotal)+")\n          "),i("el-tooltip",{attrs:{content:e.lg.expireTreeTips,placement:"top"}},[i("i",{staticClass:"el-icon-info fz12"})])],1)])],1),e._v(" "),i("div",{staticClass:"option-box"},[e.downloadExpiredAuth?i("router-link",{staticClass:"link download-btn mr20",attrs:{to:"/exportexpiredevices"}},[i("i",{staticClass:"base-icon excel-icon"}),e._v("\n        "+e._s(e.lg.excel)+"\n        "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            内部TIPS:"),i("br"),e._v("\n            有function-【export expire device】权限的"),i("br"),e._v("\n            才会显示此Excel按钮\n          ")])])],1):e._e(),e._v(" "),i("router-link",{staticClass:"link-btn more-btn",attrs:{to:"/business?treeLevel=2"}},[e._v(e._s(e.lg.more)+"»")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{height:"276px"},attrs:{data:e.data}},[i("el-table-column",{attrs:{type:"index",index:e.indexMethod,align:"center",label:e.lg.serialNum,width:"50"}}),e._v(" "),i("el-table-column",{attrs:{prop:"devicename",label:e.lg.targetName}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.membershipCustomer},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{on:{click:function(i){return e.showMembership(t.row.customerid)}}},[e._v(e._s(t.row.customername)+"("+e._s(t.row.customeraccount)+")")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"deviceimei",label:e.lg.imei,width:"130"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("imeiDetail",{attrs:{record:{deviceid:e.row.deviceid,imei:e.row.deviceimei}}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"plattime",label:e.lg.platformEnd,width:"100",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"distributortime",label:e.lg.userEnd,width:"100",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-select",{directives:[{name:"show",rawName:"v-show",value:"1"==e.active,expression:"active=='1'"}],staticClass:"device-expire-select",on:{change:e.changeWillExpire},model:{value:e.willExpired,callback:function(t){e.willExpired=t},expression:"willExpired"}},[i("el-option",{attrs:{label:e.lg.todayExpired,value:"today"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expire7,value:"after7"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expire15,value:"after15"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expire30,value:"after30"}})],1),e._v(" "),i("el-select",{directives:[{name:"show",rawName:"v-show",value:"2"==e.active,expression:"active=='2'"}],staticClass:"device-expire-select",on:{change:e.changeExpired},model:{value:e.expired,callback:function(t){e.expired=t},expression:"expired"}},[i("el-option",{attrs:{label:e.lg.expired7,value:"before7"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expired15,value:"before15"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.expired30,value:"before30"}})],1)]}},{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.getExpireDay(t.row)))]),e._v(" "),t.row.plattime<e.lefelongTime?[e._v("\n          | "),i("a",{staticClass:"link",on:{click:function(i){return e.showRecharge(t.row)}}},[e._v(e._s(e.lg.recharge))])]:e._e()]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),i("membership",{ref:"membershipComp"}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.recharge,visible:e.rechargeVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.rechargeVisible=t},closed:e.clearRecharge}},[i("rechargeComp",{ref:"rechargeComp",on:{rechargeCb:e.hideRecharge}})],1)],1)},staticRenderFns:[]};var m=i("VU/8")(c,u,!1,function(e){i("gIum")},null,null);t.default=m.exports},ImkI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("Glw6"),r=i("iKHV"),n={props:["dialog"],data:function(){return{userinfo:{},imeis:"",btnloading:!1}},components:{imeiListComp:a.default},methods:{setData:function(e){this.userinfo=e},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.imeis)},setImeis:function(e){this.imeis=e?e.join("\n"):""},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s.z)(t).then(function(i){e.$message.success(lg.moveTargerSuccess+"("+lg.total+":"+t.imeis.split(",").length+")"),e.btnloading=!1,e.cancelFn(),e.$emit("addSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"虚拟账号添加设备",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.imeis);if(!this.userinfo.id)return this.$message.error(lg.selectSuperCustomerNull),!1;if(!e)return this.$message.error(lg.targetNull),!1;if((e=this.formatImeis(e)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var t=Object(r.g)(e);return t.rs?{imeis:t.imeis.join(","),customerid:this.userinfo.id}:(this.$message.error(lg[20053]+"("+t.imeis[t.imeis.length-1]+")"),!1)},reset:function(){this.imeis=""},cancelFn:function(){this.$emit("hide"),this.reset()}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",staticClass:"add-virtual-form",attrs:{"show-message":!1,"label-position":"right","label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("el-input",{staticStyle:{width:"260px"},attrs:{value:e.userinfo._name+"("+e.userinfo.account+")",disabled:""}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:""}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"260px"},attrs:{type:"textarea",rows:5},model:{value:e.imeis,callback:function(t){e.imeis=t},expression:"imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",{staticClass:"mt20"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.dialog?e.lg.cancel:e.lg.reset))])],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},Inv4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){return{dialogVisible:!1,customerid:"",isCustomer:!1,searchFm:{customerid:""},data:{all:[],unused:[],used:[],expired:[]},total:0,loading:!1,activeName:"all"}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},components:{userTreeSelect:s.default,couponComp:function(){return i.e(135).then(i.bind(null,"+76y")).catch()}},methods:{setVisible:function(e,t){this.dialogVisible=e,this.isCustomer=t},selectedFn:function(e){this.searchFm.customerid=e.customerid,this.searchFn()},searchFn:function(){this.searchFm.customerid&&this.getList(this.searchFm.customerid)},getList:function(e){var t=this;this.loading=!0,this.customerid=e;var i=this.customerid||this.loginId;Object(a._35)({customerid:i}).then(function(e){t.loading=!1,t.data=t.fmtData(e.record),t.total=e.totalcount,t.setCompData(t.data)}).catch(function(){t.loading=!1})},fmtData:function(e){for(var t={all:e,unused:[],used:[],expired:[]},i=0,s=e.length;i<s;i++){var a=e[i];1==a.couponstatus&&t.unused.push(a),2==a.couponstatus&&t.used.push(a),3==a.couponstatus&&t.expired.push(a)}return t},setCompData:function(e){this.$refs.allCoupon.setData(e.all,this.isCustomer),this.$refs.unusedCoupon.setData(e.unused,this.isCustomer),this.$refs.usedCoupon.setData(e.used,this.isCustomer),this.$refs.expiredCoupon.setData(e.expired,this.isCustomer)},tabClick:function(){},setActiveTab:function(e){this.activeName=e}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"message-dialog",attrs:{title:e.lg.coupon,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"coupon-list"},[e.isCustomer?e._e():i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.account,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1)],1),e._v(" "),i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.all+"("+e.data.all.length+")",name:"all"}},[i("couponComp",{ref:"allCoupon"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.statusUnused+"("+e.data.unused.length+")",name:"unused"}},[i("couponComp",{ref:"unusedCoupon"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.used+"("+e.data.used.length+")",name:"used"}},[i("couponComp",{ref:"usedCoupon"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.expired+"("+e.data.expired.length+")",name:"expired"}},[i("couponComp",{ref:"expiredCoupon"})],1)],1)],1)])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("joG1")},null,null);t.default=o.exports},J4YZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={data:function(){return{cardFm:{newCard:0,newCardLifelong:0,annualCard:0,lifeLongCard:0},customerList:[],newCard:0,newCardLifelong:0,annualCard:0,lifeLongCard:0,btnloading:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{getCustomerData:function(){var e=this;Object(s._36)({customerid:this.loginId}).then(function(t){e.customerList=t.record}).catch(function(e){})},getPointInfo:function(){var e=this;Object(s._102)({customerid:this.cardFm.customerid}).then(function(t){e.newCard=t.importpoint,e.newCardLifelong=t.zsimportpoint,e.annualCard=t.monthpoint,e.lifeLongCard=t.lifelongpoint}).catch(function(e){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s._88)(t).then(function(t){e.$message.success(lg.success),e.fmReset(),e.btnloading=!1,e.getPointInfo()}).catch(function(t){e.btnloading=!1}))},fmReset:function(){this.$refs.addFm.resetFields()},clearFn:function(){this.fmReset(),this.newCard=0,this.newCardLifelong=0,this.annualCard=0,this.lifeLongCard=0},checkParams:function(){var e=this.$trim(this.cardFm.newCard),t=this.$trim(this.cardFm.newCardLifelong),i=this.$trim(this.cardFm.annualCard),s=this.$trim(this.cardFm.lifeLongCard),r=this.$trim(this.cardFm.remark);return this.cardFm.customerid&&/^\d{1,}$/.test(this.cardFm.customerid)?e||t||i||s?e&&!Object(a.e)(e)?(this.$message.error(lg.numPointFormatError),!1):t&&!Object(a.e)(t)?(this.$message.error(lg.numPointFormatError),!1):i&&!Object(a.e)(i)?(this.$message.error(lg.numPointFormatError),!1):s&&!Object(a.e)(s)?(this.$message.error(lg.numPointFormatError),!1):{customerid:this.cardFm.customerid,importnumber:e,lifelongimportnumber:t,yearchargenumber:i,lifelongchargenumber:s,remark:r}:(this.$message.error(lg.numPointFormatError),!1):(this.$message.error(lg.selectSuperCustomerNull),!1)}},mounted:function(){this.getCustomerData()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"addFm",staticClass:"card-new",attrs:{model:e.cardFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("el-select",{directives:[{name:"select-filter",rawName:"v-select-filter"}],staticClass:"user-select-comp",attrs:{filterable:"",clearable:""},on:{change:e.getPointInfo},model:{value:e.cardFm.customerid,callback:function(t){e.$set(e.cardFm,"customerid",t)},expression:"cardFm.customerid"}},e._l(e.customerList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.balance}},[i("table",{staticClass:"table-balance"},[i("tr",[i("td",[e._v(" "+e._s(e.newCard)+" "),i("em",[e._v(e._s(e.lg.newCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.newCardLifelong)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])]),e._v(" "),i("td",[e._v(" "+e._s(e.annualCard)+" "),i("em",[e._v(e._s(e.lg.annualCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.lifeLongCard)+" "),i("em",[e._v(e._s(e.lg.lifeLongCard))])])])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newCard,prop:"newCard"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.cardFm.newCard,callback:function(t){e.$set(e.cardFm,"newCard",t)},expression:"cardFm.newCard"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newCardLifelong,prop:"newCardLifelong"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.cardFm.newCardLifelong,callback:function(t){e.$set(e.cardFm,"newCardLifelong",t)},expression:"cardFm.newCardLifelong"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.annualCard,prop:"annualCard"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.cardFm.annualCard,callback:function(t){e.$set(e.cardFm,"annualCard",t)},expression:"cardFm.annualCard"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.lifeLongCard,prop:"lifeLongCard"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.cardFm.lifeLongCard,callback:function(t){e.$set(e.cardFm,"lifeLongCard",t)},expression:"cardFm.lifeLongCard"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{model:{value:e.cardFm.remark,callback:function(t){e.$set(e.cardFm,"remark",t)},expression:"cardFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"form-btn-box"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("jj5K")},null,null);t.default=o.exports},JTPR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("14er"),r=i("gyMJ"),n=(i("KvKp"),{name:"cardswitch",data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.selectCustomer)):s()}};return{activeName:"switch",cardSwitchFm:{customerid:"",number:"",type:"2"},newCardLifelong:0,lifeLongCard:0,btnloading:!1,loading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"},{validator:t.customerid,trigger:"keyup"}]}}},computed:{customerInfo:function(){return this.$store.state.customerInfo},auth:function(){return this.$store.state.auth}},components:{userTreeSelect:s.default,history:a.default},methods:{selected:function(e){this.cardSwitchFm.customerid=e.customerid,this.getPointInfo()},tabClick:function(){"history"==this.activeName&&this.$refs.cardHistoryComp.show()},getLicenceOverview:function(){var e=this;licenceOverview().then(function(t){e.totalLicence=t.record.total,e.usedLicence=t.record.used,e.balance=t.record.balance}).catch(function(){})},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(r.G)(this.cardSwitchFm).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.getPointInfo()}).catch(function(){e.btnloading=!1}),this.countEvent({action:"卡转换",opt_label:"点击",val:"Dealer2"}))},fmReset:function(){this.resetBalance(),this.$refs.cardSwitchFm.resetFields(),this.$refs.userTreeComp.clearFn()},resetBalance:function(){this.newCardLifelong=0,this.lifeLongCard=0},checkParams:function(){return this.cardSwitchFm.customerid&&/^\d{1,}$/.test(this.cardSwitchFm.customerid)?!this.cardSwitchFm.number||!/^\d+(\.\d{1,1})?$/.test(this.cardSwitchFm.number)||1*this.cardSwitchFm.number<=0||parseInt(this.cardSwitchFm.number)>2e3?(this.$message.error(lg.invalidNumber),!1):!(1==this.cardSwitchFm.type&&this.cardSwitchFm.number>this.lifeLongCard||2==this.cardSwitchFm.type&&this.cardSwitchFm.number>this.newCardLifelong)||(this.$message.error(lg[20041]),!1):(this.$message.error(lg.selectCustomer),!1)},getPointInfo:function(){var e=this;Object(r._102)({customerid:this.cardSwitchFm.customerid}).then(function(t){e.newCardLifelong=t.zsimportpoint,e.lifeLongCard=t.lifelongpoint}).catch(function(e){})}},mounted:function(){}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-card-switch h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.cardSwitch))]),e._v(" "),i("div",{staticClass:"aside-box h100b"},[i("div",{staticClass:"table-page h100b"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.cardSwitch,name:"switch"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"cardSwitchFm",attrs:{"label-position":"right",model:e.cardSwitchFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:""}},[i("userTreeSelect",{ref:"userTreeComp",staticStyle:{width:"240px"},attrs:{defaultUserInfo:e.customerInfo},on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.balance}},[i("table",{staticClass:"table-balance"},[i("tr",[e.auth.hasAuth2ImportDevice?[i("td",[e._v(" "+e._s(e.newCardLifelong)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])])]:e._e(),e._v(" "),i("td",[e._v(" "+e._s(e.lifeLongCard)+" "),i("em",[e._v(e._s(e.lg.lifeLongCard))])])],2)])]),e._v(" "),i("el-form-item",{staticClass:"row-type",attrs:{label:e.lg.type,required:"",prop:"type"}},[i("el-radio",{attrs:{label:"2"},model:{value:e.cardSwitchFm.type,callback:function(t){e.$set(e.cardSwitchFm,"type",t)},expression:"cardSwitchFm.type"}},[i("span",[e._v(e._s(e.lg.newCardLifelong))]),e._v(" > "),i("span",[e._v(e._s(e.lg.lifeLongCard))])]),i("br"),e._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:e.cardSwitchFm.type,callback:function(t){e.$set(e.cardSwitchFm,"type",t)},expression:"cardSwitchFm.type"}},[i("span",[e._v(e._s(e.lg.lifeLongCard))]),e._v(" > "),i("span",[e._v(e._s(e.lg.newCardLifelong))])])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,required:"",prop:"number"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.cardSwitchFm.number,callback:function(t){e.$set(e.cardSwitchFm,"number",t)},expression:"cardSwitchFm.number"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"history"}},[i("history",{ref:"cardHistoryComp"})],1)],1)],1)])])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("oVKA")},null,null);t.default=l.exports},JpI3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,records:[],loading:!1}},methods:{indexMethod:function(e){return e+1},setVisible:function(e){this.dialogVisible=e},delLink:function(e,t){var i=this;this.$confirm(lg.delRecord).then(function(){Object(s.Y)({devicetypeid:e.devicetypeid,customerid:e.customerid}).then(function(e){i.$message.success(lg.success),i.records.splice(t,1)}).catch(function(){})}).catch(function(){})},getList:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);this.loading=!0,Object(s._76)({devicetypeid:e}).then(function(e){t.loading=!1,t.records=e.record}).catch(function(){t.loading=!1})},fmtTime:function(e,t,i,s){return this.utcToLocal(i)||"-"}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.viewOwner,"append-to-body":!0,width:"600px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.customerName}}),e._v(" "),i("el-table-column",{attrs:{prop:"relatetime",label:e.lg.createTime,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.delLink(t.row,t.$index)}}},[e._v(" "+e._s(e.lg.delete))])]}}])})],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},Jwe1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("oW+X"),o=i("gyMJ"),l={data:function(){return{searchFm:{imei:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},components:{userTreeSelect:r.default,quotasAdd:n.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedUserFn:function(e){this.searchFm.imei=e.imei,e.imei||this.searchFn()},clickSearch:function(){this.searchFm.imei=this.$trim(this.searchFm.imei),this.searchFm.imei||this.$message.error(lg.inputImeiError)},searchFn:function(){this.start=0,this.total=0,this.searchParams={imei:this.searchFm.imei},this.showList()},resetSearch:function(){this.start=0,this.total=0,this.searchParams={}},showList:function(){var e=this;this.loading=!0,Object(o.J)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount}).catch(function(){e.loading=!1})},setImei:function(e){this.searchFm.imei=e,this.searchFn()},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"},fmtTime:function(e,t,i){return i?this.utcToLocal(i):"-"},fmtType:function(e,t,i,s){return lg[i]},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.showList()},handleSizeChange:function(e){this.pagesize=e,this.showList()}},mounted:function(){this.showList()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"changeimei-history"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.imei,prop:"customerid"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{clearable:""},on:{change:e.searchFn,blur:function(t){return e.$trimFn("searchFm","imei")}},model:{value:e.searchFm.imei,callback:function(t){e.$set(e.searchFm,"imei",t)},expression:"searchFm.imei"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.clickSearch},slot:"append"})],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"operator",label:e.lg.operator}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.oldImei}},[i("el-table-column",{attrs:{prop:"oldimei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.platformEnd}},[i("el-table-column",{attrs:{label:e.lg.before,prop:"oldimei_plattime_before",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.after,prop:"oldimei_plattime_after",formatter:e.fmtTime}})],1)],1),e._v(" "),i("el-table-column",{attrs:{label:e.lg.updatedImei}},[i("el-table-column",{attrs:{prop:"newimei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.platformEnd}},[i("el-table-column",{attrs:{label:e.lg.before,prop:"newimei_plattime_before",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.after,prop:"newimei_plattime_after",formatter:e.fmtTime}})],1)],1),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("FT4W")},null,null);t.default=u.exports},K1Fb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("iKHV"),o={data:function(){return{activeName:"alert",isSelf:!0,loading:!1,isloading:!1,endMailLoading:!1,labelPosition:"top",showform:!1,data:{},customerid:"",mails_tmp:[{val:"",key:Date.now()}],settingsdata:[],servicesdata:[],allStorage:0,indeStorage:!0,allEmail:0,indeEmail:!0,allApp:0,indeApp:!0,allStorageServices:0,indeStorageServices:!0,allEmailServices:0,indeEmailServices:!0,allAppServices:0,indeAppServices:!0,timerange:["",""],scene:"",methodGet:r._58,methodSave:r._14}},computed:{loginId:function(){return this.$store.state.customerInfo.id},auth:function(){return this.$store.state.auth},isSetTemplate:function(){return"setTemplate"==this.scene},showTemplateSettings:function(){return!this.isSetTemplate||this.data.asdefault}},methods:{addEmail:function(){this.mails_tmp.length>4||this.mails_tmp.push({val:"",key:Date.now()})},removeEmail:function(e){var t=this.mails_tmp.indexOf(e);-1!==t&&this.mails_tmp.length>1&&this.mails_tmp.splice(t,1)},email2arr:function(e){for(var t=e.split(","),i=[],s=0;s<t.length;s++)i.push({val:t[s],key:Date.now()+s});return i},trimMail:function(e){this.mails_tmp[e].val=this.$trim(this.mails_tmp[e].val)},slidertooltipformat:function(e){var t=parseInt(e/60),i=e%60;return t<10&&(t="0"+t),i<10&&(i="0"+i),t+":"+i},resetFm:function(){},setScene:function(e){this.scene=e,this.isSetTemplate?(this.methodGet=r._142,this.methodSave=r._143):(this.methodGet=r._58,this.methodSave=r._14)},getInfo:function(e,t){var i=this,s=this;if(!e)return this.$message.error(lg[10005]);this.customerid=e,this.isSelf=this.customerid==this.loginId,this.setScene(t),this.loading=!0,this.methodGet({customerid:e}).then(function(e){s.mails_tmp=s.email2arr(e.record.mails),s.data=e.record;var t=e.record.begintime,a=e.record.endtime;s.timerange=[t,a],s.settingsdata=e.record.settings,s.servicesdata=[{alert:lg.willExpired,storage:e.record.subexpireremind,app:e.record.expiresendpush,email:e.record.expiresendmail}],s.initAllChecked(),i.loading=!1}).catch(function(e){i.loading=!1})},editNotify:function(){for(var e=this,t=this,i=[],s=this.mails_tmp,r=0;r<s.length;r++){var o=this.$trim(s[r].val);if(o){if(!Object(n.k)(o))return void this.$message.error(lg.emailFormatError);i.push(o)}}this.data.mails=i.join(","),this.data.settings="",this.data.appnotify="",this.data.mailnotify="",this.data.storage="";for(var l,c=this.settingsdata.length,u=0;u<c;u++)this.data.appnotify+=this.settingsdata[u].app,this.data.mailnotify+=this.settingsdata[u].email,this.data.storage+=this.settingsdata[u].storage;this.data.subexpireremind=this.servicesdata[0].storage,l=[this.servicesdata[0].storage,this.servicesdata[0].email,this.servicesdata[0].app].join(""),this.data.begintime=this.timerange[0],this.data.endtime=this.timerange[1],this.isloading=!0,this.methodSave(a()({expirationsettings:l},this.data)).then(function(t){e.$message({message:lg.success,type:"success"}),e.hide(),e.isloading=!1}).catch(function(e){t.isloading=!1}),this.isSetTemplate?this.countEvent({action:"新客模板-推送设置",opt_label:"点击",val:"Dealer2"}):this.countEvent({action:"推送设置提交",opt_label:"点击",val:"Dealer2"})},sendMailFn:function(e){var t=this;if(!this.endMailLoading){var i=this.$trim(e.val);if(!i)return this.$message.error(lg.emailNull);if(!Object(n.k)(i))return this.$message.error(lg.emailFormatError);var s={mail:i,domain:location.origin,locale:this.$lang};this.endMailLoading=!0,Object(r._148)(s).then(function(e){t.endMailLoading=!1,t.$message({message:lg.sendMailSuccess,type:"success"})}).catch(function(e){t.endMailLoading=!1})}},initAllChecked:function(){this.checkStorageOneRow(),this.checkMailOneRow(),this.checkAppOneRow(),this.checkStorageServicesOneRow(),this.checkMailServicesOneRow(),this.checkAppServicesOneRow()},checkStorageAllRows:function(){var e=this;this.settingsdata.length;this.settingsdata.forEach(function(t,i){t.storage=e.allStorage}),this.indeStorage=!1},checkStorageOneRow:function(){var e=this.settingsdata.find(function(e){return 1!=e.storage});this.allStorage=e?0:1,this.indeStorage=!this.allStorage},checkEmailAllRows:function(){var e=this;this.settingsdata.forEach(function(t){t.email=e.allEmail}),this.indeEmail=!1},checkMailOneRow:function(){var e=this.settingsdata.find(function(e){return 1!=e.email});this.allEmail=e?0:1,this.indeEmail=!this.allEmail},checkAppAllRows:function(){var e=this;this.settingsdata.forEach(function(t){t.app=e.allApp}),this.indeApp=!1},checkAppOneRow:function(){var e=this.settingsdata.find(function(e){return 1!=e.app});this.allApp=e?0:1,this.indeApp=!this.allApp},checkStorageServicesAllRows:function(){var e=this;this.servicesdata.length;this.servicesdata.forEach(function(t,i){t.storage=e.allStorageServices}),this.indeStorageServices=!1},checkStorageServicesOneRow:function(){var e=this.servicesdata.find(function(e){return 1!=e.storage});this.allStorageServices=e?0:1,this.indeStorageServices=!this.allStorageServices},checkEmailServicesAllRows:function(){var e=this;this.servicesdata.forEach(function(t){t.email=e.allEmailServices}),this.indeEmailServices=!1},checkMailServicesOneRow:function(){var e=this.servicesdata.find(function(e){return 1!=e.email});this.allEmailServices=e?0:1,this.indeEmailServices=!this.allEmailServices},checkAppServicesAllRows:function(){var e=this;this.servicesdata.forEach(function(t){t.app=e.allAppServices}),this.indeAppServices=!1},checkAppServicesOneRow:function(){var e=this.servicesdata.find(function(e){return 1!=e.app});this.allAppServices=e?0:1,this.indeAppServices=!this.allAppServices},hide:function(){this.resetFm(),this.$emit("onCancel")},dialogCloseFn:function(){this.resetFm()},handleClick:function(){}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"",staticClass:"notify-setting",attrs:{"label-position":e.labelPosition,size:"mini"},nativeOn:{submit:function(t){return t.preventDefault(),e.editNotify.apply(null,arguments)}}},[i("el-tabs",{class:{"onlyone-tab":e.customerid!=e.loginId},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.alarm,name:"alert"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateSettings,expression:"showTemplateSettings"}],staticClass:"pr20 pb5"},[i("el-form-item",{staticClass:"pt5"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.data.notifyswitch,callback:function(t){e.$set(e.data,"notifyswitch",t)},expression:"data.notifyswitch"}},[e._v("\n            "+e._s(e.lg.receiveAlarmNotice)+"\n            "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top",width:"600px","popper-class":"tooltip-alert-desc"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[e._v("报警流程：")]),e._v(" "),i("p",{staticClass:"pb10"},[e._v("1 产生 → 2 保存 → 3 推送")]),e._v(" "),i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[i("thead",[i("tr",[i("th",{staticClass:"w70"},[e._v("步骤")]),e._v(" "),i("th",[e._v("动作描述")]),e._v(" "),i("th",{staticClass:"w100px"},[e._v("设置位置")]),e._v(" "),i("th",{staticClass:"w100px"},[e._v("查看位置")])])]),e._v(" "),i("tbody",[i("tr",[i("td",[e._v("1 产生")]),e._v(" "),i("td",[e._v("触发及产生（来自平台或设备）")]),e._v(" "),i("td",[e._v("设备报警设置")]),e._v(" "),i("td",[e._v("无")])]),e._v(" "),i("tr",[i("td",[e._v("2 保存"),i("br"),e._v("(Alert list)")]),e._v(" "),i("td",[e._v("保存在报警记录列表中")]),e._v(" "),i("td",[e._v("账号推送设置")]),e._v(" "),i("td",[e._v("报警列表，报警报表等")])]),e._v(" "),i("tr",[i("td",[e._v("3 推送"),i("br"),e._v("(Email/APP)")]),e._v(" "),i("td",[e._v("Email / APP / (SMS) 推送")]),e._v(" "),i("td",[e._v("账号推送设置")]),e._v(" "),i("td",[e._v("邮件，APP Push")])])])])])])],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateSettings,expression:"showTemplateSettings"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.data.notifyswitch,expression:"data.notifyswitch"}],staticClass:"el-form-item-fieldsets"},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.data.notifyswitch,expression:"data.notifyswitch"}],attrs:{label:e.lg.alarmDuration+":"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.data.warnallday,callback:function(t){e.$set(e.data,"warnallday",t)},expression:"data.warnallday"}},[e._v(e._s(e.lg.allDay))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.data.warnallday,expression:"!data.warnallday"}],staticStyle:{"margin-left":"25px"}},[i("el-time-picker",{staticStyle:{width:"100px"},attrs:{"value-format":"HH:mm",placeholder:e.lg.from,format:"HH:mm"},model:{value:e.timerange[0],callback:function(t){e.$set(e.timerange,0,t)},expression:"timerange[0]"}}),e._v("  -  \n              "),i("el-time-picker",{staticStyle:{width:"100px"},attrs:{"value-format":"HH:mm",placeholder:e.lg.to,format:"HH:mm"},model:{value:e.timerange[1],callback:function(t){e.$set(e.timerange,1,t)},expression:"timerange[1]"}})],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.data.notifyswitch,expression:"data.notifyswitch"}],staticClass:"el-form-item-fieldsets"},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.settingsdata.length>0,expression:"settingsdata.length>0"}]},[i("el-table",{staticClass:"f12 notice-set-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.settingsdata,height:"250"}},[i("el-table-column",{staticClass:"nowrap",attrs:{label:e.lg.alarmType},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.alert))]}}])}),e._v(" "),i("el-table-column",{staticClass:"tc",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-checkbox",{attrs:{indeterminate:e.indeStorage,"true-label":1,"false-label":0},on:{change:e.checkStorageAllRows},model:{value:e.allStorage,callback:function(t){e.allStorage=t},expression:"allStorage"}},[e._v("\n                    "+e._s(e.lg.saveAlert)+"\n                  ")])]}},{key:"default",fn:function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:e.checkStorageOneRow},model:{value:t.row.storage,callback:function(i){e.$set(t.row,"storage",i)},expression:"scope.row.storage"}})]}}])}),e._v(" "),i("el-table-column",{staticClass:"tc",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{indeterminate:e.indeEmail,"true-label":1,"false-label":0},on:{change:e.checkEmailAllRows},model:{value:e.allEmail,callback:function(t){e.allEmail=t},expression:"allEmail"}},[e._v("\n                      "+e._s(e.lg.emailNotify)+"\n                    ")])],1)]}},{key:"default",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{disabled:!t.row.storage,"true-label":1,"false-label":0},on:{change:e.checkMailOneRow},model:{value:t.row.email,callback:function(i){e.$set(t.row,"email",i)},expression:"scope.row.email"}})],1)]}}])}),e._v(" "),i("el-table-column",{staticClass:"nowrap",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{indeterminate:e.indeApp,"true-label":1,"false-label":0},on:{change:e.checkAppAllRows},model:{value:e.allApp,callback:function(t){e.allApp=t},expression:"allApp"}},[e._v("\n                    "+e._s(e.lg.app)+"\n                    "),i("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetAppPush)},slot:"content"})])],1)],1)]}},{key:"default",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{staticClass:"tc",attrs:{disabled:!t.row.storage,"true-label":1,"false-label":0},on:{change:e.checkAppOneRow},model:{value:t.row.app,callback:function(i){e.$set(t.row,"app",i)},expression:"scope.row.app"}})],1)]}}])})],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.data.notifyswitch&&!e.isSetTemplate&&!(!e.data.allowsms&&e.customerid==e.loginId),expression:"data.notifyswitch && !isSetTemplate && !(!data.allowsms && customerid == loginId)"}],staticClass:"el-form-item-fieldsets"},[i("el-form-item",[i("div",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.lg.mobile)+"\n              "),i("el-tooltip",{staticClass:"item",attrs:{"popper-class":"el-txt-tips",effect:"dark",placement:"top"}},[i("div",{staticStyle:{"max-width":"280px","line-height":"21px"},attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.mobileNotifyTips)},slot:"content"}),e._v(" "),i("span",{staticClass:"email-help el-icon-info"})]),e._v(":\n            ")],1),e._v(" "),i("el-input",{staticStyle:{width:"240px"},on:{blur:function(t){return e.$trimFn("data","phonenumber")}},model:{value:e.data.phonenumber,callback:function(t){e.$set(e.data,"phonenumber",t)},expression:"data.phonenumber"}}),e._v(" "),e.customerid!=e.loginId?i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.data.allowsms,callback:function(t){e.$set(e.data,"allowsms",t)},expression:"data.allowsms"}},[e._v(e._s(e.lg.allowSmsTip))]):e._e()],1)],1)])]),e._v(" "),e.customerid==e.loginId?i("el-tab-pane",{attrs:{label:e.lg.services,name:"service"}},[i("div",{staticClass:"el-form-item-fieldsets"},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.servicesdata.length>0,expression:"servicesdata.length>0"}]},[i("el-table",{staticClass:"f12 notice-set-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.servicesdata,height:"150"}},[i("el-table-column",{staticClass:"nowrap",attrs:{label:e.lg.type},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.alert)+"\n                "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.row.alert==e.lg.willExpired,expression:"scope.row.alert == lg.willExpired"}],attrs:{placement:"top","popper-class":"none-tooltip-alert-desc"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                    "+e._s(e.lg.subExpireAlert)+"\n                    ")])])]}}],null,!1,3342522919)}),e._v(" "),i("el-table-column",{staticClass:"tc",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-checkbox",{attrs:{indeterminate:e.indeStorageServices,"true-label":1,"false-label":0},on:{change:e.checkStorageServicesAllRows},model:{value:e.allStorageServices,callback:function(t){e.allStorageServices=t},expression:"allStorageServices"}},[e._v("\n                  "+e._s(e.lg.message)+"\n                ")])]}},{key:"default",fn:function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:e.checkStorageServicesOneRow},model:{value:t.row.storage,callback:function(i){e.$set(t.row,"storage",i)},expression:"scope.row.storage"}})]}}],null,!1,3605632393)}),e._v(" "),i("el-table-column",{staticClass:"tc",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{indeterminate:e.indeEmailServices,"true-label":1,"false-label":0},on:{change:e.checkEmailServicesAllRows},model:{value:e.allEmailServices,callback:function(t){e.allEmailServices=t},expression:"allEmailServices"}},[e._v("\n                    "+e._s(e.lg.emailNotify)+"\n                  ")])],1)]}},{key:"default",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{disabled:!t.row.storage,"true-label":1,"false-label":0},on:{change:e.checkMailServicesOneRow},model:{value:t.row.email,callback:function(i){e.$set(t.row,"email",i)},expression:"scope.row.email"}})],1)]}}],null,!1,245890499)}),e._v(" "),i("el-table-column",{staticClass:"nowrap",attrs:{width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{attrs:{indeterminate:e.indeAppServices,"true-label":1,"false-label":0},on:{change:e.checkAppServicesAllRows},model:{value:e.allAppServices,callback:function(t){e.allAppServices=t},expression:"allAppServices"}},[e._v("\n                  "+e._s(e.lg.app)+"\n                  "),i("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetAppPush)},slot:"content"})])],1)],1)]}},{key:"default",fn:function(t){return[i("span",{staticClass:"blue-checkbox-box"},[i("el-checkbox",{staticClass:"tc",attrs:{disabled:!t.row.storage,"true-label":1,"false-label":0},on:{change:e.checkAppServicesOneRow},model:{value:t.row.app,callback:function(i){e.$set(t.row,"app",i)},expression:"scope.row.app"}})],1)]}}],null,!1,2084535667)})],1)],1)],1)]):e._e()],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSetTemplate,expression:"!isSetTemplate"}],staticClass:"el-form-item-fieldsets"},[i("el-form-item",{attrs:{label:e.lg.email+": ",rules:{required:!0}}},[i("div",{staticClass:"wrap-mails"},e._l(e.mails_tmp,function(t,s){return i("div",{key:s,staticClass:"clearfix mb10"},[i("el-input",{staticClass:"fl",staticStyle:{width:"200px"},attrs:{placeholder:e.lg.email+" #"+(s+1)},on:{blur:function(t){return e.trimMail(s)}},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"item['val']"}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:s<1,expression:"index<1"}],staticClass:"add-btn el-icon-plus fl",staticStyle:{"border-right":"1px solid #fff"},on:{click:e.addEmail}}),e._v(" "),s>0?i("i",{staticClass:"add-btn el-icon-minus fl",on:{click:function(i){return e.removeEmail(t)}}}):e._e(),e._v(" "),i("span",{staticClass:"link-btn fl ml10",on:{click:function(i){return e.sendMailFn(t)}}},[e._v(e._s(e.lg.testMail))]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{content:e.lg.testMailTips,placement:"top"}},[i("span",{staticClass:"email-help ml5 el-icon-info fl"})])],1)}),0)])],1),e._v(" "),e.isSelf&&e.isSetTemplate?i("el-form-item",{attrs:{prop:"accidle"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n      "+e._s(e.lg.appNotify)+":  "+e._s(e.lg.asDefaultSetting)+"\n      "),e.lg.asDefaultSettingTips?i("el-tooltip",{staticClass:"item",attrs:{"popper-class":"el-txt-tips",effect:"dark",placement:"top"}},[i("div",{staticStyle:{"max-width":"280px","line-height":"21px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.lg.asDefaultSettingTips))]),e._v(" "),i("span",{staticClass:"email-help el-icon-info"})]):e._e()],1),e._v(" "),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.asdefault,callback:function(t){e.$set(e.data,"asdefault",t)},expression:"data.asdefault"}})],1):e._e(),e._v(" "),i("el-form-item",{staticClass:"tr pt10"},[i("el-button",{on:{click:e.hide}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("KuRG")},null,null);t.default=c.exports},KB7B:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{records:[],start:0,pagesize:2,countunread:5,countread:5,loading:!1,dialogVisible:!1}},components:{messageComp:function(){return i.e(5).then(i.bind(null,"Xu8Z")).catch()},detailComp:function(){return i.e(81).then(i.bind(null,"aPDQ")).catch()}},methods:{refreshFn:function(){this.getList()},getList:function(){var e=this;this.loading=!0,Object(s._54)({countunread:this.countunread,countread:this.countread}).then(function(t){e.loading=!1,e.packRecord(t)}).catch(function(){e.loading=!1})},readFn:function(e){var t=this;"1"!=e.readstatus&&Object(s._113)({messageid:e.messageid}).then(function(i){t.$set(e,"readstatus",1)}).catch(function(){})},packRecord:function(e){var t=e.unreadList,i=e.readList;this.records=t.concat(i)},showMessage:function(){this.$refs.messageComp.setVisible(!0)},showMessageDetail:function(e){this.dialogVisible=!0;var t=this;setTimeout(function(){t.$refs.detailComp.setData(e)},0),this.readFn(e)}},mounted:function(){this.getList()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home-message"},[i("h3",{staticClass:"nobg-title"},[e._v(e._s(e.lg.message))]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ds-message-box"},[e._l(e.records,function(t,s){return s<3?i("div",{key:t.messageid,staticClass:"row-item",class:{"not-read":"0"==t.readstatus},on:{click:function(i){return e.showMessageDetail(t)}}},[i("p",{staticClass:"item-time"},[e._v(e._s(e.utcToLocal(t.createtime)))]),e._v(" "),i("p",{staticClass:"item-content"},[e._v(e._s(t.content))])]):e._e()}),e._v(" "),0==e.records.length?i("div",{staticClass:"el-table__empty-text"},[i("div",[e._v(e._s(e.lg.noData))])]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.records.length,expression:"records.length != 0"}],staticClass:"tr ds-message-more"},[i("el-button",{attrs:{type:"text"},on:{click:e.showMessage}},[e._v(e._s(e.lg.more)),i("i",{staticClass:"el-icon-arrow-right"})])],1)],2),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.message,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("detailComp",{ref:"detailComp"})],1),e._v(" "),i("messageComp",{ref:"messageComp"})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("meGG")},null,null);t.default=n.exports},Kdv3:function(e,t){},KuRG:function(e,t){},LFw6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("NC6I"),a=i.n(s),r=i("CGzg"),n=i("gyMJ"),o=i("iKHV"),l={data:function(){return{dialogVisible:!1,formData:{oldpwd:"",newpwd:"",newpwd1:""},btnloading:!1}},components:{passwordStrength:r.default},methods:{setVisible:function(e){this.dialogVisible=e},onSubmit:function(){var e=this,t=this.checkParam();t&&(this.btnloading=!0,Object(n._80)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.updatePassSuccess),e.setVisible(!1)}).catch(function(){e.btnloading=!1}),this.countEvent({action:"修改账号密码",opt_label:"点击",val:"Dealer2"}))},checkParam:function(){var e=this.$trim(this.formData.oldpwd),t=this.$trim(this.formData.newpwd),i=this.$trim(this.formData.newpwd1);return e?t?Object(o.i)(t)?i?t!=i?(this.$message.error(lg.matchPwdError),!1):{oldpwd:a()(e),newpwd:a()(t)}:(this.$message.error(lg.inputConfirmPwd),!1):(this.$message.error(lg.pwdLengthError),!1):(this.$message.error(lg.newPwdNull),!1):(this.$message.error(lg.oldPwdNull),!1)},dialogCloseFn:function(){this.$refs.fromComp.resetFields()}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.modifyPwd,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box pt10"},[i("el-form",{ref:"fromComp",attrs:{model:e.formData},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.oldPwd,prop:"oldpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","oldpwd")}},model:{value:e.formData.oldpwd,callback:function(t){e.$set(e.formData,"oldpwd",t)},expression:"formData.oldpwd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newPwd,prop:"newpwd"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","newpwd")}},model:{value:e.formData.newpwd,callback:function(t){e.$set(e.formData,"newpwd",t)},expression:"formData.newpwd"}}),e._v(" "),i("passwordStrength",{ref:"passwordStrength",staticClass:"mb10",attrs:{pwd:e.formData.newpwd}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rePwd,prop:"newpwd1"}},[i("el-input",{attrs:{"show-password":""},on:{blur:function(t){return e.$trimFn("formData","newpwd1")}},model:{value:e.formData.newpwd1,callback:function(t){e.$set(e.formData,"newpwd1",t)},expression:"formData.newpwd1"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},LWGJ:function(e,t){},"Llh+":function(e,t){},Lu3L:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("g5iy"),a=i("gyMJ"),r=i("iKHV"),n=i("VHFF"),o={props:["transfertype"],data:function(){return{title:{5:lg.tracklogDataTransfer,6:lg.tlcDataTransfer,8:lg.monoDataTransfer,9:lg.ogDataTransfer},activeName:"transfer",searchImei:"",records:[],total:0,start:0,pagesizes:[10,15,20,30,50],pagesize:10,loading:!1}},components:{transferDataAdd:s.default,dataCardHistory:n.default},methods:{showAdd:function(){this.$refs.addComp.setVisible(!0)},addSuccess:function(){this.getList()},tabClick:function(){"cardHistory"==this.activeName&&this.$refs.cardHistoryComp.getList()},indexMethod:function(e){return this.start+(e+1)},searchList:function(){if(this.start=0,this.searchImei=this.$trim(this.searchImei),""!=this.searchImei&&!Object(r.h)(this.searchImei))return this.$message.error(lg.inputImeiLast5);this.getList()},getList:function(){var e=this;this.loading=!0,Object(a._151)({start:this.start,count:this.pagesize,transfertype:this.transfertype,imei:this.searchImei}).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},delRecord:function(e){var t=this,i=e.imei;if(!i)return this.$message.error(lg[10005]);var s=this;this.$confirm(lg.delRecord).then(function(){Object(a._1)({imei:i,transfertype:t.transfertype}).then(function(i){t.$message.success(lg.success),s.delArray(s.records,e)}).catch(function(){})}).catch(function(){})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},fmtTime:function(e,t,i,s){return this.utcToLocal(i)}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.title[e.transfertype]))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.title[e.transfertype],name:"transfer"}},[i("div",{staticClass:"pb15"},[i("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))]),e._v(" "),i("el-input",{staticClass:"fr",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:e.lg.imei},on:{change:e.searchList},model:{value:e.searchImei,callback:function(t){e.searchImei=t},expression:"searchImei"}})],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.account,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.delRecord(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.cardHistory,name:"cardHistory"}},[i("dataCardHistory",{ref:"cardHistoryComp"})],1)],1),e._v(" "),i("transferDataAdd",{ref:"addComp",attrs:{transfertype:e.transfertype},on:{addSuccess:e.addSuccess}})],1)])],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},M8DQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("iKHV"),n={data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.selectCustomer)):s()},speedthreshold:function(t,i,s){""===(i=e.$trim(i))?s(new Error("Please input speeding value.")):s()},imeis:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.inputImeiError)):Object(r.f)(i)?s():s(new Error(lg[20053]))}};return{showadd:!1,sutranFm:{customerid:"",sutranid:"",speedthreshold:"",imeis:"",remark:""},balance:0,sutranAccount:[],btnloading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"}],speedthreshold:[{required:!0,validator:t.speedthreshold,trigger:"blur"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.sutranFm.customerid=e.customerid},setVisible:function(e){this.showadd=e},tipsImei:function(){return"One line one IMEI.<br />"+lg.maxImeiNum.replace("{num}",200)},getBalance:function(){var e=this;Object(a._102)({customerid:this.loginId}).then(function(t){e.balance=t.transfercardpoint}).catch(function(){})},getSutranAccountData:function(){var e=this;Object(a._66)().then(function(t){e.sutranAccount=t.record}).catch(function(){e.loading=!1})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a.i)(t,{errorHide:!0}).then(function(t){var i;0==t.errorcode?(i=t.exist&&t.exist>0?lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+".<br />Existed:"+t.exist+".<br />Existed "+t.msg.split(",").join("<br />"):lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+"."+(t.msg?"("+t.msg+")":""),e.$message({dangerouslyUseHTMLString:!0,type:"success",duration:0,showClose:!0,message:i}),e.fmReset(),e.setVisible(!1),e.$emit("addSuccess")):e.$message({dangerouslyUseHTMLString:!0,type:"error",duration:0,showClose:!0,message:lg[t.errorcode]+(t.msg?"<br />"+t.msg.split(",").join("<br />"):"")});e.btnloading=!1}).catch(function(){e.btnloading=!1}))},clearFn:function(){this.setVisible(!1),this.fmReset()},fmReset:function(){this.$refs.sutranFm.resetFields(),this.$refs.userTreeComp.clearFn()},getTotal:function(e){var t=this.$trim(this.sutranFm.imeis);return t=t.replaceAll("\n",",").split(","),"1"==e?t.length:"2"==e?this.unique(t).length:void 0},checkParams:function(){var e=this.sutranFm.customerid,t=this.sutranFm.sutranid,i=this.$trim(this.sutranFm.speedthreshold),s=this.$trim(this.sutranFm.imeis),a=this.$trim(this.sutranFm.remark);if(!e)return this.$message.error("Please input apply account."),!1;if(!t)return this.$message.error("Please select SUTRAN account."),!1;if(""==i)return this.$message.error("Please input speeding value."),!1;if(!s)return this.$message.error(lg.inputImeiError),!1;if((s=this.formatImeis(s)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var n=Object(r.g)(s);return n.rs?{customerid:e,sutranid:t,speedthreshold:i,imeis:n.imeis.join(","),remark:a}:(this.$message.error(lg[20053]+"("+n.imeis[n.imeis.length-1]+")"),!1)},dialogCloseFn:function(){this.$refs.sutranFm.resetFields(),this.$refs.userTreeComp.clearFn()}},mounted:function(){this.getSutranAccountData()}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.add,visible:e.showadd,modal:!0,"show-close":!0,width:"620px","append-to-body":!0},on:{"update:visible":function(t){e.showadd=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"sutranFm",attrs:{model:e.sutranFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n        "+e._s(e.balance)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:"Apply account",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:"SUTRAN Account",required:"",prop:"sutranid"}},[i("el-select",{model:{value:e.sutranFm.sutranid,callback:function(t){e.$set(e.sutranFm,"sutranid",t)},expression:"sutranFm.sutranid"}},e._l(e.sutranAccount,function(e){return i("el-option",{key:e.sutranid,attrs:{value:e.sutranid,label:e.sutranaccount}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.overspeedThreshold,prop:"speedthreshold"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("sutranFm","speedthreshold")}},model:{value:e.sutranFm.speedthreshold,callback:function(t){e.$set(e.sutranFm,"speedthreshold",t)},expression:"sutranFm.speedthreshold"}}),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{title:"0 means no limit. other(>0) means set the speed threshold.",closable:!1,"show-icon":"",type:"info"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea"},on:{blur:function(t){return e.trimImeiInput("sutranFm","imeis")}},model:{value:e.sutranFm.imeis,callback:function(t){e.$set(e.sutranFm,"imeis",t)},expression:"sutranFm.imeis"}}),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",[e._v("One line one IMEI.")]),e._v(" "),i("div",[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.sutranFm.remark,callback:function(t){e.$set(e.sutranFm,"remark",t)},expression:"sutranFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.clearFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("3OzE")},null,null);t.default=l.exports},M9Bj:function(e,t){},MK6x:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gb/B"),a=i("gyMJ"),r={data:function(){return{dialogVisible:!1,modelFm:{devicetypeid:"",aliastype:"",basemodel:"",ourmodel:"",remark:""},rowData:{customeraccount:"",devicetype:""},btnloading:!1}},components:{modelSelectByProtocol:s.default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.rowData=e,this.modelFm.devicetypeid=e.devicetypeid,this.modelFm.aliastype=e.aliastype,this.modelFm.basemodel=e.basemodel,this.modelFm.ourmodel=e.ourmodel,this.modelFm.remark=e.remark,setTimeout(function(){t.$refs.protocolModelComp.setDefault(t.modelFm.aliastype)},10)},protocolModelSelected:function(e){this.modelFm.aliastype=e},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a._13)(t).then(function(i){e.$message.success(lg.success),e.btnloading=!1,e.fmReset(),e.updataRowData(t),e.setVisible(!1)}).catch(function(){e.btnloading=!1}))},updataRowData:function(e){this.$set(this.rowData,"aliastype",e.aliastype),this.$set(this.rowData,"basemodel",e.basemodel),this.$set(this.rowData,"ourmodel",e.ourmodel),this.$set(this.rowData,"remark",e.remark)},cancelFn:function(){this.setVisible(!1),this.fmReset()},fmReset:function(){this.$refs.modelFm.resetFields(),this.$refs.protocolModelComp.clearFn()},checkParams:function(){var e=this.$trim(this.modelFm.aliastype),t=this.$trim(this.modelFm.remark);return e?{devicetypeid:this.modelFm.devicetypeid,aliastype:e,basemodel:this.modelFm.basemodel,ourmodel:this.modelFm.ourmodel,remark:t}:(this.$message.error(lg.inputTargetCustomer),!1)}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.edit,"append-to-body":!0,visible:e.dialogVisible,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"modelFm",attrs:{model:e.modelFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": "}},[e._v("\n        "+e._s(e.rowData.customeraccount)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newModel+": ",prop:"devicetype"}},[e._v("\n        "+e._s(e.rowData.devicetype)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aliasModel+": ",required:"",prop:"aliastype"}},[i("modelSelectByProtocol",{ref:"protocolModelComp",attrs:{hideSevice:!0},on:{selected:e.protocolModelSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.baseDeviceType+": ",prop:"basemodel"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.modelFm.basemodel,callback:function(t){e.$set(e.modelFm,"basemodel",t)},expression:"modelFm.basemodel"}},[e._v("("+e._s(e.lg.baseModelChecked)+")")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.companyDeviceType+": ",prop:"ourmodel"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":2},model:{value:e.modelFm.ourmodel,callback:function(t){e.$set(e.modelFm,"ourmodel",t)},expression:"modelFm.ourmodel"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+": ",prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("modelFm","remark")}},model:{value:e.modelFm.remark,callback:function(t){e.$set(e.modelFm,"remark",t)},expression:"modelFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.add))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},MoGs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"adddevice",data:function(){return{}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},components:{addComp:i("3A2d").default},mounted:function(){var e=this;this.customerid=this.loginId,this.$nextTick(function(){e.$refs.addComp.init(e.loginId)})}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h100b"},[t("h3",{staticClass:"block-titlebar"},[this._v(this._s(this.lg.addTarget))]),this._v(" "),t("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[t("addComp",{ref:"addComp"})],1)],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},MuqN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=(i("iKHV"),i("A6oP")),r={data:function(){return{deviceid:"",isloading:!1,iconArr:[11,12,13,20,21,22,34,35,24,25,38,27,28,29,30,36,37,26,33,23],iconNameArr:["devicePeople","deviceCommon","devicePet","deviceArrow","deviceTaxi","deviceCar","deviceSuv","devicePickup","deviceTruck","deviceLorry","deviceTrailer","deviceMixer","deviceForklift","deviceLifts","deviceDigger","deviceMpv","deviceVan","deviceBus","deviceShip","deviceMotobike"],showLifelong:!1,userEndDisable:!0,data:{},unit:{},lifeTime:new Date("2099-12-31 00:00:00").getTime(),pickerOptions:{disabledDate:function(e){return e.getTime()>new Date("2099-12-31 23:59:59").getTime()}},speedUnit:a.c,fuelEfficiencyUnit:a.b,loading:!1}},computed:{auth:function(){return this.$store.state.auth},hasfunctions:function(){return this.$store.state.functions},hasAuth2ModifyPlatformTime:function(){return this.$store.state.auth.hasAuth2ModifyPlatformTime}},components:{imeiRechargeComp:function(){return i.e(136).then(i.bind(null,"eJ4L")).catch()},uploadComp:function(){return i.e(111).then(i.bind(null,"Bl+L")).catch()}},methods:{getLifeLong:function(e){return!!e.lifelong&&(!!this.hasAuth2ModifyPlatformTime||e.plattime>=this.lifeTime)},fmtDay:function(e){return this.utcToLocal(e).substr(0,10)},fmtTime:function(e){return 13885056e5==e?"--":this.utcToLocal(e)},getDetail:function(e){var t=this;e&&(this.deviceid=e,this.loading=!0,Object(s._41)({deviceid:this.deviceid}).then(function(e){if(t.loading=!1,0==e.errorcode){t.data=e.record,t.data.factorytime=t.fmtDay(t.data.factorytime);var i=t.localToUtc("2014-01-02");t.data.onlinetime<i?(t.data.distributortime="",t.data.onlinetime="",t.data.plattime=0!=t.data.lifelong?t.data.plattime>0?new Date(t.data.plattime):new Date("2099-12-31 23:59:59"):"",t.userEndDisable=!0):(t.data.onlinetime=t.data.onlinetime>0?new Date(t.data.onlinetime):" ",t.data.distributortime=t.data.distributortime>0?new Date(t.data.distributortime):"",t.userEndDisable=!1,t.data.plattime=t.data.plattime>0?new Date(t.data.plattime):""),t.showLifelong=t.getLifeLong(t.data),t.$refs.imgUploadComp.setData({deviceid:t.deviceid,originalurl:t.data.vehiclepicture,thumbnailurl:t.data.thumbnailurl})}}).catch(function(e){t.loading=!1}))},submit:function(){var e=this,t=this;this.$refs.deviceFrom.validate(function(i){if(t.checkParams()){t.isloading=!0;var a=t.data,r={deviceid:a.id,devicename:a.name,plate:a.carnum,simcard:a.simcard,icontype:a.icontype,sensor:a.sensor||"",distributorremark:a.distributorremark,optimistic:a.optimistic};!e.userEndDisable&&a.distributortime&&(r.distributortime=new Date(a.distributortime).getTime()),e.hasAuth2ModifyPlatformTime&&0!=a.lifelong&&a.plattime&&(r.plattime=new Date(a.plattime).getTime()),Object(s._11)(r).then(function(e){t.isloading=!1,t.hideDialog(),t.$message({message:lg.updateTarget,type:"success"}),t.$emit("updataCallback",r)}).catch(function(e){t.isloading=!1})}})},checkParams:function(){var e=this.$trim(this.data.name);if(0==e.length)return this.$message.error(lg.targetNameNull),!1;if(e.length>30)return this.$message.error(lg.deviceNameLimitMax),!1;var t=this.$trim(this.data.carnum);if(""!=t&&t.length>20)return this.$message.error(lg.lengthlimit.replace("{{name}}",lg.carNum).replace("{{num}}",20)),!1;var i=this.$trim(this.data.simcard);if(""!=i&&i.length>21)return this.$message.error(lg.simcardFormatError),!1;var s=this.$trim(this.data.userremark);return!(""!=s&&s.length>500)||(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.remark).replace("{{num}}",500)),!1)},setDeviceId:function(e){this.deviceid=e},setIconType:function(e){this.data.icontype=e},setDataAfterUpload:function(e){e.vehiclepicture&&(this.data.vehiclepicture=e.vehiclepicture),e.thumbnailurl&&(this.data.thumbnailurl=e.thumbnailurl)},gotoEditDeviceType:function(){this.$router.push({path:"/modifydevicetype",query:{imei:this.data.imei,devicetype:this.data.devicetype}})},hideDialog:function(){this.$emit("setVisible",!1)},resetFrom:function(){this.$refs.deviceFrom.resetFields()}},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"device-detail-info pt20"},[i("el-form",{ref:"deviceFrom",staticClass:"clearfix",attrs:{model:e.data,"show-message":!1,"label-position":"top","label-width":"100px"},nativeOn:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.name+":",prop:"name"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","name")}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei+":",prop:"imei"}},[i("div",{staticClass:"cursor-context-menu el-input is-disabled"},[i("div",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.doubleClickCopy,expression:"lg.doubleClickCopy"}],staticClass:"el-input__inner",on:{dblclick:function(t){return e.copyFunc(e.data.imei)}}},[e._v(e._s(e.data.imei))])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.carNum+":",prop:"carnum"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","carnum")}},model:{value:e.data.carnum,callback:function(t){e.$set(e.data,"carnum",t)},expression:"data.carnum"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.simCard+":",prop:"simcard"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","simcard")}},model:{value:e.data.simcard,callback:function(t){e.$set(e.data,"simcard",t)},expression:"data.simcard"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType+":",prop:"devicetype"}},[i("el-input",{staticClass:"cursor-context-menu",attrs:{disabled:""},model:{value:e.data.devicetype,callback:function(t){e.$set(e.data,"devicetype",t)},expression:"data.devicetype"}}),e._v(" "),e.hasfunctions.modifymodel?i("a",{staticClass:"option-btn",attrs:{href:"javascript://",title:e.lg.edit},on:{click:function(t){return e.gotoEditDeviceType()}}},[i("i",{staticClass:"base-icon edit-icon"})]):e._e()],1),e._v(" "),i("el-form-item",{attrs:{prop:"lastupdate"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(e.lg.lastUpdate)+"\n        "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top",content:"最后心跳时间。(若无数据，则表明设备从未上线过)","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"})]),e._v(":\n      ")],1),e._v(" "),[i("el-input",{staticClass:"cursor-context-menu",attrs:{value:e.data.hearttime?e.fmtTime(e.data.hearttime):"--",disabled:""}})]],2),e._v(" "),e.hasAuth2ModifyPlatformTime?i("el-form-item",{attrs:{prop:"factorytime"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(e.lg.factoryTime)+"\n        "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top",content:"设备导入时间。","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"})]),e._v(":\n      ")],1),e._v(" "),i("el-input",{staticClass:"cursor-context-menu",attrs:{disabled:""},model:{value:e.data.factorytime,callback:function(t){e.$set(e.data,"factorytime",t)},expression:"data.factorytime"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.lg.onlineTime+":"}},[i("el-input",{staticClass:"cursor-context-menu",attrs:{value:e.data.onlinetime?e.fmtDay(e.data.onlinetime):"--",disabled:""}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.platformEnd+":"}},[e.hasAuth2ModifyPlatformTime&&0!=e.data.lifelong?[i("el-date-picker",{ref:"platformEnd",staticStyle:{width:"100%"},attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.data.plattime,callback:function(t){e.$set(e.data,"plattime",t)},expression:"data.plattime"}})]:[i("el-input",{staticClass:"cursor-context-menu",attrs:{value:e.data.plattime?e.fmtDay(e.data.plattime):"--",disabled:""}})],e._v(" "),e.hasfunctions.imeirechargehistory?i("imeiRechargeComp",{attrs:{imei:e.data.imei}},[i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.rechargeHistory,expression:"lg.rechargeHistory"}],staticClass:"base-icon history-list-icon"})]):e._e()],2),e._v(" "),i("el-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(e.lg.userEnd)+"\n        "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            注："),i("br"),e._v("\n            · 用户到期：激活后可修改；且可大于平台到期"),i("br"),e._v("\n            · 另：Monitor中的设备到期时间："),i("br"),e._v("\n            是以【平台到期 用户到期】中先到的一个为准。"),i("br")])]),e._v(":\n      ")],1),e._v(" "),e.userEndDisable?[i("el-input",{staticClass:"cursor-context-menu",attrs:{value:e.data.distributortime?e.fmtDay(e.data.distributortime):"--",disabled:""}})]:[i("el-date-picker",{ref:"userEnd",staticStyle:{width:"100%"},attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.data.distributortime,callback:function(t){e.$set(e.data,"distributortime",t)},expression:"data.distributortime"}})]],2),e._v(" "),e.showLifelong?i("el-form-item",{staticClass:"online-item",staticStyle:{width:"90%",clear:"both"},attrs:{label:e.lg.lifeLong+":"}},[i("div",{staticClass:"label-span",staticStyle:{clear:"both"}},[e._v("√")])]):e._e(),e._v(" "),i("el-form-item",{staticStyle:{width:"50%","margin-left":"0",clear:"both"},attrs:{label:e.lg.icon+":"}},[i("ul",{staticClass:"icon-el-ul"},e._l(e.iconArr,function(t,s){return i("li",[i("i",{staticClass:"bg",class:["icon-"+t,parseInt(e.data.icontype)==t?"cur":""],attrs:{title:e.lg[e.iconNameArr[s]]},on:{click:function(i){return e.setIconType(t)}}},[e._v(" ")])])}),0)]),e._v(" "),i("el-form-item",{staticStyle:{width:"50%","margin-left":"0"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(e.lg.vehiclePicture)+":\n        "),i("el-tooltip",{staticClass:"item",attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("JPG/PNG/GIF, <1MB")]),e._v(" "),i("span",{staticClass:"el-icon-info"})])],1),e._v(" "),i("uploadComp",{ref:"imgUploadComp",attrs:{targetUrl:"/api2/device/vehicle/picture/upload",deviceid:e.deviceid,initOriginalurl:e.data.originalurl,initThumbnailurl:e.data.thumbnailurl},on:{setData:e.setDataAfterUpload}})],1),e._v(" "),i("el-form-item",{staticStyle:{width:"100%","margin-left":"0"},attrs:{label:e.lg.remark+":"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.data.distributorremark,callback:function(t){e.$set(e.data,"distributorremark",t)},expression:"data.distributorremark"}})],1),e._v(" "),i("div",{staticClass:"submit-box pt10",staticStyle:{clear:"both"}},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("ToRd")},null,null);t.default=o.exports},MvQr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,showAdd:!1,customerid:"",customername:"",keyid:"",record:[]}},components:{userTreeSelect:i("Rpa2").default},methods:{setVisible:function(e){this.dialogVisible=e},selectedFn:function(e){this.customerid=e.customerid,this.customername=e.name},getData:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);this.keyid=e,Object(s.o)({googleapikeyid:e}).then(function(e){t.record=e.record}).catch(function(e){})},showAddFn:function(){this.showAdd=!0},delAddFn:function(){this.showAdd=!1,this.$refs.userTreeComp.clearFn()},submitAddFn:function(){var e=this;return this.customerid?this.keyid?this.isExistedInlist(this.customerid)?this.$message.error(lg.existed):this.customerid?(Object(s.m)({googleapikeyid:this.keyid,customerids:this.customerid}).then(function(t){e.$message.success(lg.success),e.record.push({customerid:e.customerid,customername:e.customername}),e.delAddFn()}).catch(function(e){}),void this.countEvent({action:"google key 添加用户",opt_label:"点击",val:"Dealer2"})):this.$message.error(lg.inputTargetCustomer):this.$message.error(lg[10005]):this.$message.error(lg.inputTargetCustomer)},delUser:function(e,t){var i=this;Object(s.n)({googleapikeyid:this.keyid,customerid:e}).then(function(e){i.$message.success(lg.success),i.record.splice(t,1)}).catch(function(e){})},isExistedInlist:function(e){for(var t=0;t<this.record.length;t++)if(e==this.record[t].customerid)return!0;return!1},dialogCloseFn:function(){this.showAdd=!1,this.customerid="",this.customername="",this.keyid="",this.record=[]}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"dialog-googleKey-user",attrs:{title:e.lg.users,visible:e.dialogVisible,modal:!0,"show-close":!0,"append-to-body":!0,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[e._l(e.record,function(t,s){return i("el-row",{key:t.customerid},[i("el-col",{attrs:{span:18}},[i("div",[e._v(e._s(t.customername+(t.account?"("+t.account+")":"")))])]),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:6}},[i("a",{staticClass:"link-btn",on:{click:function(i){return e.delUser(t.customerid,s)}}},[e._v(e._s(e.lg.delete))])])],1)}),e._v(" "),i("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showAdd,expression:"showAdd"}],staticClass:"tools"},[i("el-col",{attrs:{span:16}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-col",{staticClass:"tr mt10",attrs:{span:8}},[i("a",{staticClass:"link-btn",on:{click:e.submitAddFn}},[e._v(e._s(e.lg.save))]),e._v(" | \n      "),i("a",{staticClass:"link-btn",on:{click:e.delAddFn}},[e._v(e._s(e.lg.delete))])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd,expression:"!showAdd"}],staticClass:"row-add"},[i("el-button",{attrs:{type:"primary"},on:{click:e.showAddFn}},[e._v(e._s(e.lg.addCustomer))])],1)],2)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("q6I+")},null,null);t.default=n.exports},NC6I:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("nErl"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var i=OUTPUT_TYPES[t];e[i]=createOutputMethod(i)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,i=typeof e;if("string"!==i){if("object"!==i)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var s,a,r=0,n=e.length,o=this.blocks,l=this.buffer8;r<n;){if(this.hashed&&(this.hashed=!1,o[0]=o[16],o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)if(ARRAY_BUFFER)for(a=this.start;r<n&&a<64;++r)l[a++]=e[r];else for(a=this.start;r<n&&a<64;++r)o[a>>2]|=e[r]<<SHIFT[3&a++];else if(ARRAY_BUFFER)for(a=this.start;r<n&&a<64;++r)(s=e.charCodeAt(r))<128?l[a++]=s:s<2048?(l[a++]=192|s>>6,l[a++]=128|63&s):s<55296||s>=57344?(l[a++]=224|s>>12,l[a++]=128|s>>6&63,l[a++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),l[a++]=240|s>>18,l[a++]=128|s>>12&63,l[a++]=128|s>>6&63,l[a++]=128|63&s);else for(a=this.start;r<n&&a<64;++r)(s=e.charCodeAt(r))<128?o[a>>2]|=s<<SHIFT[3&a++]:s<2048?(o[a>>2]|=(192|s>>6)<<SHIFT[3&a++],o[a>>2]|=(128|63&s)<<SHIFT[3&a++]):s<55296||s>=57344?(o[a>>2]|=(224|s>>12)<<SHIFT[3&a++],o[a>>2]|=(128|s>>6&63)<<SHIFT[3&a++],o[a>>2]|=(128|63&s)<<SHIFT[3&a++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),o[a>>2]|=(240|s>>18)<<SHIFT[3&a++],o[a>>2]|=(128|s>>12&63)<<SHIFT[3&a++],o[a>>2]|=(128|s>>6&63)<<SHIFT[3&a++],o[a>>2]|=(128|63&s)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,i,s,a,r,n=this.blocks;this.first?t=((t=((e=((e=n[0]-680876937)<<7|e>>>25)-271733879<<0)^(i=((i=(-271733879^(s=((s=(-1732584194^2004318071&e)+n[1]-117830708)<<12|s>>>20)+e<<0)&(-271733879^e))+n[2]-1126478375)<<17|i>>>15)+s<<0)&(s^e))+n[3]-1316259209)<<22|t>>>10)+i<<0:(e=this.h0,t=this.h1,i=this.h2,t=((t+=((e=((e+=((s=this.h3)^t&(i^s))+n[0]-680876936)<<7|e>>>25)+t<<0)^(i=((i+=(t^(s=((s+=(i^e&(t^i))+n[1]-389564586)<<12|s>>>20)+e<<0)&(e^t))+n[2]+606105819)<<17|i>>>15)+s<<0)&(s^e))+n[3]-1044525330)<<22|t>>>10)+i<<0),t=((t+=((e=((e+=(s^t&(i^s))+n[4]-176418897)<<7|e>>>25)+t<<0)^(i=((i+=(t^(s=((s+=(i^e&(t^i))+n[5]+1200080426)<<12|s>>>20)+e<<0)&(e^t))+n[6]-1473231341)<<17|i>>>15)+s<<0)&(s^e))+n[7]-45705983)<<22|t>>>10)+i<<0,t=((t+=((e=((e+=(s^t&(i^s))+n[8]+1770035416)<<7|e>>>25)+t<<0)^(i=((i+=(t^(s=((s+=(i^e&(t^i))+n[9]-1958414417)<<12|s>>>20)+e<<0)&(e^t))+n[10]-42063)<<17|i>>>15)+s<<0)&(s^e))+n[11]-1990404162)<<22|t>>>10)+i<<0,t=((t+=((e=((e+=(s^t&(i^s))+n[12]+1804603682)<<7|e>>>25)+t<<0)^(i=((i+=(t^(s=((s+=(i^e&(t^i))+n[13]-40341101)<<12|s>>>20)+e<<0)&(e^t))+n[14]-1502002290)<<17|i>>>15)+s<<0)&(s^e))+n[15]+1236535329)<<22|t>>>10)+i<<0,t=((t+=((s=((s+=(t^i&((e=((e+=(i^s&(t^i))+n[1]-165796510)<<5|e>>>27)+t<<0)^t))+n[6]-1069501632)<<9|s>>>23)+e<<0)^e&((i=((i+=(e^t&(s^e))+n[11]+643717713)<<14|i>>>18)+s<<0)^s))+n[0]-373897302)<<20|t>>>12)+i<<0,t=((t+=((s=((s+=(t^i&((e=((e+=(i^s&(t^i))+n[5]-701558691)<<5|e>>>27)+t<<0)^t))+n[10]+38016083)<<9|s>>>23)+e<<0)^e&((i=((i+=(e^t&(s^e))+n[15]-660478335)<<14|i>>>18)+s<<0)^s))+n[4]-405537848)<<20|t>>>12)+i<<0,t=((t+=((s=((s+=(t^i&((e=((e+=(i^s&(t^i))+n[9]+568446438)<<5|e>>>27)+t<<0)^t))+n[14]-1019803690)<<9|s>>>23)+e<<0)^e&((i=((i+=(e^t&(s^e))+n[3]-187363961)<<14|i>>>18)+s<<0)^s))+n[8]+1163531501)<<20|t>>>12)+i<<0,t=((t+=((s=((s+=(t^i&((e=((e+=(i^s&(t^i))+n[13]-1444681467)<<5|e>>>27)+t<<0)^t))+n[2]-51403784)<<9|s>>>23)+e<<0)^e&((i=((i+=(e^t&(s^e))+n[7]+1735328473)<<14|i>>>18)+s<<0)^s))+n[12]-1926607734)<<20|t>>>12)+i<<0,t=((t+=((r=(s=((s+=((a=t^i)^(e=((e+=(a^s)+n[5]-378558)<<4|e>>>28)+t<<0))+n[8]-2022574463)<<11|s>>>21)+e<<0)^e)^(i=((i+=(r^t)+n[11]+1839030562)<<16|i>>>16)+s<<0))+n[14]-35309556)<<23|t>>>9)+i<<0,t=((t+=((r=(s=((s+=((a=t^i)^(e=((e+=(a^s)+n[1]-1530992060)<<4|e>>>28)+t<<0))+n[4]+1272893353)<<11|s>>>21)+e<<0)^e)^(i=((i+=(r^t)+n[7]-155497632)<<16|i>>>16)+s<<0))+n[10]-1094730640)<<23|t>>>9)+i<<0,t=((t+=((r=(s=((s+=((a=t^i)^(e=((e+=(a^s)+n[13]+681279174)<<4|e>>>28)+t<<0))+n[0]-358537222)<<11|s>>>21)+e<<0)^e)^(i=((i+=(r^t)+n[3]-722521979)<<16|i>>>16)+s<<0))+n[6]+76029189)<<23|t>>>9)+i<<0,t=((t+=((r=(s=((s+=((a=t^i)^(e=((e+=(a^s)+n[9]-640364487)<<4|e>>>28)+t<<0))+n[12]-421815835)<<11|s>>>21)+e<<0)^e)^(i=((i+=(r^t)+n[15]+530742520)<<16|i>>>16)+s<<0))+n[2]-995338651)<<23|t>>>9)+i<<0,t=((t+=((s=((s+=(t^((e=((e+=(i^(t|~s))+n[0]-198630844)<<6|e>>>26)+t<<0)|~i))+n[7]+1126891415)<<10|s>>>22)+e<<0)^((i=((i+=(e^(s|~t))+n[14]-1416354905)<<15|i>>>17)+s<<0)|~e))+n[5]-57434055)<<21|t>>>11)+i<<0,t=((t+=((s=((s+=(t^((e=((e+=(i^(t|~s))+n[12]+1700485571)<<6|e>>>26)+t<<0)|~i))+n[3]-1894986606)<<10|s>>>22)+e<<0)^((i=((i+=(e^(s|~t))+n[10]-1051523)<<15|i>>>17)+s<<0)|~e))+n[1]-2054922799)<<21|t>>>11)+i<<0,t=((t+=((s=((s+=(t^((e=((e+=(i^(t|~s))+n[8]+1873313359)<<6|e>>>26)+t<<0)|~i))+n[15]-30611744)<<10|s>>>22)+e<<0)^((i=((i+=(e^(s|~t))+n[6]-1560198380)<<15|i>>>17)+s<<0)|~e))+n[13]+1309151649)<<21|t>>>11)+i<<0,t=((t+=((s=((s+=(t^((e=((e+=(i^(t|~s))+n[4]-145523070)<<6|e>>>26)+t<<0)|~i))+n[11]-1120210379)<<10|s>>>22)+e<<0)^((i=((i+=(e^(s|~t))+n[2]+718787259)<<15|i>>>17)+s<<0)|~e))+n[9]-343485551)<<21|t>>>11)+i<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=i-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+i<<0,this.h3=this.h3+s<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,s=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,s=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,i,s="",a=this.array(),r=0;r<15;)e=a[r++],t=a[r++],i=a[r++],s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|i>>>6)]+BASE64_ENCODE_CHAR[63&i];return e=a[r],s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__("W2nU"),__webpack_require__("DuR2"))},NIJt:function(e,t){},NPiI:function(e,t){},NYTC:function(e,t){},Nxpd:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Zlha"),a=i("gyMJ"),r=i("KvKp"),n=(i("iKHV"),{props:["source"],mixins:[s.a],data:function(){return{customerid:"",loading:!1,record:[],chart:null}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},computed:{loginId:function(){return this.$store.state.loginId}},methods:{refreshFn:function(){this.chart||this.initChart(),this.getData()},changeCustomerId:function(e){this.customerid!=e&&(this.customerid=e,this.findChart())},getData:function(){var e=this;Object(a._6)({customerid:this.customerid}).then(function(t){e.loading=!1,e.renderChart(t.record.data)}).catch(function(t){e.loading=!1})},changeZoom:function(e){var t=this.chart.getOption().geo[0].zoom,i=this.chart.getOption().geo[0].center;t=t+e>16?16:t+e<1?1:t+e,i=0!=i.length?i:["35.865574","31.9794395"],this.chart.setOption({geo:{center:i,zoom:t}})},renderChart:function(e){if(!e)return this.clearChart();e=e.split(";"),this.record=e;var t=[],i=[],s=[];if(e.length>1){var a=-1e3,n=1e3,o=-1e3,l=1e3;e.forEach(function(e,s){t=e.split(","),i.push({value:[t[0],t[1]]}),parseFloat(t[1])>parseFloat(o)&&(o=t[1]),parseFloat(t[1])<parseFloat(l)&&(l=t[1]),parseFloat(t[0])>parseFloat(a)&&(a=t[0]),parseFloat(t[0])<parseFloat(n)&&(n=t[0])}),s=Object(r.b)(a,n,o,l)}else t=e[0].split(","),i=[{value:[t[0],t[1]]}],s=[[parseFloat(t[0]),parseFloat(t[1])],5];this.chart.setOption({geo:{center:s[0],zoom:s[1]},series:[{data:i}]})},clearChart:function(){this.chart.setOption({geo:{center:[],zoom:1},series:[{data:[]}]})},initChart:function(){if(document.getElementById("chartMap"+(this.source?this.source:""))){this.chart=echarts.init(document.getElementById("chartMap"+(this.source?this.source:"")));var e=this,t={tooltip:{show:!0,formatter:function(t){var i=e.record[t.dataIndex];return lg.number+": "+(i?i.split(",")[2]:"-")}},geo:{map:"world",left:0,top:20,right:0,bottom:0,boundingCoords:[[-180,90],[180,-90]],center:[],zoom:1,label:{emphasis:{show:!0,shadowColor:"rgba(0,0,0,0.5)",color:"#333"}},roam:"move",scaleLimit:{min:1,max:16},itemStyle:{normal:{areaColor:"#e6e8e8",borderColor:"#f1f1f1"},emphasis:{areaColor:"#d1d1d1",color:"#343434"}},regions:[]},series:[{type:"effectScatter",coordinateSystem:"geo",zlevel:2,symbolSize:10,rippleEffect:{brushType:"stroke",scale:5,period:8},itemStyle:{normal:{color:"#0795fb"}},data:[]}]};this.chart.setOption(t)}},findChart:function(){var e=this;"undefined"==typeof echarts?(this.loadScript("./static/plugins/echart/echarts.min.js"),setTimeout(function(){e.loadScript("./static/plugins/echart/world.js")},2e3)):echarts.getMap("world")||setTimeout(function(){e.loadScript("./static/plugins/echart/world.js")},2e3);!function t(){"undefined"!=typeof echarts&&echarts.getMap("world")?(e.loading=!0,e.chart||e.initChart(),e.getData()):setTimeout(function(){t()},100)}()}},mounted:function(){var e=this;this.$nextTick(function(){e.source||(e.customerid=e.loginId,e.findChart())})}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-map"},[i("h3",{staticClass:"panel-title"},[e._v(e._s(e.lg.deviceDeployment))]),e._v(" "),i("div",{staticClass:"zoom-btn"},[i("el-button",{attrs:{icon:"el-icon-minus"},on:{click:function(t){return e.changeZoom(-1.5)}}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.changeZoom(1.5)}}})],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"device-chart-Map",attrs:{id:"chartMap"+(e.source?e.source:"")}})])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("dQ2A")},null,null);t.default=l.exports},Nxqm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{dialogVisible:!1,pointType:["",lg.newCard,lg.annualCard,lg.lifeLongCard,lg.newCardLifelong],record:{}}},components:{searchComp:function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"Ghwc")).catch()},imeiComp:i("eInf").default},methods:{showDialog:function(e){this.dialogVisible=!0,this.getInfo(e)},getInfo:function(e){var t=this;Object(s._101)({historyid:e}).then(function(e){t.record=e.record}).catch(function(e){})},showMembership:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(e)},dialogCloseFn:function(){this.record={}}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.detail,visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("el-form",{ref:"searchFm",staticClass:"cardhistory-detail",attrs:{model:e.record,"label-width":"150px"}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": "}},[i("a",{staticClass:"link-btn",on:{click:function(t){return e.showMembership(e.record.targetaccount)}}},[e._v(e._s(e.record.targetname+"("+e.record.targetaccount+")"))])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType+": "}},[e._v("\n      "+e._s(e.pointType[e.record.point_type])+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number+": "}},[e._v("\n      "+e._s(e.record.point_number)+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.dateTime+": "}},[e._v("\n      "+e._s(e.utcToLocal(e.record.create_time))+"\n    ")]),e._v(" "),1==e.record.point_type||4==e.record.point_type?[i("el-form-item",{attrs:{label:e.lg.imei+": "}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},value:e.record.imeis.replaceAll(",","\r\n"),readonly:""}})],1)]:e._e(),e._v(" "),2==e.record.point_type||3==e.record.point_type?[i("el-form-item",{attrs:{label:e.lg.targetName+": "}},[e._v("\n        "+e._s(e.record.devicename)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei+": "}},[i("imeiComp",{ref:"imeiComp",attrs:{record:e.record}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rechargeBefore+": "}},[e._v("\n        "+e._s(e.utcToLocal(e.record.time_before_recharge))+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rechargeAfter+": "}},[e._v("\n        "+e._s(e.utcToLocal(e.record.time_after_recharge))+"\n      ")])]:e._e()],2),e._v(" "),i("searchComp",{ref:"searchComp"})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("6LkC")},null,null);t.default=n.exports},O6a9:function(e,t){},OE78:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pt10"},[e.auth_function.operationHistory?i("el-button",{on:{click:e.show_operationhistory}},[e._v(e._s(e.lg.operationHistory))]):e._e(),e._v(" "),e.auth_function.resetdevice?i("el-button",{on:{click:e.show_resetDevice}},[e._v(e._s(e.lg.resetDevice))]):e._e(),e._v(" "),e.auth_function.blockcustomerdevice?i("el-button",{on:{click:e.show_blockCustomerDevice}},[e._v(e._s(e.lg.blockCustomerDevice))]):e._e()],1)},staticRenderFns:[]},a=i("VU/8")({data:function(){return{data:{}}},computed:{auth_function:function(){return this.$store.state.functions||{}}},methods:{show_resetDevice:function(){this.$router.push({path:"/resetdevice",query:{imei:this.data.imei}})},show_blockCustomerDevice:function(){this.$router.push({path:"/blockcustomerdevice",query:{imei:this.data.imei}})},show_operationhistory:function(){this.$router.push({path:"/operationhistory",query:{imei:this.data.imei}})},setData:function(e){this.data=e}}},s,!1,null,null,null);t.default=a.exports},OPEw:function(e,t){},P1Pu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("zIkb"),a=i("CCAy"),r={data:function(){return{}},computed:{closingPage:function(){return this.$store.state.closingPage}},components:{menuComp:s.default,pageTabs:a.default}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-container",[t("el-aside",{attrs:{width:"270px"}},[t("menuComp")],1),this._v(" "),t("el-main",[t("pageTabs"),this._v(" "),t("transition",{attrs:{name:"el-fade-in-linear"}},[t("keep-alive",{attrs:{exclude:this.closingPage}},[t("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},PEiB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={data:function(){return{type:"add",customerName:"",permitionFm:{customerid:"",permission:""},permissionArr:[],permissionOut:[],permissionIn:[],permissionV:[],dialogVisible:!1,btnLoading:!1}},components:{userTreeSelect:r.default},methods:{selectedFn:function(e){this.permitionFm.customerid!=e.customerid&&(this.permitionFm.customerid=e.customerid,this.resetPermission(),this.getDetail(e.customerid))},setVisible:function(e){this.dialogVisible=e},setPermissionList:function(e){var t=this;this.permissionArr=e,this.permissionOut=[],this.permissionIn=[],this.permissionV=[],e.forEach(function(e,i,s){1==e.moduletype&&t.permissionOut.push(e),2==e.moduletype&&t.permissionIn.push(e),3==e.moduletype&&t.permissionV.push(e)})},setType:function(e,t){this.type=e,"edit"==e&&(this.customerName=t)},getDetail:function(e){var t=this;e&&Object(n._68)({customerid:e}).then(function(i){t.setPermissionList(i.record),t.permitionFm.customerid=e,t.$refs.userTreeComp.customerid=e}).catch(function(){})},submitFn:function(){var e=this;if(!this.permitionFm.customerid)return this.$message.error(lg.selectCustomer);var t=this.getPermissionParam();this.btnLoading=!0,Object(n._166)({customerid:this.permitionFm.customerid,permission:t}).then(function(t){e.btnLoading=!1,e.$message.success(lg.success),e.$emit("submitSuccess"),e.setVisible(!1),e.resetFm()}).catch(function(){e.btnLoading=!1})},resetFm:function(){this.$refs.permitionFm.resetFields(),this.$refs.userTreeComp&&this.$refs.userTreeComp.clearFn(),this.resetPermission()},resetPermission:function(){var e=this;this.permissionArr=[],this.permissionOut.forEach(function(t){e.$set(t,"authorized",0)}),this.permissionIn.forEach(function(t){e.$set(t,"authorized",0)}),this.permissionV.forEach(function(t){e.$set(t,"authorized",0)})},getPermissionParam:function(){var e={};return this.permissionArr.forEach(function(t,i,s){e[t.permissiontype]=t.authorized||0}),a()(e)},fmtName:function(e){return lg[e]||"+"+e},closedFn:function(){this.resetFm()}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"permission-update-dialog",attrs:{title:e.lg.permissionAdmin,"append-to-body":!0,visible:e.dialogVisible,width:"925px",top:"10vh"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closedFn}},[i("el-form",{ref:"permitionFm",attrs:{"label-width":"100px",model:e.permitionFm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": ",prop:"customerid"}},["edit"==e.type?[e._v("\n        "+e._s(e.customerName)+"\n      ")]:[i("userTreeSelect",{ref:"userTreeComp",staticStyle:{width:"240px"},on:{selected:e.selectedFn}})]],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permission+": ",prop:"permission"}},[i("el-scrollbar",{staticClass:"hidden-scroll-x",staticStyle:{height:"450px"}},[i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionOut,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.fmtName(t.i18nkey)))])]})],2),e._v(" "),e.permissionIn.length?i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionIn,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.fmtName(t.i18nkey)))])]})],2):e._e(),e._v(" "),e.permissionV.length?i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionV,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.fmtName(t.i18nkey)))])]})],2):e._e()])],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("v1uG")},null,null);t.default=c.exports},PQkt:function(e,t){},PRle:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["deviceid"],data:function(){return{sensorindex:1,sensortype:0,sensorrange:100,height:"",isloading:!1}},computed:{},methods:{setData:function(e){this.clearData(),e&&(this.sensorindex=e.sensorindex?+e.sensorindex:1,this.sensortype=e.sensortype?+e.sensortype:0,this.sensorrange=e.sensorrange?+e.sensorrange:100,this.height=e.height?e.height:"")},updata:function(){var e=this;if(e.checkParams()){this.isloading=!0;var t={deviceid:this.deviceid,sensorindex:this.sensorindex,sensortype:this.sensortype};2==this.sensortype&&(t.sensorrange=this.sensorrange,t.height=this.height),Object(s._167)(t).then(function(t){e.hideDialog(),e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1}).catch(function(t){e.isloading=!1}),this.countEvent({action:"油箱传感设置",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){if(2==this.sensortype){if(0==this.sensorrange)return this.$message.error(lg.sensorRangeNotNull),!1;if(!this.height)return this.$message.error(lg.heightNotNull),!1;if(this.height<=0||!/^\d{1,}$/.test(this.height))return this.$message.error(lg.tankHeight+": "+lg.dataFormatError),!1}return!0},clearData:function(){this.sensorindex=1,this.sensortype=0,this.sensorrange=100,this.height=""},hideDialog:function(){this.$emit("setVisible",!1)}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-fuel-sensor-box"},[i("el-row",{attrs:{gutter:80}},[i("el-col",{attrs:{span:20}},[i("el-form",{attrs:{"label-position":"left","label-width":"140px"}},[i("el-form-item",{attrs:{label:e.lg.input}},[i("el-select",{model:{value:e.sensorindex,callback:function(t){e.sensorindex=t},expression:"sensorindex"}},[i("el-option",{attrs:{label:e.lg.analogueInput1,value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.analogueInput2,value:2}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type}},[i("el-select",{model:{value:e.sensortype,callback:function(t){e.sensortype=t},expression:"sensortype"}},[i("el-option",{attrs:{label:e.lg.labelDefault,value:0}}),e._v(" "),i("el-option",{attrs:{label:e.lg.sensortype1,value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.sensortype2,value:2}})],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.sensortype,expression:"sensortype==2"}],attrs:{label:e.lg.sensorRange,required:""}},[i("el-select",{model:{value:e.sensorrange,callback:function(t){e.sensorrange=t},expression:"sensorrange"}},[i("el-option",{attrs:{label:e.lg.selectHint,value:0}}),e._v(" "),i("el-option",{attrs:{label:"100cm",value:100}}),e._v(" "),i("el-option",{attrs:{label:"250cm",value:250}})],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.sensortype,expression:"sensortype==2"}],attrs:{label:e.lg.tankHeight,required:""}},[i("el-input",{staticStyle:{width:"218px"},on:{blur:function(t){return e.$trimFn("","height")}},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}},[i("template",{slot:"append"},[e._v("cm")])],2)],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:14}},[i("div",{staticClass:"pr"})])],1),e._v(" "),i("div",{staticClass:"submit-box mt20 tr"},[i("el-button",{attrs:{type:"primary",loading:e.isloading},on:{click:e.updata}},[e._v(e._s(e.lg.save))])],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},PSis:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("A6oP"),r={props:["customerType"],data:function(){return{isSelf:!0,customerid:"",activeName:"preference",dialogVisible:!1,timezoneArr:a.e,firstdayofweekArr:[{value:1,label:lg.monday},{value:7,label:lg.sunday}],btnloading:!1,formData:{distance:1,pressure:1,temperature:1,capacity:1,fuelefficiency:1,accidle:0,cmdneeddydpwd:0,enableimeilogin:0},scene:"",methodGet:s._61,methodSave:s._163,loading:!1}},components:{notifySettingComp:function(){return i.e(127).then(i.bind(null,"K1Fb")).catch()},permissionRuleComp:function(){return i.e(103).then(i.bind(null,"SdrY")).catch()},settingComp:function(){return new Promise(function(e){e()}).then(i.bind(null,"PSis")).catch()}},computed:{auth:function(){return this.$store.state.auth},auth_function:function(){return this.$store.state.functions||{}},isSetTemplate:function(){return"setTemplate"==this.scene},title:function(){return this.isSetTemplate?lg.setTemplate:this.isSelf?lg.preference:lg.setting},showTemplateSettings:function(){return!this.isSetTemplate||this.formData.asdefault}},methods:{setVisible:function(e){this.dialogVisible=e},setScene:function(e){this.scene=e,this.isSetTemplate?(this.methodGet=s._144,this.methodSave=s._145):(this.methodGet=s._61,this.methodSave=s._163)},getData:function(e,t,i){var s=this;if(this.customerid=e,this.isSelf=t||this.customerid==this.$store.state.customerInfo.id,this.setScene(i),this.loading=!0,t&&"setTemplate"!=i)this.$store.dispatch("getUnitAjax").then(function(e){s.loading=!1,s.formData=e}).catch(function(e){s.loading=!1});else{if("3"==this.customerType)return this.showAppNotify();this.methodGet({customerid:e}).then(function(e){s.loading=!1,s.formData=e.record}).catch(function(){s.btnloading=!1})}"appNotify"==this.activeName&&this.showAppNotify()},onSubmit:function(){var e=this;this.btnloading=!0,this.isSelf||(this.formData.customerid=this.customerid),this.methodSave(this.formData).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.isSelf&&e.$store.dispatch("setUnit",e.formData),e.setVisible(!1)}).catch(function(){e.btnloading=!1}),this.isSetTemplate?this.countEvent({action:"新客模板-偏好设置",opt_label:"点击",val:"Dealer2"}):this.countEvent({action:"偏好设置",opt_label:"点击",val:"Dealer2"})},cancelFn:function(){this.setVisible(!1)},dialogCloseFn:function(){},handleClick:function(e){"appNotify"==e.name&&this.showAppNotify(),"permissionRule"==e.name&&this.showRule()},showAppNotify:function(){var e=this;this.findObj("notifySettingComp",this.$refs,function(){e.$refs.notifySettingComp.getInfo(e.customerid,e.scene)})},showRule:function(){var e=this;this.findObj("permissionRuleComp",this.$refs,function(){e.$refs.permissionRuleComp.getList()})},showSetTemplate:function(){var e=this.customerid;this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(e,null,"setTemplate")}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.formData=t}).catch(function(e){})}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"perference-dialog",attrs:{title:e.title,visible:e.dialogVisible,modal:!0,"append-to-body":!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},["3"!=e.customerType?[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.preference,name:"preference"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("el-form",{ref:"formComp",attrs:{"label-position":"top",model:e.formData},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateSettings,expression:"showTemplateSettings"}]},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.distanceMetrics,prop:"distance"}},[i("el-select",{model:{value:e.formData.distance,callback:function(t){e.$set(e.formData,"distance",t)},expression:"formData.distance"}},[i("el-option",{attrs:{label:e.lg.kilometre,value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.mile,value:2}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.pressureMetrics,prop:"pressure"}},[i("el-select",{model:{value:e.formData.pressure,callback:function(t){e.$set(e.formData,"pressure",t)},expression:"formData.pressure"}},[i("el-option",{attrs:{label:e.lg.psi+"("+e.lg.psiUnit+")",value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.bar+"("+e.lg.barUnit+")",value:2}}),e._v(" "),i("el-option",{attrs:{label:e.lg.KPa+"("+e.lg.kpaUnit+")",value:3}})],1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.temperatureMetrics,prop:"temperature"}},[i("el-select",{model:{value:e.formData.temperature,callback:function(t){e.$set(e.formData,"temperature",t)},expression:"formData.temperature"}},[i("el-option",{attrs:{label:e.lg.celsius+"("+e.lg.celsiusUnit+")",value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.fahrenheit+"("+e.lg.fahrenheitUnit+")",value:2}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.volumeMetrics,prop:"capacity"}},[i("el-select",{model:{value:e.formData.capacity,callback:function(t){e.$set(e.formData,"capacity",t)},expression:"formData.capacity"}},[i("el-option",{attrs:{label:e.lg.Litres+"("+e.lg.fuelUnit+")",value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.usGallons,value:2}}),e._v(" "),i("el-option",{attrs:{label:e.lg.ukGallons,value:3}})],1)],1)],1)],1),e._v(" "),i("el-row",{staticClass:"row-line"},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.fuelEfficiencyMetrics,prop:"fuelefficiency"}},[i("el-select",{model:{value:e.formData.fuelefficiency,callback:function(t){e.$set(e.formData,"fuelefficiency",t)},expression:"formData.fuelefficiency"}},[i("el-option",{attrs:{label:e.lg["100fuelUnit"],value:1}}),e._v(" "),i("el-option",{attrs:{label:e.lg.usGalEfficiencyUnit,value:2}}),e._v(" "),i("el-option",{attrs:{label:e.lg.ukGalEfficiencyUnit,value:3}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}})],1),e._v(" "),i("el-row",{staticClass:"row-line"},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.timeZone,prop:"timezone"}},[i("el-select",{attrs:{disabled:e.isSetTemplate},model:{value:e.formData.timezone,callback:function(t){e.$set(e.formData,"timezone",t)},expression:"formData.timezone"}},e._l(e.timezoneArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.firstDayOfWeek,prop:"firstdayofweek"}},[i("el-select",{model:{value:e.formData.firstdayofweek,callback:function(t){e.$set(e.formData,"firstdayofweek",t)},expression:"formData.firstdayofweek"}},e._l(e.firstdayofweekArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{prop:"accidle"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.lg.accIdleAlarm)+"\n                  "),i("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetIdle)},slot:"content"})]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                      一"),i("br"),e._v("此处为Monitor/Track页面中的Engine IDLE状态(橙色车辆图标)显示。"),i("br"),e._v("\n                      (此处非报警设置。报警设置请到设备报警设置中)"),i("br"),i("br"),e._v("\n\n                      二"),i("br"),e._v("问：EngineIDLE的状态，报警，报表三者之间的关系？"),i("br"),e._v("\n                      答：三者之间没有关系。(开启与否各不关联)"),i("br"),i("br"),e._v("\n\n                      三"),i("br"),e._v("EngineIDLE 状态需满足的条件："),i("br"),e._v("\n                      1. 偏好设置里面，开启Engine IDLE显示(默认是关闭显示)"),i("br"),e._v("\n                      Settings -> Preferences --\x3eEngine IDLE --\x3e（开启）"),i("br"),e._v("\n                      2. 触发Engine IDLE的条件："),i("br"),e._v("\n                      设备ACC ON，且静止则进入Engine IDLE状态。"),i("br"),e._v("\n                      静止定义：速度小于5km/s 或者35秒以上没有发送GPS数据则认为静止；"),i("br"),e._v("\n                      3. 另：超过6分钟的Engine IDLE 系统会记录下来（即使EngineIDLE状态是关闭的），"),i("br"),e._v("\n                      可以在Engine idle report查询。\n                    ")])])],1),e._v(" "),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.accidle,callback:function(t){e.$set(e.formData,"accidle",t)},expression:"formData.accidle"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{prop:"accidle"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  "+e._s(e.lg.cmdneeddydpwd)+"\n                  "),i("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetCmdPwd)},slot:"content"})])],1),e._v(" "),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.cmdneeddydpwd,callback:function(t){e.$set(e.formData,"cmdneeddydpwd",t)},expression:"formData.cmdneeddydpwd"}})],1)],1)],1),e._v(" "),i("el-row",{class:e.isSetTemplate?"row-line":""},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{prop:"accidle"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                    "+e._s(e.lg.enableImeiLogin)+"\n                    "),i("el-tooltip",{attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info"}),e._v(" "),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.lg.tipsSetImeiLogin)},slot:"content"})])],1),e._v(" "),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.enableimeilogin,callback:function(t){e.$set(e.formData,"enableimeilogin",t)},expression:"formData.enableimeilogin"}})],1)],1)],1)],1),e._v(" "),e.isSelf&&e.isSetTemplate?[i("el-form-item",{attrs:{prop:"accidle"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                "+e._s(e.lg.preference)+": "+e._s(e.lg.asDefaultSetting)+"\n                "),e.lg.asDefaultSettingTips?i("el-tooltip",{staticClass:"item",attrs:{"popper-class":"el-txt-tips",effect:"dark",placement:"top"}},[i("div",{staticStyle:{"max-width":"280px","line-height":"21px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.lg.asDefaultSettingTips))]),e._v(" "),i("span",{staticClass:"email-help el-icon-info"})]):e._e()],1),e._v(" "),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.asdefault,callback:function(t){e.$set(e.formData,"asdefault",t)},expression:"formData.asdefault"}})],1)]:e._e()],2),e._v(" "),i("div",{staticClass:"tools tr mb20"},[i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))])],1)]),e._v(" "),e.isSetTemplate?e._e():i("div",{staticClass:"more tl",staticStyle:{"border-top":"1px solid #ddd",padding:"20px 0 0"}},[e._v("\n        "+e._s(e.lg.more)+":\n        "),i("div",{staticClass:"wrap-set-template"},[i("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.setTemplateTips,align:"rightBottom"},expression:"{txt:lg.setTemplateTips,align:'rightBottom'}"}],staticClass:"set-template",attrs:{href:"javascript://"},on:{click:e.showSetTemplate}},[i("i",{staticClass:"option-btn base-icon set-icon"}),e._v(" "+e._s(e.lg.setTemplate)+"\n          ")]),e._v(" "),i("span",{staticStyle:{color:"#aaa"}},[e._v("("+e._s(e.lg.setTemplateTips)+")")]),e._v(" "),i("settingComp",{ref:"settingComp",attrs:{sence:"setTemplate"}})],1)])],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.appNotify,name:"appNotify"}},[i("notifySettingComp",{ref:"notifySettingComp",on:{onCancel:e.cancelFn}})],1),e._v(" "),e.isSetTemplate&&e.auth_function.permissionruleuse?i("el-tab-pane",{attrs:{label:e.lg.permissionRule,name:"permissionRule"}},[i("permissionRuleComp",{ref:"permissionRuleComp",on:{onCancel:e.cancelFn}})],1):e._e()],1)]:[i("notifySettingComp",{ref:"notifySettingComp",on:{onCancel:e.cancelFn}})]],2)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("DFbo")},null,null);t.default=o.exports},PYyo:function(e,t){},Pm0B:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"supportcall",data:function(){return{}},components:{supportcallAdd:i("vpyz").default},methods:{}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h100b"},[t("h3",{staticClass:"block-titlebar"},[this._v(this._s(this.lg.supportcall))]),this._v(" "),t("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[t("div",{staticClass:"table-page"},[t("supportcallAdd",{ref:"addComp"})],1)])],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},PvY0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{showType:"detail",detailObj:{}}},components:{receiver:function(){return i.e(83).then(i.bind(null,"V1xy")).catch()}},methods:{setData:function(e){this.detailObj=e,this.showType="detail"},showReceiverListFn:function(){this.showType="receiver",this.$refs.receiver.setData(this.detailObj.messageid)},backDetail:function(){this.showType="detail"}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-detail-dialog"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"detail"==e.showType,expression:"showType == 'detail'"}]},[i("div",{staticClass:"message-from-box"},[e.detailObj.sendername&&e.detailObj.senderaccount?i("p",[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.from)+": ")]),e._v(e._s(e.detailObj.sendername)+" ("+e._s(e.detailObj.senderaccount)+")")]):i("p"),e.detailObj.receivernum?i("div",{staticStyle:{width:"40%",float:"right"}},[e._v(e._s(e.lg.sendTo)+": "),i("a",{attrs:{href:"javascript://"},on:{click:function(t){return e.showReceiverListFn()}}},[e._v(e._s(e.detailObj.receivernum))])]):e._e(),e._v(" "),i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.comefrom)+": ")]),e._v(e._s(e.detailObj.sender)+"\n      "),i("p"),e._v(" "),e.detailObj.phone?i("p",[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.mobile)+": ")]),e._v(e._s(e.detailObj.phone))]):e._e(),e._v(" "),i("p",[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.date)+": ")]),e._v(e._s(this.utcToLocal(e.detailObj.createtime)))])]),e._v(" "),i("div",{staticClass:"message-content"},[i("p",[e._v(e._s(e.detailObj.content))])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"receiver"==e.showType,expression:"showType == 'receiver'"}]},[i("receiver",{ref:"receiver"})],1)])},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("rZrZ")},null,null);t.default=r.exports},Q15M:function(e,t){},QGxc:function(e,t){},QHKE:function(e,t){},QgI2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("1JpP"),n={name:"openapi",data:function(){return{activeName:"operation",openApiFm:{customerid:"",remark:""},btnloading:!1}},components:{userTreeSelect:s.default,history:r.default},computed:{auth:function(){return this.$store.state.auth}},methods:{selectedFn:function(e){this.openApiFm.customerid=e.customerid},tabClick:function(){this.activeName},onSubmit:function(){var e=this;if(!this.openApiFm.customerid)return this.$message.error(lg.selectCustomer);this.btnloading=!0,Object(a.h)(this.openApiFm).then(function(t){e.btnloading=!1,e.$message.success(lg.success+(t.msg?"<br />"+t.msg:"")),e.fmReset()}).catch(function(){e.btnloading=!1})},fmReset:function(){this.$refs.openApiFm.resetFields(),this.$refs.userTreeComp.clearFn()}},mounted:function(){}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.openApiAssign)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("1 给谁开通，谁就可用"),i("br"),i("br"),e._v("\n       2 给客户开通，请在此操作，"),i("br"),e._v("\n        而非到〖Permission Management〗中"),i("br"),e._v("\n        (其它：给客户开通翻译 也类似)\n      ")])])],1),e._v(" "),i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.openApiAssign,name:"operation"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"openApiFm",attrs:{"show-message":!1,model:e.openApiFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("openApiFm","remark")}},model:{value:e.openApiFm.remark,callback:function(t){e.$set(e.openApiFm,"remark",t)},expression:"openApiFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"history"}},[i("history",{ref:"historyComp"})],1)],1)],1)])],1)])},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},QmMy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("WJqe");var s=i("gyMJ"),a={data:function(){return{deviceid:"",activeName:"basicinfo"}},computed:{auth:function(){return this.$store.state.auth}},components:{basicInfo:function(){return i.e(120).then(i.bind(null,"MuqN")).catch()},installation:function(){return i.e(143).then(i.bind(null,"BpT4")).catch()},fuelComp:function(){return i.e(119).then(i.bind(null,"aJlA")).catch()},fuelInfo:function(){return i.e(123).then(i.bind(null,"5tBF")).catch()},fuelSensor:function(){return i.e(151).then(i.bind(null,"PRle")).catch()},fuelCalibration:function(){return i.e(112).then(i.bind(null,"1ySC")).catch()},otherComp:function(){return i.e(141).then(i.bind(null,"R/6J")).catch()},alertComp:function(){return i.e(121).then(i.bind(null,"sooS")).catch()}},methods:{getDetail:function(e){this.deviceid=e;var t=this;this.findObj("basicInfoComp",this.$refs,function(){t.$refs.basicInfoComp.getDetail(t.deviceid)}),this.findObj("alertComp",this.$refs,function(){t.$refs.alertComp.setDeviceid(t.deviceid)}),this.getDeviceExtraInfo(),this.getTankInfo()},getDeviceExtraInfo:function(){var e=this;Object(s._42)({deviceid:this.deviceid}).then(function(t){e.$refs.installComp.setData(t.record),e.$refs.otherComp.setData(t.record)}).catch(function(e){})},getTankInfo:function(){var e=this;Object(s._44)({deviceid:this.deviceid}).then(function(t){e.$refs.fuelInfoComp.setData(t.record.fuelconsumption),e.$refs.fuelComp.setVal(t.record),e.$refs.fuelSensorComp.setData(t.record),e.$refs.fuelCalibrationComp.setData(t.record.config)}).catch(function(e){})},setVisible:function(e){this.$emit("hideDetail")},dialogCloseFn:function(){},init:function(){this.activeName="basicinfo"}},mounted:function(){var e=this,t=this;this.init(),this.$store.dispatch("getUnit").then(function(i){e.findObj("fuelInfoComp",e.$refs,function(){t.$refs.fuelInfoComp.setUnit(i)})}).catch(function(e){})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tabs",{staticClass:"device-info-tabs",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.targetDetail,name:"basicinfo"}},[i("basicInfo",{ref:"basicInfoComp",on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.installInfo,name:"install"}},[i("installation",{ref:"installComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.fuel,name:"tank"}},[i("el-tabs",{staticClass:"fuel-tab",attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:e.lg.fuelConsumptions}},[i("fuelInfo",{ref:"fuelInfoComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.fuelTank}},[i("fuelComp",{ref:"fuelComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.fuelSensor}},[i("fuelSensor",{ref:"fuelSensorComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.fuelCalibration}},[i("fuelCalibration",{ref:"fuelCalibrationComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.deviceOtherInfo,name:"other"}},[i("otherComp",{ref:"otherComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1),e._v(" "),i("el-tab-pane",{attrs:{name:"alert"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.lg.alarmSetting)+"\n      "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n          注："),i("br"),e._v("\n          此处报警设置，仅为平台产生的报警类型。"),i("br"),e._v("\n          不包含设备上报的报警类型。"),i("br")])])],1),e._v(" "),i("alertComp",{ref:"alertComp",attrs:{deviceid:e.deviceid},on:{setVisible:e.setVisible}})],1)],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("rkso")},null,null);t.default=n.exports},QsfW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o=i("sbFl"),l=i("MK6x"),c=i("6ZSK"),u=i("JpI3"),m=i("zxLV"),d=i("c/Hu"),h={name:"model",data:function(){return{searchFm:{customerid:"",devicetype:"",functions:[],command:"",protocol:"",protocolid:""},propertyArr:[{label:"ACC",value:"14"},{label:"External voltage",value:"1"},{label:"Battery",value:"12"},{label:"Door",value:"2"},{label:"Multi doors",value:"3"},{label:"Air conditioner",value:"4"},{label:"Armed status",value:"5"},{label:"Engine status",value:"7"},{label:"Charge status",value:"6"},{label:"Fuel",value:"13"},{label:"Tire pressure",value:"8"},{label:"Temperature",value:"9"},{label:"IO",value:"10"},{label:"OBD",value:"15"},{label:"Driving behavior",value:"11"}],commandArr:[{label:"Stop Engine",value:"1"}],records:[],searchParams:{},total:0,start:0,page:1,pagesize:15,pagesizes:[10,15,20,30,50],loading:!1}},components:{userTreeSelect:r.default,addModel:o.default,linkUser:c.default,editModel:l.default,linkList:u.default,functions:m.default,protocolInput:d.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.searchFm.customerid=e.customerid},searchFn:function(){this.start=0,this.page=0,this.searchParams={customerid:this.searchFm.customerid,devicetype:this.searchFm.devicetype,property:this.searchFm.functions.toString(),command:this.searchFm.command},this.searchFm.protocolid&&(this.searchParams.protocolid=this.searchFm.protocolid),this.getList()},resetSearch:function(){this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.$refs.protocolComp.reset(),this.start=0,this.searchParams={},this.getList()},setProtocolId:function(e){this.searchFm.protocolid=e},getList:function(){var e=this;this.loading=!0,Object(n._57)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtFlag:function(e,t,i,s){return"1"==i?"√":"-"},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},viewModelFunctions:function(e){this.$refs.functionsComp.setVisible(!0),this.$refs.functionsComp.getList(e.devicetype)},viewOwner:function(e){this.$refs.linkListComp.setVisible(!0),this.$refs.linkListComp.getList(e.devicetypeid)},showEdit:function(e){this.$refs.editModelComp.setData(e),this.$refs.editModelComp.setVisible(!0)},addOwner:function(e){this.$refs.linkUserComp.setData(e),this.$refs.linkUserComp.setVisible(!0)},showAdd:function(){this.$refs.addModelComp.setVisible(!0)},addSuccess:function(){this.resetSearch()}},mounted:function(){this.getList()}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-model h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.deviceTypeAdmin))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",staticClass:"clearfix",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType,prop:"devicetype"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","devicetype")}},model:{value:e.searchFm.devicetype,callback:function(t){e.$set(e.searchFm,"devicetype",t)},expression:"searchFm.devicetype"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.protocol,prop:"protocolid"}},[i("protocolInput",{ref:"protocolComp",on:{change:e.setProtocolId}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Property",prop:"functions"}},[i("el-select",{staticStyle:{width:"240px"},attrs:{multiple:"",clearable:"","collapse-tags":""},model:{value:e.searchFm.functions,callback:function(t){e.$set(e.searchFm,"functions",t)},expression:"searchFm.functions"}},e._l(e.propertyArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.command,prop:"command"}},[i("el-select",{attrs:{clearable:"","collapse-tags":""},model:{value:e.searchFm.command,callback:function(t){e.$set(e.searchFm,"command",t)},expression:"searchFm.command"}},e._l(e.commandArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"search-form-btns"},[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearch}},[e._v(e._s(e.lg.reset))])],1),e._v(" "),i("el-button",{staticClass:"form-new-btn fr",attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.new))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"devicetype",label:e.lg.targetType}}),e._v(" "),i("el-table-column",{attrs:{prop:"aliastype",label:e.lg.aliasModel}}),e._v(" "),i("el-table-column",{attrs:{prop:"protocol",label:e.lg.protocol}}),e._v(" "),i("el-table-column",{attrs:{prop:"ourmodel",label:e.lg.companyDeviceType,formatter:e.fmtFlag}}),e._v(" "),i("el-table-column",{attrs:{prop:"basemodel",label:e.lg.baseDeviceType,formatter:e.fmtFlag}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"tools"},[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row)}}},[e._v(e._s(e.lg.edit))]),e._v(" | \n            "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.addOwner(t.row)}}},[e._v(" "+e._s(e.lg.addOwner))]),e._v(" | \n            "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.viewOwner(t.row)}}},[e._v(e._s(e.lg.viewOwner))]),e._v(" | \n            "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.viewModelFunctions(t.row)}}},[e._v("Functions")])])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"current-page":e.page,"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),i("addModel",{ref:"addModelComp",on:{commitCallback:e.addSuccess}}),e._v(" "),i("editModel",{ref:"editModelComp"}),e._v(" "),i("linkUser",{ref:"linkUserComp"}),e._v(" "),i("linkList",{ref:"linkListComp"}),e._v(" "),i("functions",{ref:"functionsComp"})],1)])],1)},staticRenderFns:[]},f=i("VU/8")(h,p,!1,null,null,null);t.default=f.exports},QxAe:function(e,t){},"R/6J":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{isloading:!1,labelPosition:"top",deviceid:0,data:{}}},methods:{getDetail:function(){var e=this;this.deviceid&&Object(s._42)({deviceid:this.deviceid}).then(function(t){e.data=t.record}).catch(function(e){})},setData:function(e){this.data=e},editInstall:function(){var e=this;this.checkParams()&&(this.isloading=!0,Object(s._12)(this.data).then(function(t){e.hideDialog(),e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1}).catch(function(e){_this.isloading=!1}))},checkParams:function(){var e=this.data;return""!=e.drivername&&e.drivername.length>64?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.driverName).replace("{{num}}",64)),!1):""!=e.driverphone&&e.driverphone.length>64?(this.$message.error(lg.phoneNumberError),!1):""!=e.vin&&e.vin.length>32?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.vin).replace("{{num}}",32)),!1):""!=e.engineno&&e.engineno.length>32?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.engineNum).replace("{{num}}",32)),!1):!(""!=e.vehiclebrand&&e.vehiclebrand.length>32)||(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.vehicleBrand).replace("{{num}}",32)),!1)},setDeviceId:function(e){this.deviceid=e},hideDialog:function(){this.$emit("setVisible",!1)}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-other pt20"},[i("el-form",{attrs:{"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.editInstall.apply(null,arguments)}}},[i("div",{staticStyle:{"min-height":"380px"}},[i("el-form-item",{attrs:{label:e.lg.driverName+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","drivername")}},model:{value:e.data.drivername,callback:function(t){e.$set(e.data,"drivername",t)},expression:"data.drivername"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.mobile+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","driverphone")}},model:{value:e.data.driverphone,callback:function(t){e.$set(e.data,"driverphone",t)},expression:"data.driverphone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.vin+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","vin")}},model:{value:e.data.vin,callback:function(t){e.$set(e.data,"vin",t)},expression:"data.vin"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.engineNum+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","engineno")}},model:{value:e.data.engineno,callback:function(t){e.$set(e.data,"engineno",t)},expression:"data.engineno"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.color+":"}},[i("el-color-picker",{model:{value:e.data.vehiclecolor,callback:function(t){e.$set(e.data,"vehiclecolor",t)},expression:"data.vehiclecolor"}}),e._v(" "),i("span",{staticClass:"color-value"},[e._v(e._s(e.data.vehiclecolor))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.vehicleBrand+":"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("data","vehiclebrand")}},model:{value:e.data.vehiclebrand,callback:function(t){e.$set(e.data,"vehiclebrand",t)},expression:"data.vehiclebrand"}})],1)],1),e._v(" "),i("div",{staticClass:"submit-box tr"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)])],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("Gqz3")},null,null);t.default=n.exports},RDSy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{}},methods:{resetPassword:function(e){var t=this;this.$confirm(lg.resetPwdTip).then(function(){Object(s._117)({customerid:e}).then(function(e){t.$message.success(lg.resetPwdSuceess)}).catch(function(){})}).catch(function(){}),this.countEvent({action:"重置密码",opt_label:"点击",val:"Dealer2"})}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},"RRU+":function(e,t){},RfJi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"movedatatransfercard",data:function(){return{searchFm:{customerid:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],loading:!1}},components:{userTreeSelect:r.default,moveDataTransferCardComp:function(){return i.e(89).then(i.bind(null,"o1i6")).catch()}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{indexMethod:function(e){return this.start+(e+1)},searchUserFn:function(e){this.searchFm.customerid=e.customerid},searchFn:function(){this.start=0,this.total=0,this.searchParams={customerid:this.searchFm.customerid},this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._150)(a()({start:this.start,count:this.pagesize,operationtype:"2"},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"move-data-transfercard h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.moveDataTransferCard))]),e._v(" "),i("el-row",{staticClass:"has-titlebar-content"},[i("el-col",{staticClass:"h100b",attrs:{span:8}},[i("moveDataTransferCardComp",{on:{getList:e.getList}})],1),e._v(" "),i("el-col",{staticClass:"h100b",attrs:{span:16}},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"main-table"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.history))]),e._v(" "),i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userSearchComp",on:{selected:e.searchUserFn}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary"},on:{click:e.searchFn}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:e.lg.aimCustomer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointnumber",label:e.lg.number}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("e1WB")},null,null);t.default=c.exports},RfSy:function(e,t){},RmVr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("iKHV"),n=i("KvKp"),o={data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.selectCustomer)):s()},speedthreshold:function(t,i,s){""===(i=e.$trim(i))?s(new Error("Please input speeding value.")):s()},imeis:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.inputImeiError)):Object(r.f)(i)?s():s(new Error(lg[20053]))}};return{showadd:!1,addFm:{customerid:"",token:"",speedthreshold:"",imeis:"",remark:""},balance:0,transfertype:9,tokenKey:"tokenPeruOG",btnloading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"}],speedthreshold:[{required:!0,validator:t.speedthreshold,trigger:"blur"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.addFm.customerid=e.customerid},setVisible:function(e){this.showadd=e,e&&this.getOgToken()},tipsImei:function(){return"One line one IMEI.<br />"+lg.maxImeiNum.replace("{num}",200)},getBalance:function(){var e=this;Object(a._102)({customerid:this.loginId}).then(function(t){e.balance=t.transfercardpoint}).catch(function(){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a._96)(t,{errorHide:!0}).then(function(i){var s;0==i.errorcode?(s=i.exist&&i.exist>0?lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(i.exist))+".<br />Existed:"+i.exist+".<br />Existed "+i.msg.split(",").join("<br />"):lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(i.exist))+"."+(i.msg?"("+i.msg+")":""),e.$message({dangerouslyUseHTMLString:!0,type:"success",duration:0,showClose:!0,message:s}),e.fmReset(),e.setVisible(!1),e.$emit("addSuccess"),Object(n.m)(e.tokenKey,t.ogtoken)):e.$message({dangerouslyUseHTMLString:!0,type:"error",duration:0,showClose:!0,message:lg[i.errorcode]+(i.msg?"<br />"+i.msg.split(",").join("<br />"):"")});e.btnloading=!1}).catch(function(){e.btnloading=!1}))},clearFn:function(){this.setVisible(!1),this.fmReset()},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},getTotal:function(e){var t=this.$trim(this.addFm.imeis);return t=t.replaceAll("\n",",").split(","),"1"==e?t.length:"2"==e?this.unique(t).length:void 0},checkParams:function(){var e=this.addFm.customerid,t=this.addFm.token,i=this.$trim(this.addFm.speedthreshold),s=this.$trim(this.addFm.imeis),a=this.$trim(this.addFm.remark);if(!e)return this.$message.error("Please input apply account."),!1;if(!t)return this.$message.error("Please input Token."),!1;if(""==i)return this.$message.error("Please input speeding value."),!1;if(!s)return this.$message.error(lg.inputImeiError),!1;if((s=this.formatImeis(s)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var n=Object(r.g)(s);return n.rs?{transfertype:this.transfertype,customerid:e,ogtoken:t,speedthreshold:i,imeis:n.imeis.join(","),remark:a}:(this.$message.error(lg[20053]+"("+n.imeis[n.imeis.length-1]+")"),!1)},dialogCloseFn:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},getOgToken:function(){this.addFm.token=Object(n.c)(this.tokenKey)||""}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.add,visible:e.showadd,modal:!0,"show-close":!0,width:"620px","append-to-body":!0},on:{"update:visible":function(t){e.showadd=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"addFm",attrs:{model:e.addFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n        "+e._s(e.balance)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:"Apply account",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Token",required:"",prop:"token"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("addFm","speedthreshold")}},model:{value:e.addFm.token,callback:function(t){e.$set(e.addFm,"token",t)},expression:"addFm.token"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.overspeedThreshold,prop:"speedthreshold"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("addFm","speedthreshold")}},model:{value:e.addFm.speedthreshold,callback:function(t){e.$set(e.addFm,"speedthreshold",t)},expression:"addFm.speedthreshold"}}),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{title:"0 means no limit. other(>0) means set the speed threshold.",closable:!1,"show-icon":"",type:"info"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea"},on:{blur:function(t){return e.trimImeiInput("addFm","imeis")}},model:{value:e.addFm.imeis,callback:function(t){e.$set(e.addFm,"imeis",t)},expression:"addFm.imeis"}}),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",[e._v("One line one IMEI.")]),e._v(" "),i("div",[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.addFm.remark,callback:function(t){e.$set(e.addFm,"remark",t)},expression:"addFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.clearFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("uXAg")},null,null);t.default=c.exports},Rpa2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["defaultUserInfo","treeType"],prop:["width"],data:function(){return{activeName:"",name:"",num:10,notFirst:!1,showTree:!1}},components:{tree:i("zAgK").default},methods:{changeFn:function(){""==this.$trim(this.name)&&(this.activeName="",this.callbackComp({customerid:"",name:""}))},querySearchAsync:function(e,t){var i=this,a=this.$trim(e);if(""==a)return t([]);Object(s.U)({query:a,num:this.num}).then(function(e){t(e.suggestions),i.$refs.userTreeInput.handleFocus()}).catch(function(e){})},handleSelect:function(e){this.activeName=e.value,this.callbackComp({customerid:e.data,name:e.value,roletype:e.roletype})},treeNodeClick:function(e){this.callbackComp({customerid:e.id,name:e.name,roletype:e.roletype}),this.name=e.name,this.hideTree(),this.activeName=e.account?(e._name?e._name:e.name)+"("+e.account+")":""},setCustomer:function(e){this.name=e},refresh:function(){this.$refs.treeComp.refresh()},toggleTree:function(){this.notFirst=!0,this.showTree=!this.showTree},hideTree:function(){this.showTree=!1},clearFn:function(){this.name="",this.activeName=""},callbackComp:function(e){this.$emit("selected",e)},focusAutoComp:function(e){document.getElementById("tips").style.display="none",this.checkPopupPosition(e)},checkPopupPosition:function(e){if(0!=document.body.scrollLeft)for(var t=document.querySelectorAll(".el-dialog__body"),i=0,s=t.length;i<s;i++)t[i].hasChildNodes(e.target)&&(document.body.scrollLeft=0)},setDefaultUserInfo:function(e){e&&(this.defaultUserInfo=e,this.treeNodeClick(this.defaultUserInfo))}},mounted:function(){var e=this;e.defaultUserInfo&&e.treeNodeClick(e.defaultUserInfo),document.body.addEventListener("click",function(t){e.hideTree()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-tree-select"},[i("div",{directives:[{name:"tip",rawName:"v-tip",value:e.activeName,expression:"activeName"}],attrs:{"data-tips":e.activeName}},[i("el-autocomplete",{ref:"userTreeInput",attrs:{"trigger-on-focus":!1,"fetch-suggestions":e.querySearchAsync,"popper-class":"user-autocomplete",clearable:"",placeholder:e.lg.selectHint},on:{select:e.handleSelect,focus:function(t){return e.focusAutoComp(t)},input:e.changeFn},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[i("i",{staticClass:"user-icon",class:"user-icon-"+s.roletype}),e._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"s-name"},[e._v(e._s(s.name))]),e._v(" "),i("span",{staticClass:"s-account"},[e._v(e._s(s.account))])])]}}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[i("el-button",{staticClass:"select-btn",attrs:{slot:"append",icon:e.showTree?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:function(t){return t.stopPropagation(),e.toggleTree.apply(null,arguments)}},slot:"append"})],1)],1),e._v(" "),e.notFirst?i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"treeBox"},[i("tree",{ref:"treeComp",attrs:{treeType:e.treeType},on:{treeNodeClick:e.treeNodeClick}})],1):e._e()])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("NPiI")},null,null);t.default=n.exports},S455:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},computed:{customerInfo:function(){return this.$store.state.customerInfo}},components:{addComp:i("Z8T2").default,settingComp:function(){return i.e(4).then(i.bind(null,"PSis")).catch()}},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e,t){var i=this;i.findObj("addComp",i.$refs,function(){e||(e=i.customerInfo.id,t=i.customerInfo.name),i.$refs.addComp.setCustomerid(e,t)})},addSuccess:function(e){this.$emit("cbAddUser",e)},closeDialog:function(){this.setVisible(!1)},dialogCloseFn:function(){this.$refs.addComp.clearFn()},showSetTemplate:function(){var e=this.customerInfo.id;this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(e,!0,"setTemplate")}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{visible:e.dialogVisible,modal:!0,"show-close":!0,width:"900px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.lg.addCustomer)+"\n    "),i("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.setTemplateTips,align:"rightBottom"},expression:"{txt:lg.setTemplateTips,align:'rightBottom'}"}],staticClass:"set-template",attrs:{href:"javascript://"},on:{click:e.showSetTemplate}},[i("i",{staticClass:"option-btn base-icon set-icon"}),e._v(e._s(e.lg.setTemplate)+"\n    ")]),e._v(" "),i("span",{staticStyle:{color:"#aaa"}},[e._v("("+e._s(e.lg.setTemplateTips)+")")])]),e._v(" "),i("addComp",{ref:"addComp",attrs:{isDialog:!0},on:{addSuccess:e.addSuccess,closeDialog:e.closeDialog}}),e._v(" "),i("settingComp",{ref:"settingComp",attrs:{sence:"setTemplate"}})],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("vUzN")},null,null);t.default=r.exports},SDaM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("EOjH"),a=i("gyMJ"),r={props:["disabled"],data:function(){return{records:[]}},components:{userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},resetPwdComp:function(){return i.e(74).then(i.bind(null,"RDSy")).catch()}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{select_tree_node:function(e){if("business"!=this.$router.currentRoute.name&&this.$router.push("/business"),this.$store.state.businessLoad){var t=[];this.records.forEach(function(i,s){s<=e&&t.push(i.id||i.customerid)}),s.a.$emit("expendBusinessTree",t)}else{var i=this;setTimeout(function(){i.select_tree_node(e)},200)}},showDetail:function(e){var t=this;this.findObj("userDetailComp",this.$refs,function(){t.$refs.userDetailComp.setVisible(!0),t.$refs.userDetailComp.getInfo(e)})},updataDetail:function(){},resetPassword:function(e){var t=this;this.findObj("resetPwdComp",this.$refs,function(){t.$refs.resetPwdComp.resetPassword(e)})},getRelationship:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);Object(a._116)({customerid:e}).then(function(e){t.records=e.record}).catch(function(e){})},getNodeIconByData:function(e){var t=e.type||e.customertype;return 1==t?1==e.readonly?"dealerreadonly":e.hadchild?"dealerarr":"dealer":2==t?1==e.readonly?"userreadonly":e.hadchild?"userarr":"user":"uservirtual"},setData:function(e){this.records=e.reverse()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"membership-table"},[i("table",{staticClass:"el-table",attrs:{cellpadding:"0",cellspacing:"0"}},[i("thead",{staticClass:"el-table__header"},[i("tr",{attrs:{bgcolor:"#eee"}},[i("th",{staticStyle:{width:"22px"}}),e._v(" "),i("th",[e._v(e._s(e.lg.customerName))]),e._v(" "),i("th",[e._v(e._s(e.lg.account))]),e._v(" "),i("th",[e._v(e._s(e.lg.operate))])])]),e._v(" "),i("tbody",e._l(e.records,function(t,s){return i("tr",{staticClass:"table-tr"},[i("td"),e._v(" "),i("td",[i("div",{staticClass:"name-td",style:"margin-left:"+(10+18*s)+"px;"},[i("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.showintree,align:"rightBottom"},expression:"{txt:lg.showintree,align:'rightBottom'}"}],class:{"link-btn":!e.disabled},on:{click:function(t){return e.select_tree_node(s)}}},[i("i",{class:"ico-user ico-user-"+e.getNodeIconByData(t)}),e._v("\n              "+e._s(t.name)+"\n              ")])])]),e._v(" "),i("td",[i("copy",{attrs:{txt:t.account}},[e._v(e._s(t.account))])],1),e._v(" "),i("td",[i("a",{staticClass:"link-btn",attrs:{href:"javascript://"},on:{click:function(i){return e.showDetail(t.id||t.customerid)}}},[e._v(e._s(e.lg.detail))]),e._v(" |\n          "),i("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/V2/index.jsp?customerid="+(t.id||t.customerid)+"&source=V2/"}},[e._v(e._s(e.lg.monitor))]),e._v(" "),s==e.records.length-1&&t.id!=e.loginId?i("span",[e._v("| "),i("a",{staticClass:"link-btn",on:{click:function(i){e.resetPassword(t.id||t.customerid)}}},[e._v(e._s(e.lg.resetPwd))])]):e._e()])])}),0)]),e._v(" "),i("userDetailComp",{ref:"userDetailComp",attrs:{title:"detail"},on:{cbSuccess:e.updataDetail}}),e._v(" "),i("resetPwdComp",{ref:"resetPwdComp"})],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("0IIb")},null,null);t.default=o.exports},SG3x:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("iKHV"),o={data:function(){return{dialogVisible:!1,endMailLoading:!1,appnotify:[],mailnotify:[],mails_tmp:[{val:"",key:Date.now()}],setObj:{notifyswitch:1,warnallday:1,smsswitch:0,mailswitch:0,allowsms:1,time:["08:00","22:00"]},customerid:"",alertType:[],btnloading:!1,loading:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{setVisible:function(e){this.dialogVisible=e},addEmail:function(){this.mails_tmp.length>2||this.mails_tmp.push({val:"",key:Date.now()})},removeEmail:function(e){var t=this.mails_tmp.indexOf(e);-1!==t&&this.mails_tmp.length>1&&this.mails_tmp.splice(t,1)},getMailStr:function(){var e=this,t=[],i="",s=!0;return this.mails_tmp.forEach(function(a){if(i=e.$trim(a.val)){if(!Object(n.k)(i))return void(s=!1);t.push(i)}}),!!s&&t.join(",")},email2arr:function(e){for(var t=e.split(","),i=[],s=0;s<t.length;s++)i.push({val:t[s],key:Date.now()+s});return i},sendMailFn:function(e){var t=this;if(!this.endMailLoading){var i=e.val;if(!i)return this.$message.error(lg.emailNull);var s={mail:i,domain:location.origin,locale:this.$lang};this.endMailLoading=!0,Object(r._148)(s).then(function(e){t.endMailLoading=!1,t.$message({message:lg.sendMailSuccess,type:"success"})}).catch(function(e){t.endMailLoading=!1})}},getAlarmType:function(){var e=this;Object(r._28)({}).then(function(t){e.alertType=t.record}).catch(function(e){})},getInfo:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);0==this.alertType.length&&this.getAlarmType(),this.loading=!0,this.customerid=e,Object(r._29)({customerid:e}).then(function(e){t.setObj=e.record,t.$set(t.setObj,"time",[t.setObj.begintime,t.setObj.endtime]),t.mails_tmp=t.email2arr(e.record.mails),t.renderArr(),t.loading=!1}).catch(function(e){t.loading=!1})},renderArr:function(){var e=this,t=this.setObj.mailnotify.split(""),i=this.setObj.appnotify.split("");t.forEach(function(t,i){"1"==t&&e.mailnotify.push(i+1)}),i.forEach(function(t,i){"1"==t&&e.appnotify.push(i+1)})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(r._121)(a()({customerid:this.customerid},t)).then(function(t){e.btnloading=!1,e.$message.success(lg.updateAlarmSettingTips),e.cancelFn()}).catch(function(t){e.btnloading=!1}))},checkParams:function(){this.$trim(this.setObj.phonenumber);var e={notifyswitch:this.setObj.notifyswitch};if(this.setObj.notifyswitch){e.warnallday=this.setObj.warnallday,e.begintime=this.setObj.begintime,e.endtime=this.setObj.endtime,e.smsswitch=this.setObj.smsswitch,e.allowsms=this.setObj.allowsms,e.phonenumber=this.setObj.phonenumber;var t=this.getMailStr();if(this.setObj.mailswitch&&!t)return this.$message.error(lg.emailFormatError),!1;e.mailswitch=this.setObj.mailswitch,e.mails=t,e.mailnotify=this.getAlarmStr("mailnotify"),e.appnotify=this.getAlarmStr("appnotify")}return e},alarmToStr:function(){var e=this;mailnotify.forEach(function(t,i){"1"==t&&e.mailnotify.push(i+1)}),appnotify.forEach(function(t,i){"1"==t&&e.appnotify.push(i+1)})},getAlarmStr:function(e){var t=this,i=[];return this.alertType.forEach(function(s,a){i.push(t[e].includes(s.id)?1:0)}),i.join("")},cancelFn:function(){this.setVisible(!1)},resetFm:function(){this.appnotify=[],this.mailnotify=[],this.setObj={notifyswitch:1,warnallday:1,smsswitch:0,mailswitch:0,allowsms:1,time:["08:00","22:00"]},this.customerid=""},dialogCloseFn:function(){this.resetFm()}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"},{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"notice-dialig",attrs:{title:e.lg.appNotify,visible:e.dialogVisible,modal:!0,"show-close":!0,"append-to-body":!0,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("el-row",{staticClass:"receive-row"},[i("el-col",{attrs:{span:20}},[i("label",[e._v(e._s(e.lg.receiveAlarmNotice))])]),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:4}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.setObj.notifyswitch,callback:function(t){e.$set(e.setObj,"notifyswitch",t)},expression:"setObj.notifyswitch"}})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.setObj.notifyswitch,expression:"setObj.notifyswitch"}],staticClass:"notifyContent p15"},[i("div",{staticClass:"pb10 duration-row"},[i("div",{staticClass:"pb10"},[e._v(e._s(e.lg.alarmDuration)+": ")]),e._v(" "),i("div",{staticClass:"duration-time"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.setObj.warnallday,callback:function(t){e.$set(e.setObj,"warnallday",t)},expression:"setObj.warnallday"}},[e._v(e._s(e.lg.allDay))]),e._v(" "),i("el-time-picker",{directives:[{name:"show",rawName:"v-show",value:!e.setObj.warnallday,expression:"!setObj.warnallday"}],staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"mini","is-range":"",format:"HH:mm","value-format":"HH:mm",clearable:!1},model:{value:e.setObj.time,callback:function(t){e.$set(e.setObj,"time",t)},expression:"setObj.time"}})],1)]),e._v(" "),e.setObj.allowsms||e.customerid!=e.loginId?i("div",{staticClass:"pb10 pt10 mobile-row"},[i("el-row",[i("el-col",{attrs:{span:20}},[i("label",[e._v(e._s(e.lg.mobile))])]),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:4}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.setObj.smsswitch,callback:function(t){e.$set(e.setObj,"smsswitch",t)},expression:"setObj.smsswitch"}})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.setObj.smsswitch,expression:"setObj.smsswitch"}],staticClass:"mt10"},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:e.lg.mobile},model:{value:e.setObj.phonenumber,callback:function(t){e.$set(e.setObj,"phonenumber",t)},expression:"setObj.phonenumber"}}),e._v(" "),e.customerid!=e.loginId?i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.setObj.allowsms,callback:function(t){e.$set(e.setObj,"allowsms",t)},expression:"setObj.allowsms"}},[e._v(e._s(e.lg.allowSmsTip))]):e._e()],1)],1):e._e(),e._v(" "),i("div",{staticClass:"pb10 pt10 email-row"},[i("el-row",[i("el-col",{attrs:{span:20}},[i("label",[e._v(e._s(e.lg.email))])]),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:4}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.setObj.mailswitch,callback:function(t){e.$set(e.setObj,"mailswitch",t)},expression:"setObj.mailswitch"}})],1)],1),e._v(" "),i("el-row",{directives:[{name:"show",rawName:"v-show",value:e.setObj.mailswitch,expression:"setObj.mailswitch"}],staticClass:"mt10"},[i("el-col",{attrs:{span:13}},e._l(e.mails_tmp,function(t,s){return i("div",{key:s,staticClass:"mb10 clearfix"},[i("el-input",{staticClass:"fl",staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:e.lg.email},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"item['val']"}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:s<1,expression:"index<1"}],staticClass:"add-btn el-icon-plus fl",on:{click:e.addEmail}}),e._v(" "),s>0?i("i",{staticClass:"add-btn el-icon-close fl",on:{click:function(i){return e.removeEmail(t)}}}):e._e(),e._v(" "),i("span",{staticClass:"link-btn test-btn ml10 fl",on:{click:function(i){return e.sendMailFn(t)}}},[e._v(e._s(e.lg.testMail))]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{content:e.lg.testMailTips,placement:"top"}},[i("span",{staticClass:"email-help ml5 el-icon-question fl"})])],1)}),0),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:11}},[e._v("\n            "+e._s(e.lg.alarmType)+":\n            "),i("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:e.lg.alarmType,size:"mini"},model:{value:e.mailnotify,callback:function(t){e.mailnotify=t},expression:"mailnotify"}},[i("el-option",{attrs:{value:"ALL_SELECT",label:e.lg.all}}),e._v(" "),e._l(e.alertType,function(e){return i("el-option",{key:"1"+e.id,attrs:{label:e.value,value:e.id}})})],2)],1)],1)],1),e._v(" "),i("el-row",{staticClass:"pb10 pt10 app-row"},[i("el-col",{attrs:{span:10}},[i("label",[e._v(e._s(e.lg.app))])]),e._v(" "),i("el-col",{staticClass:"tr",attrs:{span:14}},[e._v("\n          "+e._s(e.lg.alarmType)+":\n          "),i("el-select",{attrs:{multiple:"",filterable:"","collapse-tags":"",placeholder:e.lg.alarmType,size:"mini"},model:{value:e.appnotify,callback:function(t){e.appnotify=t},expression:"appnotify"}},e._l(e.alertType,function(e){return i("el-option",{key:"1"+e.id,attrs:{label:e.value,value:e.id}})}),1)],1)],1)],1),e._v(" "),i("div",{staticClass:"p10 tr"},[i("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)])},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("w6AQ")},null,null);t.default=c.exports},SdHJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"resetDevice",data:function(){return{searchFm:{imei:""},resultMsg:"",deviceid:"",btnloading:!1,resultVisible:!1,detailVisible:!1}},components:{imeiListComp:i("Glw6").default,deviceDetail:function(){return i.e(78).then(i.bind(null,"QmMy")).catch()}},computed:{auth:function(){return this.$store.state.auth}},methods:{checkParams:function(){var e=this.searchFm.imei;return!!/(^\d{7,15}$)/.test(e)||(this.$message.error(e+":"+lg[20053]),!1)},fnUpdate:function(){var e=this;if(!this.checkParams())return!1;this.btnloading=!0,this.resultVisible=!1;Object(s._118)({imei:this.searchFm.imei}).then(function(t){e.resultMsg=lg.resetDevice+": "+lg.success,e.deviceid=t.record.id,e.btnloading=!1,e.resultVisible=!0}).catch(function(){e.btnloading=!1})},showDetail:function(){this.detailVisible=!0;var e=this;setTimeout(function(){e.$refs.deviceDetailComp.getDetail(e.deviceid)},500)},hideDetail:function(){this.detailVisible=!1},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.searchFm.imei)},setImeis:function(e){this.searchFm.imeis=e?e.join("\n"):""},setQuery:function(){var e=this.$route.query;this.searchFm.imei=e.imei?e.imei:""}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){var e=this;this.$nextTick(function(){e.setQuery()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-resetdevice h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.resetDevice)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      【页面说明】"),i("br"),e._v("\n      1 重设设备的："),i("br"),e._v("\n      · GPS数据信息"),i("br"),e._v("\n      · 报表信息"),i("br"),e._v("\n      · 设备分组信息"),i("br"),e._v(" "),i("br"),e._v("\n      2 仍保留的："),i("br"),e._v("\n      · 设备信息不变（比如设备名称，车牌号等信息）"),i("br"),e._v("\n      · 设备到期不变（平台到期，用户到期）"),i("br"),e._v("\n      · 设备激活状态不变 "),i("br"),e._v(" "),i("br"),e._v("\n      3 其它："),i("br"),e._v("\n      · reset次数限制:5次"),i("br"),e._v("\n      · reset后设备可能会最长1小时后才能上线\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.fnUpdate()}}},[i("el-form-item",{attrs:{label:"imei",prop:"imei"}},[i("el-input",{attrs:{clearable:"",size:"medium",placeholder:e.lg.imei},on:{blur:function(t){return e.$trimFn("searchFm","imei")}},model:{value:e.searchFm.imei,callback:function(t){e.$set(e.searchFm,"imei",t)},expression:"searchFm.imei"}})],1),e._v(" "),i("el-form-item",[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.resultVisible,expression:"resultVisible"}],staticClass:"wrap-result"},[i("div",{staticClass:"content"},[i("el-alert",{attrs:{type:"success","show-icon":""}},[i("template",{slot:"title"},[e._v("\n             "+e._s(e.resultMsg)+"\n          ")]),e._v(" "),[e._v("\n            "+e._s(e.lg.targetDetail)+": "),i("a",{attrs:{href:"javascipt://"},on:{click:e.showDetail}},[e._v(e._s(e.searchFm.imei))])]],2)],1)]),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.target,visible:e.detailVisible,"append-to-body":!0,modal:!0,"show-close":!0,top:"10vh",width:"700px"},on:{"update:visible":function(t){e.detailVisible=t}}},[i("deviceDetail",{ref:"deviceDetailComp",on:{hideDetail:e.hideDetail}})],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("cwns")},null,null);t.default=n.exports},SdrY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"templateRule",data:function(){return{dealer2Fm:{ruleidofdealer:0,ruleidofenduser:0,ruleidofvirtual:0,ruleidofreadonly:0},searchParams:{},rulesOfRole:{},records:[],btnloading:!1,loading:!1}},components:{userTreeSelect:r.default},methods:{onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(n._147)(a()({},this.dealer2Fm)).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.$emit("onCancel")}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.dealer2Fm.resetFields()},checkParams:function(){return!0},getRuleSets:function(){var e=this;Object(n._146)().then(function(t){e.dealer2Fm=t.record}).catch(function(){e.loading=!1})},getRuleList:function(){var e=this;Object(n.c)().then(function(t){e.records=t.record,e.rulesOfRole={1:e.getRulesByRoleType(1),2:e.getRulesByRoleType(2),3:e.getRulesByRoleType(3),4:e.getRulesByRoleType(4)}}).catch(function(){e.loading=!1})},getRulesByRoleType:function(e){var t=[{templateid:0,templatename:lg.selectHint}];return this.records.forEach(function(i,s){i.customertype==e&&1==i.available&&t.push(i)}),t},getList:function(){this.getRuleList(),this.getRuleSets()}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rule-use h100b"},[i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("div",{staticClass:"submit-from-box user-select-popper"},[i("el-form",{ref:"dealer2Fm",attrs:{"show-message":!1,model:e.dealer2Fm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{prop:"ruleidofdealer"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("ins",{staticClass:"user-icon user-icon-1"}),e._v(e._s(e.lg.gradeDealer)+" ")]),e._v(" "),i("el-select",{model:{value:e.dealer2Fm.ruleidofdealer,callback:function(t){e.$set(e.dealer2Fm,"ruleidofdealer",t)},expression:"dealer2Fm.ruleidofdealer"}},e._l(e.rulesOfRole[1],function(e){return i("el-option",{key:e.templateid,attrs:{value:e.templateid,label:e.templatename}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"ruleidofenduser"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("ins",{staticClass:"user-icon user-icon-2"}),e._v(e._s(e.lg.gradeUser)+" ")]),e._v(" "),i("el-select",{model:{value:e.dealer2Fm.ruleidofenduser,callback:function(t){e.$set(e.dealer2Fm,"ruleidofenduser",t)},expression:"dealer2Fm.ruleidofenduser"}},e._l(e.rulesOfRole[2],function(e){return i("el-option",{key:e.templateid,attrs:{value:e.templateid,label:e.templatename}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"ruleidofreadonly"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("ins",{staticClass:"user-icon user-icon-4"}),e._v(e._s(e.lg.monitorOnly)+" ")]),e._v(" "),i("el-select",{model:{value:e.dealer2Fm.ruleidofreadonly,callback:function(t){e.$set(e.dealer2Fm,"ruleidofreadonly",t)},expression:"dealer2Fm.ruleidofreadonly"}},e._l(e.rulesOfRole[4],function(e){return i("el-option",{key:e.templateid,attrs:{value:e.templateid,label:e.templatename}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"ruleidofvirtual"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("ins",{staticClass:"user-icon user-icon-3"}),e._v(e._s(e.lg.gradeVirtual)+" ")]),e._v(" "),i("el-select",{model:{value:e.dealer2Fm.ruleidofvirtual,callback:function(t){e.$set(e.dealer2Fm,"ruleidofvirtual",t)},expression:"dealer2Fm.ruleidofvirtual"}},e._l(e.rulesOfRole[3],function(e){return i("el-option",{key:e.templateid,attrs:{value:e.templateid,label:e.templatename}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("qh1V")},null,null);t.default=c.exports},Shul:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("oW+X"),o=i("gyMJ"),l={data:function(){return{searchFm:{customerid:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},components:{userTreeSelect:r.default,quotasAdd:n.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedUserFn:function(e){this.searchFm.customerid=e.customerid,e.customerid||this.searchFn()},searchFn:function(){this.start=0,this.total=0,this.searchParams={customerid:this.searchFm.customerid},this.showList()},resetSearch:function(){this.start=0,this.total=0,this.searchParams={}},showList:function(){var e=this;this.loading=!0,Object(o._105)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"},fmtTime:function(e,t,i){return this.utcToLocal(i)},fmtType:function(e,t,i,s){return lg[i]},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.showList()},handleSizeChange:function(e){this.pagesize=e,this.showList()}},mounted:function(){this.showList()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"quotas-history"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"searchUserComp",on:{selected:e.selectedUserFn}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customer",label:e.lg.aimCustomer}}),e._v(" "),i("el-table-column",{attrs:{prop:"i18nkey",label:e.lg.type,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.number}},[i("el-table-column",{attrs:{prop:"beforecount",label:e.lg.before}}),e._v(" "),i("el-table-column",{attrs:{prop:"aftercount",label:e.lg.after}})],1),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"operator",label:e.lg.operator}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},T8qV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=(i("iKHV"),{name:"imeiaccount",data:function(){var e=this;return{imeiFm:{imeis:"",prefix:""},activeName:"from",btnloading:!1,rules:{imeis:[{required:!0,validator:{imeis:function(t,i,s){i=e.$trim(i);var a=e.formatImeis(i);""===i?s(new Error(lg.inputImeiError)):a.length>200?s(new Error(lg.maxImeiNum.replace("{num}",200))):s()}}.imeis,trigger:"blur"}]}}},components:{uploadComp:function(){return i.e(147).then(i.bind(null,"70WO")).catch()}},computed:{previewData:function(){for(var e=this.$trim(this.imeiFm.prefix),t=this.$trim(this.imeiFm.imeis),i=this.formatImeis(t),s=[],a=0,r=i.length;a<r;a++)s.push({account:e+this.getShotImei(i[a]),password:this.getPwd(i[a])});return s}},methods:{indexMethod:function(e){return+(e+1)},getShotImei:function(e){var t=e.length;return e.substr(t-8,t)},getPwd:function(e){var t=e.length;return e.substring(t-6,t)},checkImeis:function(e){for(var t,i=[],s=!0,a=0,r=e.length;a<r;a++)if(t=this.$trim(e[a]),i.push(t),!/(^[a-zA-Z\d]{8,15}$)/.test(t)){s=!1;break}return{imeis:i,rs:s}},checkParams:function(){var e=this.$trim(this.imeiFm.imeis),t=this.$trim(this.imeiFm.prefix);if(!/(^[a-zA-Z\d]{0,15}$)/.test(t))return this.$message.error(lg.prefixAccount+": "+lg.letterNumberOnly),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;var i=this.formatImeis(e);if(i.length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var s=this.checkImeis(i);return s.rs?{imeis:s.imeis.toString(),prefix:t}:(this.$message.error(lg[20053]+"("+s.imeis[s.imeis.length-1]+")"),!1)},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(s.t)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset()}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.imeiFm.resetFields()}},mounted:function(){}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-imeiaccount h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.batchCreateImeiAccount))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.batchImeiAccountTips,closable:!1,"show-icon":"",type:"info"}}),e._v(" "),i("el-tabs",{staticClass:"pl15",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.add,name:"from"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"imeiFm",attrs:{model:e.imeiFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.prefixAccount}},[i("el-input",{attrs:{type:"text",clearable:"",maxlength:"15"},on:{blur:function(t){return e.$trimFn("imeiFm","prefix")}},model:{value:e.imeiFm.prefix,callback:function(t){e.$set(e.imeiFm,"prefix",t)},expression:"imeiFm.prefix"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",[e._v(e._s(e.lg.letterNumberOnly+","+e.lg.maxCharsNum.replace("{num}",15)+"."))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},on:{blur:function(t){return e.trimImeiInput("imeiFm","imeis")}},model:{value:e.imeiFm.imeis,callback:function(t){e.$set(e.imeiFm,"imeis",t)},expression:"imeiFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("One line in one IMEI.")]),e._v(" "),i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-popover",{attrs:{placement:"right",width:"400",trigger:"hover"}},[i("p",[e._v("Your imei accounts will be:")]),e._v(" "),i("el-table",{attrs:{"highlight-current-row":"",data:e.previewData}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:"Account"}}),e._v(" "),i("el-table-column",{attrs:{prop:"password",label:"Password"}})],1),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("Preview")])],1)],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.upload,name:"upload"}},[i("uploadComp")],1)],1)],1)],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},TBad:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Glw6"),a=i("gyMJ"),r=i("iKHV"),n={props:["dialog"],data:function(){return{formData:{imeis:"",cardtype:"2",distributortime:"",remark:""},btnloading:!1}},components:{imeiListComp:s.default},methods:{setVisible:function(e){this.$emit("setVisible",e)},setData:function(e){this.formData.imeis=e.join("\n"),this.formData.distributortime=this.defaultDistributor()},defaultDistributor:function(){return(new Date).setFullYear((new Date).getFullYear()+1)},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.formData.imeis)},setImeis:function(e){this.formData.imeis=e?e.join("\n"):""},cardTypeChange:function(){this.formData.distributortime="3"==this.formData.cardtype?new Date("2099-12-31").getTime():this.defaultDistributor()},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a.B)(t).then(function(t){e.btnloading=!1,e.setVisible(!1);var i=lg.success+":"+t.record.success+"<br />"+lg.fail+":"+t.record.fail+"<br />",s=t.record.success>0?"success":"error";t.record.fail>0&&(i+=t.record.failmessage.replace(/;/g,"<br />")),e.$message({dangerouslyUseHTMLString:!0,type:s,duration:0,showClose:!0,message:i}),e.reset()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"批量续费",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.imeis),t=this.$trim(this.formData.remark);if(!e)return this.$message.error(lg.targetNull),!1;if((e=this.formatImeis(e)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(r.g)(e);if(!i.rs)return this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1;if(!this.formData.distributortime)return this.$message.error(lg.platformEndError),!1;var s=Object(r.n)(1,this.formData.distributortime).endTime-999;return{imeis:i.imeis.join(","),cardtype:this.formData.cardtype,distributortime:s,remark:t}},cancelFn:function(){this.$emit("hideDialog")},reset:function(){this.$refs.formComp.resetFields()}},mounted:function(){this.formData.distributortime=this.defaultDistributor()}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",attrs:{"label-position":"right","show-message":!1,model:e.formData,"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:e.lg.imei,prop:"imeis",required:""}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"220px"},attrs:{type:"textarea",rows:3,placeholder:e.lg.oneImeiOneLine},on:{blur:function(t){return e.trimImeiInput("formData","imeis")}},model:{value:e.formData.imeis,callback:function(t){e.$set(e.formData,"imeis",t)},expression:"formData.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType,required:"",prop:"cardtype"}},[i("el-radio",{attrs:{label:"2"},on:{change:e.cardTypeChange},model:{value:e.formData.cardtype,callback:function(t){e.$set(e.formData,"cardtype",t)},expression:"formData.cardtype"}},[e._v(e._s(e.lg.annualCard))]),e._v(" "),i("el-radio",{attrs:{label:"3"},on:{change:e.cardTypeChange},model:{value:e.formData.cardtype,callback:function(t){e.$set(e.formData,"cardtype",t)},expression:"formData.cardtype"}},[e._v(e._s(e.lg.lifeLongCard))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.userEnd,required:"",prop:"distributortime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp"},model:{value:e.formData.distributortime,callback:function(t){e.$set(e.formData,"distributortime",t)},expression:"formData.distributortime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.reset}},[e._v(e._s(e.lg.reset))])],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},TGge:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={name:"brokenimeichange",data:function(){return{imei:"",activeName:"upload",records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},components:{uploadComp:function(){return i.e(148).then(i.bind(null,"f+Tr")).catch()}},computed:{},methods:{indexMethod:function(e){return this.start+(e+1)},searchFn:function(){this.start=0;var e=this.$trim(this.imei);if(this.imei=e,e&&!Object(a.f)(e))return this.$message.error(lg[20053]),!1;this.getList(e)},getList:function(e){var t=this;this.loading=!0,Object(s.F)({imei:e,start:this.start,count:this.pagesize}).then(function(e){t.loading=!1,t.records=e.records}).catch(function(e){t.loading=!1})},fmtTime:function(e,t,i){return this.utcToLocal(i)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getList()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-imeiaccount h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.brokenImeiChange))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.brokenImeiChangeTips,closable:!1,"show-icon":"",type:"info"}}),e._v(" "),i("el-tabs",{staticClass:"pl15",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.upload,name:"upload"}},[i("uploadComp")],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"history"}},[i("el-form",{ref:"searchFm",attrs:{inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.imei,prop:"customerid"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{clearable:""},on:{change:e.searchFn},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}},[i("el-button",{attrs:{slot:"append","native-type":"submit",icon:"el-icon-search"},slot:"append"})],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"oldimei",label:e.lg.imei+"-"+e.lg.before,width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"newimei",label:e.lg.imei+"-"+e.lg.after,width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},ToRd:function(e,t){},TqR5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("vgQg"),a=i("gyMJ"),r=i("iKHV"),n={props:["hideSet","isDialog"],data:function(){return{dialogVisible:!1,fromData:{},customerid:"",timezoneArr:[],btnloading:!1,loading:!1,originalurl:"",thumbnailurl:"",showNullimg:!1}},computed:{customerInfo:function(){return this.$store.state.customerInfo},loginId:function(){return this.$store.state.customerInfo.id},token:function(){return this.getCookie("token")},headers:function(){return{lang:this.$lang,version:2}}},components:{uploadComp:function(){return i.e(84).then(i.bind(null,"DReV")).catch()}},methods:{getInfo:function(e){var t=this;if(!e)return this.$message.error(lg[10005]);this.customerid!=e&&(this.customerid=e,this.loading=!0,Object(a._67)({customerid:e}).then(function(e){t.fromData=e.record,t.loading=!1,t.$refs.imgUploadComp.setData({customerid:t.customerid,originalurl:t.fromData.portrait,thumbnailurl:t.fromData.thumbnailportrait})}).catch(function(e){t.loading=!1}))},onSubmit:function(){var e=this,t=this.checkParams();t&&(t.name||(this.fromData.name=this.fromData.account,t.name=this.fromData.name),this.btnloading=!0,Object(a._17)(t).then(function(i){e.$message.success(lg.updateAccount),e.$emit("successCb",t),e.btnloading=!1}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"编辑用户资料",opt_label:"点击",val:"Dealer2"}))},fmReset:function(){this.$refs.fmComp.resetFields(),this.fromData={},this.customerid=""},checkParams:function(){var e=this.$trim(this.fromData.name),t=this.$trim(this.fromData.contact),i=this.$trim(this.fromData.phone),s=this.$trim(this.fromData.telphone),a=this.$trim(this.fromData.email),n=this.$trim(this.fromData.address),o=this.$trim(this.fromData.webpage);if(e.length>=r.a)return this.$message.error(lg.lengthlimit.replace("{{name}}",lg.customerName).replace("{{num}}",r.a)),!1;if(t&&t.length>64)return this.$message.error(lg.lengthlimit.replace("{{name}}",lg.contact).replace("{{num}}",64)),!1;if(this.customerid==this.loginId&&!a)return this.$message.error(lg.emailNull),!1;if(a&&!Object(r.k)(a))return this.$message.error(lg.emailFormatError),!1;if(n&&n.length>150)return this.$message.error(lg.lengthlimit.replace("{{name}}",lg.address).replace("{{num}}",150)),!1;var l={customerid:this.customerid,name:e,type:this.fromData.type,timezone:this.fromData.timezone,contact:t,phone:i,telphone:s,email:a,address:n,webpage:o};return"2"==this.fromData.type&&this.fromData.isread&&(l.isread=this.fromData.isread),l},setDataAfterUpload:function(e){this.fromData.portrait=e.portrait,this.fromData.thumbnailportrait=e.thumbnailportrait,this.showNullimg=!e.thumbnailportrait,this.customerid==this.loginId&&(this.$store.state.customerInfo.portrait=e.portrait,this.$store.state.customerInfo.thumbnailportrait=e.thumbnailportrait)},cancelFn:function(){this.$emit("closeDialog"),this.fmReset()},dialogCloseFn:function(){this.fmReset()}},mounted:function(){this.timezoneArr=s.d}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"submit-from-box user-info"},[i("el-alert",{directives:[{name:"show",rawName:"v-show",value:!e.customerInfo.email&&e.customerid==e.loginId,expression:"!customerInfo.email && customerid == loginId"}],staticClass:"tips-page",attrs:{title:e.lg.contactNullTips,closable:!1,"show-icon":"",type:"warning"}}),e._v(" "),i("el-form",{ref:"fmComp",attrs:{model:e.fromData,"label-width":"140px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-form-item",{staticStyle:{width:"99%","margin-left":"0"},attrs:{label:e.lg.account}},[i("copy",{attrs:{txt:e.fromData.account}},[e._v(e._s(e.fromData.account))])],1),e._v(" "),i("el-form-item",{staticClass:"clearfix",attrs:{label:e.lg.customerName}},[i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","name")}},model:{value:e.fromData.name,callback:function(t){e.$set(e.fromData,"name",t)},expression:"fromData.name"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:e.lg.portrait+":",Xclass:"ml4",Xstyle:"width:99%;margin-left:0;position: absolute;left:39%;top:60px;"}},[i("uploadComp",{ref:"imgUploadComp",attrs:{targetUrl:"/api2/customer/portrait/upload",customerid:e.customerid,initOriginalurl:e.fromData.portrait,initThumbnailurl:e.fromData.thumbnailportrait},on:{setData:e.setDataAfterUpload}})],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.hideSet,expression:"!hideSet"}],staticClass:"online",attrs:{required:"",label:e.lg.roles}},[i("el-radio",{attrs:{label:1,disabled:e.fromData.customerid==this.loginId||3==e.fromData.type},model:{value:e.fromData.type,callback:function(t){e.$set(e.fromData,"type",t)},expression:"fromData.type"}},[i("i",{staticClass:"tree-icon ico-dealer"}),e._v(e._s(e.lg.gradeDealer))]),e._v(" "),i("el-radio",{directives:[{name:"show",rawName:"v-show",value:3==e.fromData.type,expression:"fromData.type == 3"}],attrs:{label:3,disabled:e.fromData.customerid==this.loginId||3==e.fromData.type},model:{value:e.fromData.type,callback:function(t){e.$set(e.fromData,"type",t)},expression:"fromData.type"}},[i("i",{staticClass:"tree-icon ico-uservirtual"}),e._v(e._s(e.lg.gradeVirtual))]),e._v(" "),i("el-radio",{attrs:{label:2,disabled:e.fromData.customerid==this.loginId||3==e.fromData.type},model:{value:e.fromData.type,callback:function(t){e.$set(e.fromData,"type",t)},expression:"fromData.type"}},[i("i",{staticClass:"tree-icon ico-user"}),e._v(e._s(e.lg.gradeUser))]),e._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"2"==e.fromData.type,expression:"fromData.type == '2'"}],attrs:{"true-label":1,disabled:e.fromData.customerid==this.loginId||3==e.fromData.type},model:{value:e.fromData.isread,callback:function(t){e.$set(e.fromData,"isread",t)},expression:"fromData.isread"}},[i("i",{staticClass:"tree-icon ico-userReadonly"}),e._v(e._s(e.lg.monitorOnly)+"\n            "),i("el-tooltip",{attrs:{content:e.lg.readonlyTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.hideSet,expression:"!hideSet"}],attrs:{required:"",label:e.lg.timeZone}},[i("el-select",{model:{value:e.fromData.timezone,callback:function(t){e.$set(e.fromData,"timezone",t)},expression:"fromData.timezone"}},e._l(e.timezoneArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("div",{staticClass:"cb"})],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:e.lg.contact}},[i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","contact")}},model:{value:e.fromData.contact,callback:function(t){e.$set(e.fromData,"contact",t)},expression:"fromData.contact"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.mobile}},[i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","phone")}},model:{value:e.fromData.phone,callback:function(t){e.$set(e.fromData,"phone",t)},expression:"fromData.phone"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:e.lg.tel}},[i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","telphone")}},model:{value:e.fromData.telphone,callback:function(t){e.$set(e.fromData,"telphone",t)},expression:"fromData.telphone"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticClass:"ml4",attrs:{required:e.customerid==e.loginId}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n            "+e._s(e.lg.email)+"\n            "),i("el-tooltip",{attrs:{content:e.lg.findPassEmailTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),e._v(" "),i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","email")}},model:{value:e.fromData.email,callback:function(t){e.$set(e.fromData,"email",t)},expression:"fromData.email"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:e.lg.address}},[i("el-input",{on:{blur:function(t){return e.$trimFn("fromData","address")}},model:{value:e.fromData.address,callback:function(t){e.$set(e.fromData,"address",t)},expression:"fromData.address"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.webpage}},[i("el-input",{attrs:{maxlength:"250"},on:{blur:function(t){return e.$trimFn("fromData","webpage")}},model:{value:e.fromData.webpage,callback:function(t){e.$set(e.fromData,"webpage",t)},expression:"fromData.webpage"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.hideSet,expression:"!hideSet"}],staticClass:"online",attrs:{label:e.lg.createTime}},[e._v("\n          "+e._s(e.fromData.createtime>0?e.utcToLocal(e.fromData.createtime):"-")+"\n        ")])],1),e._v(" "),i("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:10}},[e._v(" ")]),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),e.isDialog?i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("YroZ")},null,null);t.default=l.exports},"U4t+":function(e,t){},UdMx:function(e,t){},UvZY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("yLO6"),o=i("gyMJ"),l={name:"permission",data:function(){return{searchFm:{customerid:"",permissiontype:""},permissionArr:[],records:[],searchParams:{},total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default,updataComp:n.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.searchFm.customerid=e.customerid},getMetaList:function(){var e=this;Object(o._21)().then(function(t){e.permissionArr=t.record}).catch(function(){})},searchFn:function(){this.start=0,this.searchParams=this.searchFm,this.getList()},resetSearch:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.getList()},getList:function(){var e=this;this.loading=!0,Object(o._20)(a()({start:this.start,pagecount:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},fmtPermission:function(e,t,i,s){return lg[i]},fmtTime:function(e,t,i,s){return this.utcToLocal(i)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},showAdd:function(){this.$refs.updataComp.setVisible(!0),this.$refs.updataComp.setType("add"),this.$refs.updataComp.setPermissionList(this.permissionArr)},showEdit:function(e){var t=this.fmtName(e);this.$refs.updataComp.setVisible(!0),this.$refs.updataComp.setType("edit",t),this.$refs.updataComp.getDetail(e.customerid)},submitSuccess:function(){this.resetSearch()}},mounted:function(){this.getMetaList(),this.getList()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.authorizeFunction)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("【授权】给客户A授权，允许其为下级子客户B开通功能"),i("br"),e._v(" "),i("br"),e._v("\n        附注: "),i("br"),e._v("\n        · 开通：给客户开通指定功能;"),i("br"),e._v("\n        · 授权：给客户A授权，让其可以给其子客户B开通指定功能;"),i("br"),e._v('\n        "开通"请参见：/permission\n      ')])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("template",{slot:"label"},[i("label",[e._v(e._s(e.lg.aimCustomer))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              包含下级客户\n            ")])])],1),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permission,prop:"permissiontype"}},[i("el-select",{model:{value:e.searchFm.permissiontype,callback:function(t){e.$set(e.searchFm,"permissiontype",t)},expression:"searchFm.permissiontype"}},[i("el-option",{attrs:{label:e.lg.all,value:""}}),e._v(" "),e._l(e.permissionArr,function(t){return i("el-option",{key:t.permissiontype,attrs:{label:e.lg[t.i18nkey],value:t.permissiontype}})})],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearch}},[e._v(e._s(e.lg.reset))])],1),e._v(" "),i("el-button",{staticClass:"form-new-btn fr",attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.customer,formatter:e.fmtName},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row)}}},[e._v(e._s(e.fmtName(t.row)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"i18nkey",label:e.lg.permission,formatter:e.fmtPermission}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.lastModifyTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row)}}},[e._v(e._s(e.lg.edit))])]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[e.total?i("a",{staticClass:"excel-btn",attrs:{href:"/OutputService?method=outputCustomerPermissionFile&customerid="+e.searchFm.customerid+"&permissiontype="+e.searchFm.permissiontype}},[e._v(e._s(e.lg.downloadExcel))]):e._e()])]),e._v(" "),i("updataComp",{ref:"updataComp",on:{submitSuccess:e.submitSuccess}})],1)])],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},V1xy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){return{total:0,start:0,pagesize:5,messageid:"",customerid:"",records:[],dialogVisible:!1,loading:!1}},components:{userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},userTreeSelect:s.default,sendMessageComp:function(){return i.e(77).then(i.bind(null,"02iu")).catch()}},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.customerid=e.customerid,this.searchFn()},searchFn:function(){this.customerid?this.search():this.getList()},search:function(){var e=this;this.loading=!0,this.records=[],Object(a._132)({messageid:this.messageid,customerid:this.customerid,customeraccount:"dsj"}).then(function(t){e.loading=!1,t.record.customerid&&e.records.push(t.record),e.total=e.records.length,0==e.records.length&&e.$message.error(lg.noData)}).catch(function(t){e.loading=!1})},getList:function(){var e=this;this.loading=!0,Object(a._131)({messageid:this.messageid,start:this.start,count:this.pagesize}).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount,0==e.records.length&&e.$message.error(lg.noData)}).catch(function(t){e.loading=!1})},showCustomerDetail:function(e){var t=this;this.findObj("userDetailComp",this.$refs,function(){t.$refs.userDetailComp.setVisible(!0),t.$refs.userDetailComp.getInfo(e.customerid)})},showSendMessage:function(e){this.$refs.sendMessageComp.setVisible(!0),this.$refs.sendMessageComp.setData({id:e.customerid,name:e.customername,account:e.customeraccount}),console.log(e)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},rowClassFn:function(e){e.row,e.rowIndex;return""},reset:function(){this.total=0,this.start=0},setData:function(e){this.messageid=e,this.reset(),this.getList()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b sent-receiver"},[i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}}),e._v(" "),i("span",{staticClass:"total"},[e._v("\n          "+e._s(e.lg.total)+": "+e._s(+e.total)+"\n        ")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"message-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,"show-header":!1,stripe:"","row-class-name":e.rowClassFn}},[i("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascript://"},on:{click:function(i){return e.showCustomerDetail(t.row)}}},[e._v("\n            "+e._s(t.row.customername)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascript://"},on:{click:function(i){return e.showCustomerDetail(t.row)}}},[e._v("\n            "+e._s(t.row.customeraccount)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showSendMessage(t.row)}}},[i("i",{staticClass:"base-icon message-icon"}),e._v(e._s(e.lg.sendMessage))])]}}])})],1)],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("userDetailComp",{ref:"userDetailComp"}),e._v(" "),i("sendMessageComp",{ref:"sendMessageComp"})],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("NIJt")},null,null);t.default=o.exports},VFDj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={name:"imeirechargehistory",data:function(){return{activeName:"rechargeHistory",imei:"",records:[],oChargeType:{2:lg.annualCard,3:lg.lifeLong},loading:!1}},computed:{auth:function(){return this.$store.state.auth},imeiQuery:function(){return this.$route.query.imei}},components:{lifeLongImeiChangeHistory:i("Jwe1").default},methods:{indexMethod:function(e){return this.start+(e+1)},clickSearch:function(){this.$trim(this.imei)||this.$message.error(lg.inputImeiError)},searchFn:function(){var e=this.$trim(this.imei);if(this.imei=e,e)return Object(a.f)(e)?void(e&&this.getList(e)):(this.$message.error(lg[20053]),!1);this.records=[]},getList:function(e){var t=this;this.loading=!0,Object(s._48)({imei:e}).then(function(i){t.loading=!1,t.records=i.record,0==t.records.length&&t.$message.error(lg.noData),t.$refs.lifelongComp.setImei(e)}).catch(function(e){t.loading=!1})},fmtType:function(e){return this.oChargeType[e.pointtype]},fmtTime:function(e,t,i){return this.utcToLocal(i)}},mounted:function(){var e=this;this.$nextTick(function(){e.imei=e.imeiQuery})}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.rechargeHistory))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.rechargeHistory,name:"rechargeHistory"}},[i("el-form",{ref:"searchFm",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:e.lg.imei,prop:"customerid"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{clearable:""},on:{change:e.searchFn},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.clickSearch},slot:"append"})],1),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                查询范围："),i("br"),e._v("\n                只要是你能monitor到的 设备"),i("br"),e._v("\n                你就能 查到其续费记录"),i("br"),e._v(" "),i("br"),e._v("\n                （无论 是否由你充值的记录"),i("br"),e._v("\n                都可以查到）\n              ")])])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointnumber",label:e.lg.rechargeNum}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointtype",label:e.lg.cardType,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{prop:"beforetime",label:e.lg.platformEnd,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"aftertime",label:e.lg.afterRecharge,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"operaccount",label:e.lg.operator}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.fmtTime}})],1)],1),e._v(" "),e.auth.changeimei?i("el-tab-pane",{attrs:{label:e.lg.changeImei,name:"moveDataTransferCard"}},[i("lifeLongImeiChangeHistory",{ref:"lifelongComp"})],1):e._e()],1)],1)])],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},VHFF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={data:function(){return{searchFm:{type:"",starttime:"",endtime:"",customerid:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},pointType:["",lg.yourBus,lg.sutranDataTransfer,"Mahamining","ghTrack",lg.tracklogDataTransfer,lg.tlcDataTransfer,"",lg.monoDataTransfer,lg.ogDataTransfer],records:[],total:0,start:0,pagesizes:[10,15,20,30,50],pagesize:10,params:{},loading:!1}},components:{userTreeSelect:r.default,historyDetail:function(){return i.e(85).then(i.bind(null,"/P8L"))}},methods:{indexMethod:function(e){return this.start+(e+1)},selected:function(e){this.searchFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},getList:function(){var e=this;this.loading=!0,Object(n._150)(a()({start:this.start,count:this.pagesize},this.params)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(t){e.loading=!1})},searchFn:function(){this.start=0,this.total=0,this.params=this.deepCopy(this.searchFm),this.params.endtime=this.params.endtime?this.params.endtime+(864e5-1):this.params.endtime,this.getList()},resetFm:function(){this.$refs.searchFm.resetFields(),this.params={},this.start=0,this.total=0,this.$refs.userTreeComp.clearFn(),this.getList()},showDetail:function(e){this.$refs.historyDetailComp.showDialog(e)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},formatterType:function(e,t,i,s){return this.pointType[i]},formatterOpt:function(e,t,i,s){var a=["",lg.create,lg.transferOut,lg.use,lg.transferIn,lg.return,lg.returnFirst],r="";return 6!=e.operationtype&&(r+=e.operatorname+"("+e.operatoraccount+") "),r+=a[e.operationtype]+" ",r+=this.pointType[e.transfertype]+" ",2!=e.operationtype&&1!=e.operationtype&&6!=e.operationtype||(r+=lg.withTo+" "+e.customername+"("+e.customeraccount+")"),r||"-"},formatterIncome:function(e,t,i,s){return-1!=[1,4,5].indexOf(e.operationtype)?e.pointnumber:"-"},formatterExpenditure:function(e,t,i,s){return-1!=[2,3,6].indexOf(e.operationtype)?e.pointnumber:"-"}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.from,prop:"starttime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.searchFm.starttime,callback:function(t){e.$set(e.searchFm,"starttime",t)},expression:"searchFm.starttime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.to,prop:"endtime"}},[i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.searchFm.endtime,callback:function(t){e.$set(e.searchFm,"endtime",t)},expression:"searchFm.endtime"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"transfertype",label:e.lg.cardType,formatter:e.formatterType}}),e._v(" "),i("el-table-column",{attrs:{prop:"operationtype",label:e.lg.operation,formatter:e.formatterOpt,width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointnumber",label:e.lg.income,formatter:e.formatterIncome}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointnumber",label:e.lg.expenditure,formatter:e.formatterExpenditure}}),e._v(" "),i("el-table-column",{attrs:{prop:"aftertransfer",label:e.lg.balance}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return["3"==t.row.operationtype?i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row.historyid)}}},[e._v(e._s(e.lg.detail))]):i("span",[e._v("-")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e(),e._v(" "),i("historyDetail",{ref:"historyDetailComp"})],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},VU8x:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("w3gR").version,a={data:function(){return{chalk:"",theme:"#f78d1d"}},watch:{theme:function(e,t){var i=this;if("string"==typeof e){var a,r,n=this.getThemeCluster(e.replace("#","")),o=this.getThemeCluster(t.replace("#","")),l=(a="chalk",r="chalk-style",function(){var e=i.getThemeCluster("#f78d1d".replace("#","")),t=i.updateStyle(i[a],e,n),s=document.getElementById(r);s||((s=document.createElement("style")).setAttribute("id",r),document.head.appendChild(s)),s.innerText=t});if(this.chalk)l();else{var c="https://unpkg.com/element-ui@"+s+"/lib/theme-chalk/index.css";this.getCSSString(c,l,"chalk")}[].slice.call(document.querySelectorAll("style")).filter(function(e){var i=e.innerText;return new RegExp(t,"i").test(i)&&!/Chalk Variables/.test(i)}).forEach(function(e){var t=e.innerText;"string"==typeof t&&(e.innerText=i.updateStyle(t,o,n))})}}},methods:{updateStyle:function(e,t,i){var s=e;return t.forEach(function(e,t){s=s.replace(new RegExp(e,"ig"),i[t])}),s},getCSSString:function(e,t,i){var s=this,a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&(s[i]=a.responseText.replace(/@font-face{[^}]+}/,""),t())},a.open("GET",e),a.send()},getThemeCluster:function(e){for(var t,i,s,a,r,n=[e],o=0;o<=9;o++)n.push((t=e,i=Number((o/10).toFixed(2)),s=void 0,a=void 0,r=void 0,s=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),r=parseInt(t.slice(4,6),16),0===i?[s,a,r].join(","):(s+=Math.round(i*(255-s)),a+=Math.round(i*(255-a)),r+=Math.round(i*(255-r)),"#"+(s=s.toString(16))+(a=a.toString(16))+(r=r.toString(16)))));return n.push(function(e,t){var i=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return i=Math.round((1-t)*i),s=Math.round((1-t)*s),a=Math.round((1-t)*a),"#"+(i=i.toString(16))+(s=s.toString(16))+(a=a.toString(16))}(e,.1)),n}}},r={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-color-picker",{staticClass:"theme-picker",attrs:{size:"small","popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},VV4h:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{showDialog:!1}},components:{membershipComp:i("SDaM").default},methods:{setVisible:function(e){this.showDialog=e},getRelationship:function(e){var t=this;this.findObj("membershipComp",this.$refs,function(){t.$refs.membershipComp.getRelationship(e)})},setData:function(e){var t=this;this.findObj("membershipComp",this.$refs,function(){t.$refs.membershipComp.setData(e)})}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.membershipCustomer,modal:!0,visible:e.showDialog,width:"600px","append-to-body":!0,"close-on-click-modal":!0},on:{"update:visible":function(t){e.showDialog=t}}},[i("membershipComp",{ref:"membershipComp",attrs:{disabled:!0}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},VpDw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"balance",data:function(){return{searchFm:{customerid:""},records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],loading:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id},customerInfo:function(){return this.$store.state.customerInfo}},components:{userTreeSelect:i("Rpa2").default},methods:{indexMethod:function(e){return this.start+(e+1)},selected:function(e){this.searchFm.customerid=e.customerid,this.start=0,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},getList:function(){var e=this,t={customerid:this.loginId,start:this.start,subcustomerid:this.searchFm.customerid,count:this.pagesize,treetype:1};this.loading=!0,Object(s.S)(t).then(function(t){e.total=t.totalcount,e.records=t.records,e.loading=!1}).catch(function(t){e.loading=!1})}},mounted:function(){this.getList()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.balance))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("div",{staticClass:"balance-filter"},[i("table",{staticClass:"table-balance",staticStyle:{float:"right",margin:"20px 10px 0 0"}},[i("tr",[e.customerInfo.importpoint>-1?i("td",[e._v(" "+e._s(e.customerInfo.importpoint)+" "),i("em",[e._v(e._s(e.lg.newCard))])]):e._e(),e._v(" "),e.customerInfo.zsimportpoint>-1?i("td",[e._v(" "+e._s(e.customerInfo.zsimportpoint)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])]):e._e(),e._v(" "),i("td",[e._v(" "+e._s(e.customerInfo.monthpoint)+" "),i("em",[e._v(e._s(e.lg.annualCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.customerInfo.lifelongpoint)+" "),i("em",[e._v(e._s(e.lg.lifeLongCard))])])])]),e._v(" "),i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0}},[i("el-form-item",{attrs:{label:e.lg.account}},[i("userTreeSelect",{ref:"userSelectComp",staticStyle:{width:"240px"},on:{selected:e.selected}})],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,"highlight-current-row":"",stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:e.lg.customerName}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account}}),e._v(" "),i("el-table-column",{attrs:{prop:"importpoint",label:e.lg.newCard}}),e._v(" "),i("el-table-column",{attrs:{prop:"zsimportpoint",label:e.lg.newCardLifelong}}),e._v(" "),i("el-table-column",{attrs:{prop:"monthpoint",label:e.lg.annualCard}}),e._v(" "),i("el-table-column",{attrs:{prop:"lifelongpoint",label:e.lg.lifeLongCard}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},W8gl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("jb42"),n={name:"customerinfo",data:function(){return{customerid:"",visible:!1,dialogTitle:"",userInfo:{},permission:[],showInfo:!1,loading:!1}},computed:{},components:{userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},userTreeSelect:s.default},methods:{searchInfo:function(){var e=this;if(!this.customerid)return this.$message.error(lg.selectCustomer);Object(a._38)({customerid:this.customerid}).then(function(t){e.showInfo=!0,e.userInfo=t.record}).catch(function(e){})},userSelected:function(e){this.customerid=e.customerid},getInfo:function(){},fmtType:function(e){return e?r.a[e]:"-"},resetInfo:function(){this.$refs.userTreeComp.clearFn(),this.showInfo=!1,this.userInfo={}},showPermissionFunction:function(){var e=this;Object(a._46)({customerid:this.customerid}).then(function(t){e.dialogTitle=lg.permissionAdmin,e.visible=!0,e.permission=t.record.functions}).catch(function(e){})},showAuthFunction:function(){var e=this;Object(a._18)({customerid:this.customerid}).then(function(t){e.dialogTitle=lg.authorizeFunction,e.visible=!0,e.permission=e.filterEmpower(t.record)}).catch(function(e){})},filterEmpower:function(e){if(!e)return[];var t=[];return e.forEach(function(e){e.value=lg[e.i18nkey],e.authorized&&t.push(e)}),t},goApplyApp:function(){this.$router.push({path:"/customerapp",query:{applyid:this.customerid,applyname:this.userInfo.customername}})},showDetail:function(e){var t=this;this.findObj("userDetailComp",this.$refs,function(){t.$refs.userDetailComp.setVisible(!0),t.$refs.userDetailComp.getInfo(e)})},updataDetail:function(){},closedFn:function(){this.permission={}},setQuery:function(){var e=this.$route.query;e.name,e.customerid&&(this.customerid=e.customerid),e.account&&(this.$refs.userTreeComp.setCustomer(e.account),this.searchInfo())}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){var e=this;this.$nextTick(function(){e.setQuery()})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.customerInfo))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"func-customer-info submit-from-box"},[i("div",{staticClass:"p15"},[i("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.lg.aimCustomer)+": ")]),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",staticStyle:{display:"inline-block"},on:{selected:e.userSelected}}),e._v(" "),i("el-button",{staticClass:"ml10",attrs:{type:"primary"},on:{click:e.searchInfo}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetInfo}},[e._v(e._s(e.lg.reset))])],1),e._v(" "),i("div",{},[i("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showInfo,expression:"showInfo"}],attrs:{model:e.userInfo,"label-width":"180px"}},[i("el-form-item",{attrs:{label:e.lg.customerName+": ",prop:"customername"}},[e.customerid?i("a",{attrs:{href:"javascript://"},on:{click:function(t){return e.showDetail(e.customerid)}}},[e._v("\n              "+e._s(e.userInfo.customername)+"("+e._s(e.userInfo.account)+")\n            ")]):i("span",[e._v(e._s(e.userInfo.customername)+"("+e._s(e.userInfo.account)+")")])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.roles+": "}},[e._v("\n            "+e._s(e.fmtType(e.userInfo.customertype))+"\n          ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.status+": "}},[i("div",{class:"status-"+(e.userInfo.available?"normal":"block")},[e._v(e._s(e.userInfo.available?"Normal":"Blocked"))])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.balance+": "}},[i("table",{staticClass:"table-balance"},[i("tr",[i("td",[e._v(" "+e._s(e.userInfo.importcard||0)+" "),i("em",[e._v(e._s(e.lg.newCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.userInfo.lifelongimportcard||0)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])]),e._v(" "),i("td",[e._v(" "+e._s(e.userInfo.chargecard||0)+" "),i("em",[e._v(e._s(e.lg.annualCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.userInfo.lifelongchargecard||0)+" "),i("em",[e._v(e._s(e.lg.lifeLongCard))])])])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.quotas+": "}},[i("table",{staticClass:"table-balance"},[i("tr",[i("td",[i("router-link",{staticClass:"link",attrs:{to:"quotas"}},[e._v(e._s(e.userInfo.poicount||0)+" "),i("em",[e._v(e._s(e.lg.poi))])])],1),e._v(" "),i("td",[i("router-link",{staticClass:"link",attrs:{to:"quotas"}},[e._v(e._s(e.userInfo.geofencecount||0)+" "),i("em",[e._v(e._s(e.lg.fence))])])],1),e._v(" "),i("td",[i("router-link",{staticClass:"link",attrs:{to:"routelicence"}},[e._v(e._s(e.userInfo.totallicencecount||0)+" "),i("em",[e._v(e._s(e.lg.licence))])])],1),e._v(" "),i("td",[i("router-link",{staticClass:"link",attrs:{to:"movedatatransfercard"}},[e._v(e._s(e.userInfo.transfercard||0)+" "),i("em",[e._v(e._s(e.lg.dataTransferCard))])])],1)])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.customerApp}},[e._v("\n            "+e._s(e.userInfo.hasappapply?e.lg.yes:e.lg.no)+"\n            "),e.userInfo.hasappapply?i("a",{staticClass:"link",on:{click:e.goApplyApp}},[e._v(" | "+e._s(e.lg.view))]):e._e()]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permissionAdmin}},[i("a",{staticClass:"link",on:{click:e.showPermissionFunction}},[e._v(e._s(e.lg.view))])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.authorizeFunction}},[i("a",{staticClass:"link",on:{click:e.showAuthFunction}},[e._v(e._s(e.lg.view))])])],1)],1)])]),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"customer-info-dialog",attrs:{title:e.dialogTitle,visible:e.visible,modal:!0,"show-close":!0,width:"720px","append-to-body":!0},on:{"update:visible":function(t){e.visible=t},closed:e.closedFn}},[i("div",[i("el-row",e._l(e.permission,function(t,s){return i("el-col",{key:s,staticClass:"func-permission-item",attrs:{span:8}},[e._v("\n          "+e._s(t.value||e.lg[t.i18n]||e.lg[t.i18nkey])+"\n        ")])}),1)],1)]),e._v(" "),i("userDetailComp",{ref:"userDetailComp",attrs:{title:"detail"},on:{cbSuccess:e.updataDetail}})],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("hePC")},null,null);t.default=l.exports},WEET:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("YDJs"),n=i("xpps"),o=i("zAgK"),l=i("Rpa2"),c=i("gyMJ"),u={name:"cardhistory",mixins:[n.a],data:function(){return{searchFm:{type:"",fromtime:new Date(this.utcToLocal((new Date).getTime()).split(" ")[0]+" 00:00:00").getTime()-2592e6,totime:new Date(this.utcToLocal((new Date).getTime()).split(" ")[0]+" 23:59:59").getTime(),customerid:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},pointType:["",lg.newCard,lg.annualCard,lg.lifeLongCard,lg.newCardLifelong],records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],params:{},loading:!1,searchCustomerKey:"",treeHeight:0}},computed:{auth:function(){return this.$store.state.auth},loginId:function(){return this.$store.state.customerInfo.id},pointhistoryAuth:function(){return this.$store.state.functions&&this.$store.state.functions.pointhistory},importDeviceAuth:function(){return this.$store.state.auth.hasAuth2ImportDevice}},components:{treeComp:o.default,treePanel:r.default,userTreeSelect:l.default,historyDetail:function(){return i.e(87).then(i.bind(null,"Nxqm"))}},methods:{indexMethod:function(e){return this.start+(e+1)},selected:function(e){this.searchFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},getList:function(){var e=this;this.loading=!0,this.basecustomerid&&(this.params.basecustomerid=this.basecustomerid),Object(c._100)(a()({start:this.start,count:this.pagesize},this.params)).then(function(t){e.records=t.records,e.total=t.totalcount,e.loading=!1}).catch(function(t){e.loading=!1})},treeLoaded:function(){this.setHeight()},searchFn:function(){return this.start=0,this.total=0,this.params=this.deepCopy(this.searchFm),+this.params.fromtime?+this.params.totime?(this.params.totime=new Date(this.utcToLocal(this.params.totime).split(" ")[0]+" 23:59:59").getTime(),console.log("fromtime:"+this.utcToLocal(this.params.fromtime)),console.log("totime:"+this.utcToLocal(this.params.totime)),this.params.totime-this.params.fromtime>26784e5?this.$message.error(lg.maxTimeOneMonth):this.params.fromtime>this.params.totime?this.$message.error(lg.distimeError):void this.getList()):this.$message.error(lg.inputEndTime):this.$message.error(lg.inputStartTime)},resetFm:function(){this.$refs.searchFm.resetFields(),this.searchFm.fromtime=(new Date).getTime()-2592e6,this.searchFm.totime=(new Date).getTime(),this.params={},this.start=0,this.total=0,this.$refs.userTreeCompFilter.clearFn(),this.searchFn()},treeNodeClick:function(e){e.id!=this.customerid&&(this.basecustomerid=e.id,this.resetFm(),this.setTreeScrollPos())},searchFilterCustomer:function(e,t){e.length>1?Object(c.T)({rootid:this.loginId,num:10,query:e}).then(function(e){for(var i=e.record,s=[],a=0,r=i.length;a<r;a++)s.push({value:i[a].value,customerid:i[a].id,customers:i[a].index});t(s)}).catch(function(e){t([])}):t([])},handleSelectCustomer:function(e){this.$refs.userTreeComp.selectTreeNode(e)},showDetail:function(e){this.$refs.historyDetailComp.showDialog(e)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},formatterType:function(e,t,i,s){return this.pointType[i]},formatterOpt:function(e,t,i,s){var a=["",lg.create,lg.transferOut,lg.use,lg.transferIn,lg.return,lg.returnFirst],r="";return 6!=e.operation_type&&(r+=e.customer_name+"("+e.customeraccount+") "),r+=a[e.operation_type]+" ",r+=this.pointType[e.point_type]+" ",2!=e.operation_type&&1!=e.operation_type&&6!=e.operation_type||(r+=lg.withTo+" "+e.target_name+"("+e.targetaccount+")"),r||"-"},formatterIncome:function(e,t,i,s){return-1!=[1,4,5].indexOf(e.operation_type)?e.point_number:"-"},formatterExpenditure:function(e,t,i,s){return-1!=[2,3,6].indexOf(e.operation_type)?e.point_number:"-"},setTreeScrollPos:function(){var e=this;setTimeout(function(){var t=document.querySelector(".el-tree-node.is-current.is-focusable").offsetTop,i=e.$refs.historyScroll.wrap.scrollTop;(t<i||t>i+e.treeHeight)&&(e.$refs.historyScroll.wrap.scrollTop=t-30,e.$refs.historyScroll.handleScroll())},300)},setHeight:function(){if(this.pointhistoryAuth){var e=document.querySelector(".page-cardhistory .tree-panel").offsetHeight;this.treeHeight=e-100}},resize:function(){this.setHeight()},setQuery:function(){var e=this.$route.query;this.searchFm.type=e.type?e.type:"",this.params.type=e.type?e.type:"",e.customerid&&(this.searchFm.customerid=e.customerid,this.params.customerid=e.customerid,e.account&&this.$refs.userTreeCompFilter.setCustomer(e.account))}},activated:function(){this.setQuery(),this.searchFn()},mounted:function(){var e=this;this.$nextTick(function(){e.setHeight()})}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-cardhistory h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.cardHistory)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n       内部TIPS："),i("br"),e._v("\n       1 注意有客户转移的情况"),i("br"),e._v("\n       2 相关知识点-用卡数量："),i("br"),e._v(" "),i("table",{attrs:{border:"2",bordercolor:"#666666"}},[i("tbody",[i("tr",[i("th",[e._v("操作 ")]),e._v(" "),i("th",[e._v("期限 ")]),e._v(" "),i("th",[e._v("我司设备 ")]),e._v(" "),i("th",[e._v("其它设备 ")])]),e._v(" "),i("tr",[i("td",{attrs:{rowspan:"2"}},[e._v("导入 ")]),e._v(" "),i("td",[e._v(" 终生 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",[e._v(" 按年 ")]),e._v(" "),i("td",[e._v(" 0 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",{attrs:{rowspan:"2"}},[e._v("续费 ")]),e._v(" "),i("td",[e._v(" 终生 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",[e._v(" 按年 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])])])])])])],1),e._v(" "),i("div",{staticClass:"has-titlebar-content"},[i("treePanel",{attrs:{offset:60,hideside:!e.pointhistoryAuth},scopedSlots:e._u([{key:"treeTitle",fn:function(){},proxy:!0},{key:"treeContent",fn:function(){return[i("div",{staticClass:"search-tree mt10"},[i("el-autocomplete",{staticClass:"inline-input search-tree-input",attrs:{"prefix-icon":"search-icon base-icon","fetch-suggestions":e.searchFilterCustomer,placeholder:e.lg.account+"/"+e.lg.name,"trigger-on-focus":!1,"hide-loading":!0},on:{select:e.handleSelectCustomer},model:{value:e.searchCustomerKey,callback:function(t){e.searchCustomerKey=t},expression:"searchCustomerKey"}},[i("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){e.searchCustomerKey=""}},slot:"suffix"})])],1),e._v(" "),i("el-scrollbar",{ref:"historyScroll",style:"height:"+e.treeHeight+"px;"},[i("treeComp",{ref:"userTreeComp",on:{treeLoaded:e.treeLoaded,treeNodeClick:e.treeNodeClick}})],1)]},proxy:!0},{key:"mainContent",fn:function(){return[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{staticClass:"filter-cardtype",attrs:{label:e.lg.cardType,prop:"type"}},[i("el-select",{attrs:{clearable:""},model:{value:e.searchFm.type,callback:function(t){e.$set(e.searchFm,"type",t)},expression:"searchFm.type"}},[i("el-option",{attrs:{label:e.lg.all,value:""}}),e._v(" "),e.importDeviceAuth?i("el-option",{attrs:{label:e.lg.newCard,value:"1"}}):e._e(),e._v(" "),e.importDeviceAuth?i("el-option",{attrs:{label:e.lg.newCardLifelong,value:"4"}}):e._e(),e._v(" "),i("el-option",{attrs:{label:e.lg.annualCard,value:"2"}}),e._v(" "),i("el-option",{attrs:{label:e.lg.lifeLongCard,value:"3"}})],1)],1),e._v(" "),i("el-form-item",{staticClass:"filter-cardtype",attrs:{label:e.lg.from,prop:"fromtime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.checkedDateTime},model:{value:e.searchFm.fromtime,callback:function(t){e.$set(e.searchFm,"fromtime",t)},expression:"searchFm.fromtime"}}),e._v(" "),i("label",{staticClass:"ml10 el-form-item__label"},[e._v(e._s(e.lg.to))]),e._v(" "),i("el-date-picker",{ref:"endDateTimePicker",attrs:{type:"date","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.searchFm.totime,callback:function(t){e.$set(e.searchFm,"totime",t)},expression:"searchFm.totime"}}),e._v(" "),i("p",{staticClass:"time-range-tips"},[e._v(e._s(e.lg.maxTimeOneMonth))])],1),e._v(" "),i("el-form-item",{staticClass:"filter-customer",attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeCompFilter",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{staticClass:"search-form-btns"},[i("div",{staticStyle:{position:"relative",top:"-2px"}},[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,"highlight-current-row":"",stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"create_time",label:e.lg.dateTime,formatter:e.formatterTime,width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_type",label:e.lg.cardType,formatter:e.formatterType}}),e._v(" "),i("el-table-column",{attrs:{prop:"operation_type",label:e.lg.operation,formatter:e.formatterOpt,width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_number",label:e.lg.income,formatter:e.formatterIncome}}),e._v(" "),i("el-table-column",{attrs:{prop:"point_number",label:e.lg.expenditure,formatter:e.formatterExpenditure}}),e._v(" "),i("el-table-column",{attrs:{prop:"after",label:e.lg.balance}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return["3"==t.row.operation_type?i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row.id)}}},[e._v(e._s(e.lg.detail))]):i("span",[e._v("-")])]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[e.total?i("a",{staticClass:"excel-btn",attrs:{href:"/OutputService?method=outputPointHistoryFile&customerid="+e.searchFm.customerid+"&fromtime="+e.searchFm.fromtime+"&totime="+e.searchFm.totime+"&timezone="+e.timezoneOffset()+"&lang="+e.$lang}},[e._v(e._s(e.lg.downloadExcel))]):e._e()])])],1)]},proxy:!0}])})],1),e._v(" "),i("historyDetail",{ref:"historyDetailComp"})],1)},staticRenderFns:[]};var d=i("VU/8")(u,m,!1,function(e){i("M9Bj")},null,null);t.default=d.exports},WJqe:function(e,t){},WVmu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("vgQg"),a=i("Rpa2"),r=i("gyMJ"),n=i("jb42"),o={name:"customerinfo",data:function(){return{customerid1:"",customerid2:"",dialogTitle:"",userInfo1:{},userInfo2:{},timezoneArr:[],permission:[],showInfo1:!1,showInfo2:!1,loading:!1}},components:{userTreeSelect:a.default},methods:{searchInfo:function(e){var t=this;if(!this["customerid"+e])return this.$message.error(lg.selectCustomer);Object(r._67)({customerid:this["customerid"+e]}).then(function(i){t["showInfo"+e]=!0,t["userInfo"+e]=i.record}).catch(function(e){})},userSelected1:function(e){this.customerid1=e.customerid},userSelected2:function(e){this.customerid2=e.customerid},getInfo:function(){},fmtType:function(e){return e?n.a[e]:"-"},closedFn:function(){this.permission={}}},mounted:function(){this.timezoneArr=s.d}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.customerCompare))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"func-customer-info submit-from-box"},[i("el-row",{attrs:{gutter:21}},[i("el-col",{attrs:{span:10}},[i("div",{staticClass:"p15"},[i("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.lg.aimCustomer)+"1: ")]),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",staticStyle:{display:"inline-block"},on:{selected:e.userSelected1}}),e._v(" "),i("el-button",{staticClass:"ml10",attrs:{type:"primary"},on:{click:function(t){return e.searchInfo(1)}}},[e._v(e._s(e.lg.check))])],1),e._v(" "),i("div",{},[i("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showInfo1,expression:"showInfo1"}],ref:"fmComp",attrs:{model:e.userInfo1,"label-width":"140px"}},[i("el-form-item",{attrs:{label:e.lg.portrait,Xclass:"ml4",Xstyle:"width:99%;margin-left:0;position: absolute;left:39%;top:60px;"}},[i("img",{attrs:{width:"70",src:e.userInfo1.thumbnailportrait}})]),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:e.lg.createTime}},[e._v("\n                "+e._s(e.userInfo1.createtime>0?e.utcToLocal(e.userInfo1.createtime):"-")+"\n              ")]),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:"Customerid"}},[e._v("\n                "+e._s(e.userInfo1.customerid)+"\n              ")]),e._v(" "),i("el-form-item",{staticStyle:{width:"99%","margin-left":"0"},attrs:{label:e.lg.account}},[i("copy",{attrs:{txt:e.userInfo1.account}},[e._v(e._s(e.userInfo1.account))])],1),e._v(" "),i("el-form-item",{staticClass:"clearfix",attrs:{label:e.lg.customerName}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.name,callback:function(t){e.$set(e.userInfo1,"name",t)},expression:"userInfo1.name"}})],1),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{required:"",label:e.lg.roles}},[i("el-radio",{attrs:{label:1,disabled:!0},model:{value:e.userInfo1.type,callback:function(t){e.$set(e.userInfo1,"type",t)},expression:"userInfo1.type"}},[i("i",{staticClass:"tree-icon ico-dealer"}),e._v(e._s(e.lg.gradeDealer))]),e._v(" "),i("el-radio",{directives:[{name:"show",rawName:"v-show",value:3==e.userInfo1.type,expression:"userInfo1.type == 3"}],attrs:{label:3,disabled:!0},model:{value:e.userInfo1.type,callback:function(t){e.$set(e.userInfo1,"type",t)},expression:"userInfo1.type"}},[i("i",{staticClass:"tree-icon ico-uservirtual"}),e._v(e._s(e.lg.gradeVirtual))]),e._v(" "),i("el-radio",{attrs:{label:2,disabled:!0},model:{value:e.userInfo1.type,callback:function(t){e.$set(e.userInfo1,"type",t)},expression:"userInfo1.type"}},[i("i",{staticClass:"tree-icon ico-user"}),e._v(e._s(e.lg.gradeUser))]),e._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"2"==e.userInfo1.type,expression:"userInfo1.type == '2'"}],attrs:{"true-label":1,disabled:!0},model:{value:e.userInfo1.isread,callback:function(t){e.$set(e.userInfo1,"isread",t)},expression:"userInfo1.isread"}},[i("i",{staticClass:"tree-icon ico-userReadonly"}),e._v(e._s(e.lg.monitorOnly)+"\n                  "),i("el-tooltip",{attrs:{content:e.lg.readonlyTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1)],1),e._v(" "),i("el-form-item",{attrs:{required:"",label:e.lg.timeZone}},[i("el-select",{attrs:{disabled:!0},model:{value:e.userInfo1.timezone,callback:function(t){e.$set(e.userInfo1,"timezone",t)},expression:"userInfo1.timezone"}},e._l(e.timezoneArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("div",{staticClass:"cb"}),e._v(" "),i("el-form-item",{attrs:{label:e.lg.contact}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.contact,callback:function(t){e.$set(e.userInfo1,"contact",t)},expression:"userInfo1.contact"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.mobile}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.phone,callback:function(t){e.$set(e.userInfo1,"phone",t)},expression:"userInfo1.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.tel}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.telphone,callback:function(t){e.$set(e.userInfo1,"telphone",t)},expression:"userInfo1.telphone"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.email}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.email,callback:function(t){e.$set(e.userInfo1,"email",t)},expression:"userInfo1.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.address}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo1.address,callback:function(t){e.$set(e.userInfo1,"address",t)},expression:"userInfo1.address"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.webpage}},[i("el-input",{attrs:{maxlength:"250",disabled:!0},model:{value:e.userInfo1.webpage,callback:function(t){e.$set(e.userInfo1,"webpage",t)},expression:"userInfo1.webpage"}})],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:10}},[i("div",{staticClass:"p15"},[i("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.lg.aimCustomer)+"2: ")]),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",staticStyle:{display:"inline-block"},on:{selected:e.userSelected2}}),e._v(" "),i("el-button",{staticClass:"ml10",attrs:{type:"primary"},on:{click:function(t){return e.searchInfo(2)}}},[e._v(e._s(e.lg.check))])],1),e._v(" "),i("div",{},[i("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showInfo2,expression:"showInfo2"}],ref:"fmComp",attrs:{model:e.userInfo2,"label-width":"140px"}},[i("el-form-item",{attrs:{label:e.lg.portrait,Xclass:"ml4",Xstyle:"width:99%;margin-left:0;position: absolute;left:39%;top:60px;"}},[i("img",{attrs:{width:"70",src:e.userInfo2.thumbnailportrait}})]),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:e.lg.createTime}},[e._v("\n                "+e._s(e.userInfo2.createtime>0?e.utcToLocal(e.userInfo2.createtime):"-")+"\n              ")]),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:"Customerid"}},[e._v("\n                "+e._s(e.userInfo2.customerid)+"\n              ")]),e._v(" "),i("el-form-item",{staticStyle:{width:"99%","margin-left":"0"},attrs:{label:e.lg.account}},[i("copy",{attrs:{txt:e.userInfo2.account}},[e._v(e._s(e.userInfo2.account))])],1),e._v(" "),i("el-form-item",{staticClass:"clearfix",attrs:{label:e.lg.customerName}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.name,callback:function(t){e.$set(e.userInfo2,"name",t)},expression:"userInfo2.name"}})],1),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{required:"",label:e.lg.roles}},[i("el-radio",{attrs:{label:1,disabled:!0},model:{value:e.userInfo2.type,callback:function(t){e.$set(e.userInfo2,"type",t)},expression:"userInfo2.type"}},[i("i",{staticClass:"tree-icon ico-dealer"}),e._v(e._s(e.lg.gradeDealer))]),e._v(" "),i("el-radio",{directives:[{name:"show",rawName:"v-show",value:3==e.userInfo2.type,expression:"userInfo2.type == 3"}],attrs:{label:3,disabled:!0},model:{value:e.userInfo2.type,callback:function(t){e.$set(e.userInfo2,"type",t)},expression:"userInfo2.type"}},[i("i",{staticClass:"tree-icon ico-uservirtual"}),e._v(e._s(e.lg.gradeVirtual))]),e._v(" "),i("el-radio",{attrs:{label:2,disabled:!0},model:{value:e.userInfo2.type,callback:function(t){e.$set(e.userInfo2,"type",t)},expression:"userInfo2.type"}},[i("i",{staticClass:"tree-icon ico-user"}),e._v(e._s(e.lg.gradeUser))]),e._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"2"==e.userInfo2.type,expression:"userInfo2.type == '2'"}],attrs:{"true-label":1,disabled:!0},model:{value:e.userInfo2.isread,callback:function(t){e.$set(e.userInfo2,"isread",t)},expression:"userInfo2.isread"}},[i("i",{staticClass:"tree-icon ico-userReadonly"}),e._v(e._s(e.lg.monitorOnly)+"\n                  "),i("el-tooltip",{attrs:{content:e.lg.readonlyTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1)],1),e._v(" "),i("el-form-item",{attrs:{required:"",label:e.lg.timeZone}},[i("el-select",{attrs:{disabled:!0},model:{value:e.userInfo2.timezone,callback:function(t){e.$set(e.userInfo2,"timezone",t)},expression:"userInfo2.timezone"}},e._l(e.timezoneArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("div",{staticClass:"cb"}),e._v(" "),i("el-form-item",{attrs:{label:e.lg.contact}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.contact,callback:function(t){e.$set(e.userInfo2,"contact",t)},expression:"userInfo2.contact"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.mobile}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.phone,callback:function(t){e.$set(e.userInfo2,"phone",t)},expression:"userInfo2.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.tel}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.telphone,callback:function(t){e.$set(e.userInfo2,"telphone",t)},expression:"userInfo2.telphone"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.email}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.email,callback:function(t){e.$set(e.userInfo2,"email",t)},expression:"userInfo2.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.address}},[i("el-input",{attrs:{disabled:!0},model:{value:e.userInfo2.address,callback:function(t){e.$set(e.userInfo2,"address",t)},expression:"userInfo2.address"}})],1),e._v(" "),i("el-form-item",{staticClass:"ml4",attrs:{label:e.lg.webpage}},[i("el-input",{attrs:{maxlength:"250",disabled:!0},model:{value:e.userInfo2.webpage,callback:function(t){e.$set(e.userInfo2,"webpage",t)},expression:"userInfo2.webpage"}})],1)],1)],1)])],1)],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("QxAe")},null,null);t.default=c.exports},Woj9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{fromComp:function(){return i.e(105).then(i.bind(null,"ImkI")).catch()}},methods:{show:function(){this.dialogVisible=!0},hide:function(){this.dialogVisible=!1},setData:function(e){var t=this;this.findObj("fromComp",this.$refs,function(){t.$refs.fromComp.setData(e)})},addSuccess:function(){this.$emit("addSuccess")},dialogCloseFn:function(){this.$refs.fromComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.add,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"550px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("fromComp",{ref:"fromComp",attrs:{dialog:!0},on:{hide:e.hide,addSuccess:e.addSuccess}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},XIE1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r={data:function(){return{loading:!1,errorcode:"",imeiError:!1,name:"",records:[]}},components:{platformComp:function(){return i.e(88).then(i.bind(null,"sQMB")).catch()}},methods:{initParam:function(){this.imeiError=!1},getInfo:function(e,t){var i=this;if(this.initParam(),this.name=this.$trim(t),!this.name)return this.$message.error("Please input IMEI or Account.");if("imei"!=e||Object(a.h)(this.name)){var r={};r[e]=this.name,this.loading=!0,Object(s._70)(r,{errorHide:!0}).then(function(e){0==e.errorcode?i.records=e.record:(i.errorcode=e.errorcode,i.records=[]),i.loading=!1}).catch(function(e){i.loading=!1})}else this.imeiError=!0}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ower-table",staticStyle:{width:"100%"},attrs:{data:e.records}},[i("el-table-column",{attrs:{prop:"salename",label:"Sale name"}}),e._v(" "),i("el-table-column",{attrs:{prop:"saleaccount",label:"Sale account"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:"Customer name"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:"Customer account"}}),e._v(" "),i("template",{slot:"empty"},[e.imeiError?i("el-alert",{attrs:{"show-icon":"",closable:!1,title:e.lg[20053],type:"error"}}):i("div",{staticClass:"ower-table-empty"},[i("div",[e._v(e._s(e.lg.noData))]),e._v(" "),"20005"==e.errorcode?i("platformComp",{ref:"platformComp",attrs:{imeis:e.name}}):e._e()],1)],1)],2)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("AwON")},null,null);t.default=o.exports},XKPe:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{visible:!1,initFlag:!1,menuHeight:0,hover:0}},computed:{sidebar:function(){return this.$store.state.sidebar},path:function(){return this.$route.path},permission:function(){return this.$store.state.functions}},components:{funcComp:i("noE1").default},methods:{show:function(){if(!this.visible){this.visible=!0;var e=this;setTimeout(function(){e.setFunctionsPosition()},10)}},hoverFn:function(){this.hover=1},hide:function(){this.$refs.funcComp.popoverHide(),this.visible=!1,this.hover=0,document.getElementsByClassName("function-menu-dialog")[0].style.left="-1000px"},hoverHide:function(){this.hide()},setFunctionsPosition:function(){if(this.permission){var e=document.getElementsByClassName("function-menu-dialog")[0];if(e&&this.visible){var t=this.sidebar.opened?370:240,i=e.offsetHeight/2,s=document.getElementsByClassName("function-menu-item")[0],a=document.documentElement.clientHeight-(s.offsetTop+t)-i,r=a>0?a:0;e.style.bottom=r+10+"px",e.style.left=s.offsetWidth-1+"px",this.setItemHeight()}}else{var n=this;setTimeout(function(){n.setFunctionsPosition()},300)}},setItemHeight:function(){var e=document.getElementsByClassName("function-menu-dialog")[0],t=840;document.documentElement.clientHeight-50<t&&(t=document.documentElement.clientHeight-50),e.style["max-height"]=t+"px";var i=document.querySelector(".function-menu-dialog .function-cont").offsetHeight,s=document.querySelector(".function-menu-dialog .func-filter-box").offsetHeight,a=0;a=i+s+40<t?i+20:t-s-40,this.menuHeight>a?a=this.menuHeight:this.menuHeight=a;var r=this;this.findObj("funcComp",this.$refs,function(){r.$refs.funcComp.setScrollHeight(a)})},itemClick:function(){this.hide()}},mounted:function(){var e=this.$el;document.body.appendChild(e),this.$store.state.myFunctions||this.$store.dispatch("getFunctionsAll")}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"function-menu-dialog functions-menu",attrs:{"data-show":e.hover},on:{mouseover:e.hoverFn,mouseleave:function(t){return e.hoverHide()}}},[i("funcComp",{ref:"funcComp",attrs:{source:"menu"},on:{itemClick:e.itemClick}})],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("l7LV")},null,null);t.default=r.exports},XeEf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["source"],mixins:[i("Zlha").a],data:function(){return{record:[],loading:!1,total:0,customerid:"",chart:null}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},computed:{loginId:function(){return this.$store.state.loginId}},methods:{refreshFn:function(){this.chart||this.initChart(),this.getData()},changeCustomerId:function(e){if(this.customerid!=e){this.customerid=e;var t=this;this.findFn("echarts",function(){t.chart||t.initChart(),t.getData()})}},getData:function(){var e=this;Object(s._79)({customerid:this.customerid}).then(function(t){e.loading=!1,e.record=t.record.items||[],e.total=t.record.total||0,e.setChartData()}).catch(function(t){e.loading=!1})},setChartData:function(){if(!this.record||0==this.record.length)return this.clearChart();var e=[],t=[],i=this.total;this.record.forEach(function(s,a){e.push(s.name),t.push(s),i-=s.value}),i>0&&(e.push(lg.other),t.push({name:lg.other,value:i})),this.chart.setOption({legend:{data:e},series:[{data:t}]})},clearChart:function(){this.chart.setOption({legend:{data:[]},series:[{data:[]}]})},initChart:function(){this.chart=echarts.init(document.getElementById("modelChart"+(this.source?this.source:""))),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#02bd78","#f6707b","#e8e8e8","#f9c851","#fc9700","#20a8d8"],legend:{itemWidth:10,itemHeight:10,borderRadius:10,bottom:0,data:[]},series:[{name:lg.targetType,type:"pie",radius:"80%",center:["50%","46%"],label:{show:!1},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}},mounted:function(){var e=this,t=this;this.$nextTick(function(){e.loading=!0,"undefined"==typeof echarts&&e.loadScript("./static/plugins/echart/echarts.min.js"),e.source||(e.customerid=e.loginId,e.findFn("echarts",function(){t.initChart(),t.getData()}))})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"model-chart"},[i("h3",{staticClass:"nobg-title"},[e._v(e._s(e.lg.targetType))]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chart-box"},[i("div",{staticClass:"model-box",attrs:{id:"modelChart"+(e.source?e.source:"")}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.record.length,expression:"record.length == 0"}],staticClass:"no-data bg"},[e._v("\n      "+e._s(e.lg.noData)+"\n    ")])])])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("yr67")},null,null);t.default=n.exports},XeIX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{customerInfo:{},saleVisible:!1,deviceVisible:!1,userVisible:!1,userInfoVisible:!1,showPwd:!0,showAddImei:!0}},computed:{loginId:function(){return this.$store.state.customerInfo.id},permission:function(){return this.$store.state.auth}},components:{sellComp:function(){return i.e(115).then(i.bind(null,"pzsd")).catch()},addDevice:function(){return i.e(107).then(i.bind(null,"3A2d")).catch()},addUser:function(){return i.e(75).then(i.bind(null,"S455")).catch()},userInfo:function(){return i.e(79).then(i.bind(null,"TqR5")).catch()},moveUser:function(){return i.e(86).then(i.bind(null,"IWkG")).catch()},resetPwdComp:function(){return i.e(74).then(i.bind(null,"RDSy")).catch()},passwordComp:function(){return Promise.all([i.e(0),i.e(3)]).then(i.bind(null,"LFw6")).catch()},modifyPwdComp:function(){return i.e(76).then(i.bind(null,"HNuF")).catch()},messageComp:function(){return i.e(77).then(i.bind(null,"02iu")).catch()},deleteComp:function(){return i.e(90).then(i.bind(null,"uNXS")).catch()}},methods:{focusFn:function(){this.$emit("mouseEnterEv")},blurFn:function(){this.$emit("mouseLeaveEv")},showUserInfo:function(){this.userInfoVisible=!0;var e=this;this.findObj("userInfoComp",this.$refs,function(){e.$refs.userInfoComp.getInfo(e.customerInfo.id)})},updataUserInfo:function(){this.userInfoVisible=!1,this.$emit("refreshSelf")},showSell:function(){this.saleVisible=!0;var e=this;this.findObj("sellComp",this.$refs,function(){e.$refs.sellComp.setCustomerid(e.customerInfo.id,e.customerInfo.name)})},showAddDevice:function(){this.deviceVisible=!0;var e=this;this.findObj("addDeviceComp",this.$refs,function(){e.$refs.addDeviceComp.init(e.customerInfo.id,e.customerInfo.name)})},showAddUser:function(){this.userVisible=!0;var e=this;this.findObj("addUserComp",this.$refs,function(){e.$refs.addUserComp.setVisible(!0),e.$refs.addUserComp.setData(e.customerInfo.id,e.customerInfo.name)})},showMoveUser:function(){var e=this;this.findObj("moveUserComp",this.$refs,function(){e.$refs.moveUserComp.setVisible(!0),e.$refs.moveUserComp.setData(e.customerInfo)})},resetPwdFn:function(){var e=this;this.findObj("resetPwdComp",this.$refs,function(){e.$refs.resetPwdComp.resetPassword(e.customerInfo.id)})},showModifyPwd:function(){var e=this;e.loginId!=e.customerInfo.id?this.findObj("modifySubUserPwdComp",this.$refs,function(){e.$refs.modifySubUserPwdComp.setVisible(!0),e.$refs.modifySubUserPwdComp.setData(e.customerInfo)}):this.findObj("modifyMyPwdComp",this.$refs,function(){e.$refs.modifyMyPwdComp.setVisible(!0)})},showMessage:function(){var e=this;this.findObj("messageComp",this.$refs,function(){e.$refs.messageComp.setVisible(!0),e.$refs.messageComp.setData(e.customerInfo)})},deleteRecord:function(){var e=this;this.findObj("deleteComp",this.$refs,function(){e.$refs.deleteComp.deleteRecord(e.customerInfo.id)})},reloadTreeParent:function(){this.$emit("reloadTreeParent")},refreshFn:function(){this.$emit("refresh")},setData:function(e){this.customerInfo=e}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tree-right-box",on:{mouseenter:function(t){return e.focusFn()},mouseleave:function(t){return e.blurFn()}}},[i("ul",{staticClass:"tree-right-list"},[i("li",{on:{click:e.showSell}},[i("i",{staticClass:"ico-menu icoinsearch ico-menu-quicksale"}),e._v(e._s(e.lg.quickSale))]),e._v(" "),e.permission.hasAuth2ImportDevice&&"3"!=e.customerInfo.type?i("li",{on:{click:e.showAddDevice}},[i("i",{staticClass:"ico-menu ico-menu-adddevice"}),e._v(e._s(e.lg.addTarget))]):e._e(),e._v(" "),i("div",{staticClass:"line-space"}),e._v(" "),i("li",{on:{click:e.showAddUser}},[i("i",{staticClass:"ico-menu ico-menu-adduser"}),e._v(e._s(e.lg.addCustomer))]),e._v(" "),i("li",{on:{click:e.showUserInfo}},[i("i",{staticClass:"ico-menu icoinsearch ico-menu-userinfo"}),e._v(e._s(e.lg.manageCustomer))]),e._v(" "),i("li",{on:{click:e.showMoveUser}},[i("i",{staticClass:"ico-menu icoinsearch ico-menu-moveuser"}),e._v(e._s(e.lg.customerMove))]),e._v(" "),i("li",{on:{click:e.showMessage}},[i("i",{staticClass:"ico-menu ico-menu-sendmessage"}),e._v(e._s(e.lg.sendMessage))]),e._v(" "),e.loginId!=e.customerInfo.id?i("li",{on:{click:e.deleteRecord}},[i("i",{staticClass:"ico-menu ico-menu-deluser"}),e._v(e._s(e.lg.delCustomer))]):e._e(),e._v(" "),i("div",{staticClass:"line-space"}),e._v(" "),e.loginId!=e.customerInfo.id?i("li",{on:{click:e.resetPwdFn}},[i("i",{staticClass:"ico-menu ico-menu-resetpwd"}),e._v(e._s(e.lg.resetPwd))]):e._e(),e._v(" "),i("li",{on:{click:e.showModifyPwd}},[i("i",{staticClass:"ico-menu icoinsearch ico-menu-modifypwd"}),e._v(e._s(e.lg.modifyPwd))]),e._v(" "),i("div",{staticClass:"line-space"}),e._v(" "),i("li",{on:{click:e.refreshFn}},[i("i",{staticClass:"ico-menu ico-menu-refresh"}),e._v(e._s(e.lg.refresh))])]),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.sale,visible:e.saleVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.saleVisible=t}}},[i("sellComp",{ref:"sellComp",attrs:{dialog:!0},on:{close:function(t){e.saleVisible=!1},sellSuccess:function(t){e.saleVisible=!1}}})],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addTarget,visible:e.deviceVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.deviceVisible=t}}},[i("addDevice",{ref:"addDeviceComp",attrs:{dialog:!0},on:{close:function(t){e.deviceVisible=!1}}})],1),e._v(" "),i("addUser",{ref:"addUserComp",on:{cbAddUser:e.refreshFn}}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.manageCustomer,visible:e.userInfoVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"800px"},on:{"update:visible":function(t){e.userInfoVisible=t}}},[i("userInfo",{ref:"userInfoComp",attrs:{isDialog:!0},on:{closeDialog:function(t){e.userInfoVisible=!1},successCb:e.updataUserInfo}})],1),e._v(" "),i("moveUser",{ref:"moveUserComp",on:{successCallback:e.reloadTreeParent}}),e._v(" "),i("resetPwdComp",{ref:"resetPwdComp"}),e._v(" "),i("passwordComp",{ref:"modifyMyPwdComp"}),e._v(" "),i("modifyPwdComp",{ref:"modifySubUserPwdComp"}),e._v(" "),i("messageComp",{ref:"messageComp"}),e._v(" "),i("deleteComp",{ref:"deleteComp",on:{deleteUserCallback:e.reloadTreeParent}})],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("7M+5")},null,null);t.default=r.exports},Xu8Z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["showUnreadMsg"],data:function(){return{dialogVisible:!1,unreadMsgNum:0,unreadFeedbackNum:0,timeObj:null,loodTime:6e4,activeName:"system"}},components:{messageComp:function(){return i.e(138).then(i.bind(null,"fA6O")).catch()},feedback:function(){return i.e(140).then(i.bind(null,"fkey")).catch()},sent:function(){return i.e(130).then(i.bind(null,"7A6a")).catch()},sendMessageComp:function(){return i.e(82).then(i.bind(null,"02iu")).catch()}},computed:{auth:function(){return this.$store.state.auth}},methods:{setVisible:function(e){if(this.dialogVisible=e,e=!0){var t=this;setTimeout(function(){t.getList()},100)}},getList:function(){this.$refs.messageComp.getList(),this.$refs.sent.getList(),this.auth.hasFeedback&&this.$refs.feedback.getList()},tabClick:function(){"system"==this.activeName?this.$refs.messageComp.showDetail=!1:"feedback"==this.activeName?this.$refs.feedback.showDetail=!1:this.$refs.sent.showDetail=!1},emitNum:function(){var e=Math.max(this.unreadMsgNum,this.unreadFeedbackNum);this.$emit("setNum",e)},getUnreadMsgNum:function(){var e=this;Object(s._157)().then(function(t){e.unreadMsgNum=t.record,e.emitNum()}).catch(function(){})},refreshReadNum:function(e){"message"==e&&this.getUnreadMsgNum(),"feedback"==e&&this.getUnreadFeedbackNum()},clearUnReadNum:function(e){"message"==e&&(this.unreadMsgNum=0),"feedback"==e&&(this.unreadFeedbackNum=0),this.emitNum()},delReadNum:function(e){"message"==e&&this.unreadMsgNum--,"feedback"==e&&this.unreadFeedbackNum--,this.emitNum()},getUnreadFeedbackNum:function(){var e=this;Object(s._156)().then(function(t){e.unreadFeedbackNum=t.record,e.emitNum()}).catch(function(){})},getunreadNum:function(){this.getUnreadMsgNum(),this.auth.hasFeedback&&this.getUnreadFeedbackNum()},setrVsbEvent:function(){var e=this.getBrowserVisibilityEventKey();document.addEventListener(e.ev,this.weekupSleepFn)},weekupSleepFn:function(){var e=this,t=this.getBrowserVisibilityEventKey();"visible"==document[t.stat]?this.timeObj=setInterval(function(){e.getunreadNum()},e.loodTime):"hidden"==document[t.stat]&&clearInterval(this.timeObj)},showSendMessage:function(){this.$refs.sendMessageComp.setVisible(!0),this.$refs.sendMessageComp.setData(this.userInfo)},dialogCloseFn:function(){this.$refs.messageComp.reset(),this.$refs.feedback.reset(),this.$refs.sent.reset()},setActiveTab:function(e){this.activeName=e},initUnreadMsg:function(){this.getunreadNum();var e=this;this.timeObj=setInterval(function(){e.getunreadNum()},e.loodTime),this.setrVsbEvent()}},mounted:function(){var e=this;this.$nextTick(function(){e.showUnreadMsg&&e.initUnreadMsg()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"message-dialog",attrs:{title:e.lg.message,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"900px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"links"},[i("a",{attrs:{href:"javascript://"},on:{click:e.showSendMessage}},[i("i",{staticClass:"base-icon message-icon"}),e._v(e._s(e.lg.sendMessage))])]),e._v(" "),i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.message+"("+e.unreadMsgNum+")",name:"system"}},[i("messageComp",{ref:"messageComp",on:{delReadNum:e.delReadNum,clearUnReadNum:e.clearUnReadNum,refreshReadNum:e.refreshReadNum}})],1),e._v(" "),e.auth.hasFeedback?i("el-tab-pane",{attrs:{label:e.lg.customerService+"("+e.unreadFeedbackNum+")",name:"feedback"}},[i("feedback",{ref:"feedback",on:{delReadNum:e.delReadNum,clearUnReadNum:e.clearUnReadNum,refreshReadNum:e.refreshReadNum}})],1):e._e(),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.sent,name:"sent"}},[i("sent",{ref:"sent"})],1)],1),e._v(" "),i("sendMessageComp",{ref:"sendMessageComp"})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("7F2V")},null,null);t.default=n.exports},YDJs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticClass:"tree-aside-main",class:{"tree-hide":!e.showTree}},[e.hideside?e._e():i("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"tree-panel mr20",attrs:{width:"280px"}},[i("div",{staticClass:"tree-title pl10"},[e._v("\n      "+e._s(e.lg.myCustomer)+"\n      "),e._t("treeTitle"),e._v(" "),i("el-tooltip",{attrs:{content:e.lg.fold,placement:"right"}},[i("i",{staticClass:"fold-icon base-icon",on:{click:function(t){e.showTree=!e.showTree}}})])],2),e._v(" "),i("div",{staticClass:"tree-content"},[e._t("treeContent")],2)]),e._v(" "),e.hideside?e._e():i("el-aside",{directives:[{name:"show",rawName:"v-show",value:!e.showTree,expression:"!showTree"}],staticClass:"tree-hide-panel mr20",attrs:{width:"38px"}},[i("div",{staticClass:"h100b",on:{click:function(t){e.showTree=!e.showTree}}},[i("el-tooltip",{attrs:{content:e.lg.unfold,placement:"right"}},[i("i",{staticClass:"fold-icon unfold-icon base-icon"})]),e._v(" "),i("p",{staticClass:"fold_word"},[e._v(e._s(e.lg.myCustomer))])],1)]),e._v(" "),i("el-main",{staticStyle:{"padding-left":"0"}},[i("el-scrollbar",{staticClass:"h100b hidden-scroll-x"},[e._t("mainContent")],2)],1)],1)},staticRenderFns:[]};var a=i("VU/8")({props:["offset","hideside"],data:function(){return{showTree:!0}}},s,!1,function(e){i("kWfB")},null,null);t.default=a.exports},YNP1:function(e,t){},YSJl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{visible:!1,deviceid:"",record:[],start:0,total:0,pagesize:10}},components:{ownerComp:function(){return i.e(80).then(i.bind(null,"XIE1")).catch()},userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},membershipComp:function(){return new Promise(function(e){e()}).then(i.bind(null,"VV4h")).catch()}},methods:{showList:function(e){this.deviceid=e,this.getList()},getList:function(){var e=this;Object(s._43)({deviceid:this.deviceid,start:this.start,count:this.pagesize}).then(function(t){e.record=t.record,e.total=t.totalcount}).catch(function(e){})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},showDetail:function(e){var t=this;this.findObj("userDetailComp",this.$refs,function(){t.$refs.userDetailComp.setVisible(!0),t.$refs.userDetailComp.getInfo(e)})},showOwer:function(e){this.visible=!0;var t=this;this.findObj("ownerComp",this.$refs,function(){t.$refs.ownerComp.getInfo("account",e)})},showMembership:function(e){var t=this;this.findObj("membershipComp",this.$refs,function(){t.$refs.membershipComp.setVisible(!0),setTimeout(function(){t.$refs.membershipComp.getRelationship(e)},300)})},removeFn:function(e){var t=this;this.$confirm(lg.removeDeviceTip).then(function(){var i={customerid:e,deviceids:t.deviceid};Object(s._2)(i).then(function(e){t.$message.success(lg.targerDeleteSuccessTip),t.getList()}).catch(function(e){})}).catch(function(){})}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"membership-table"},[i("el-table",{attrs:{data:e.record}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:e.lg.customerName},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ischild?i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row.id)}}},[e._v(e._s(t.row.name))]):i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ischild?i("a",{staticClass:"link-btn",on:{click:function(i){return e.showMembership(t.row.id)}}},[e._v(e._s(t.row.account))]):i("a",{staticClass:"link-btn",on:{click:function(i){return e.showOwer(t.row.account)}}},[e._v(e._s(t.row.account))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.removeFn(t.row.id)}}},[e._v(e._s(e.lg.remove))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"total,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.membershipCustomer,modal:!0,visible:e.visible,width:"700px","append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[i("ownerComp",{ref:"ownerComp"})],1),e._v(" "),i("userDetailComp",{ref:"userDetailComp",attrs:{title:"detail"}}),e._v(" "),i("membershipComp",{ref:"membershipComp"})],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},YXVO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{modifyData:i("u5Cl").default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.findObj("modifyDataComp",this.$refs,function(){t.$refs.modifyDataComp.setData(e)})},dialogCloseFn:function(){this.$refs.modifyDataComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchPlatformTime,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("modifyData",{ref:"modifyDataComp",attrs:{dialog:!0},on:{hideDialog:function(t){return e.setVisible(!1)}}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},YZ0n:function(e,t,i){var s;window,s=function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){var s=i(2);"string"==typeof s&&(s=[[e.i,s,""]]);i(4)(s,{hmr:!0,transform:void 0,insertInto:void 0}),s.locals&&(e.exports=s.locals)},function(e,t,i){"use strict";var s=i(0);i.n(s).a},function(e,t,i){(e.exports=i(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(s),r=s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"});return[i].concat(r).concat([a]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(s[r]=!0)}for(a=0;a<e.length;a++){var n=e[a];"number"==typeof n[0]&&s[n[0]]||(i&&!n[2]?n[2]=i:i&&(n[2]="("+n[2]+") and ("+i+")"),t.push(n))}},t}},function(e,t,i){var s={},a=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),r=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var s=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}}(),n=null,o=0,l=[],c=i(5);function u(e,t){for(var i=0;i<e.length;i++){var a=e[i],r=s[a.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](a.parts[n]);for(;n<a.parts.length;n++)r.parts.push(v(a.parts[n],t))}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(v(a.parts[n],t));s[a.id]={id:a.id,refs:1,parts:o}}}}function m(e,t){for(var i=[],s={},a=0;a<e.length;a++){var r=e[a],n=t.base?r[0]+t.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};s[n]?s[n].parts.push(o):i.push(s[n]={id:n,parts:[o]})}return i}function d(e,t){var i=r(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=l[l.length-1];if("top"===e.insertAt)s?s.nextSibling?i.insertBefore(t,s.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),l.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=r(e.insertAt.before,i);i.insertBefore(t,a)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var s=i.nc;s&&(e.attrs.nonce=s)}return f(t,e.attrs),d(e,t),t}function f(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function v(e,t){var i,s,a,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var l=o++;i=n||(n=p(t)),s=b.bind(null,i,l,!1),a=b.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),d(e,t),t}(t),s=function(e,t,i){var s=i.css,a=i.sourceMap,r=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||r)&&(s=c(s)),a&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var n=new Blob([s],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(n),o&&URL.revokeObjectURL(o)}.bind(null,i,t),a=function(){h(i),i.href&&URL.revokeObjectURL(i.href)}):(i=p(t),s=function(e,t){var i=t.css,s=t.media;if(s&&e.setAttribute("media",s),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),a=function(){h(i)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=m(e,t);return u(i,t),function(e){for(var a=[],r=0;r<i.length;r++){var n=i[r];(o=s[n.id]).refs--,a.push(o)}for(e&&u(m(e,t),t),r=0;r<a.length;r++){var o;if(0===(o=a[r]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete s[o.id]}}}};var g=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function b(e,t,i,s){var a=i?"":s.css;if(e.styleSheet)e.styleSheet.cssText=g(t,a);else{var r=document.createTextNode(a),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,s=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[e.imgs?i("div",{staticClass:"cropper-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[i("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]):e._e(),e._v(" "),i("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[i("span",{staticClass:"cropper-view-box"},[i("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),i("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?i("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():i("span",[i("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),i("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),i("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),i("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),i("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),i("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};s._withStripped=!0;var a={};a.getData=function(e){return new Promise(function(t,i){var s={};(function(e){var t=null;return new Promise(function(i,s){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),i=t.length,s=new ArrayBuffer(i),a=new Uint8Array(s),r=0;r<i;r++)a[r]=t.charCodeAt(r);return s}(e.src),i(t);else if(/^blob\:/i.test(e.src)){var a=new FileReader;a.onload=function(e){t=e.target.result,i(t)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||function(e){a.readAsArrayBuffer(e)}(this.response)},i.send()}(e.src)}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=r.response,i(t),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else s("img error")})})(e).then(function(e){s.arrayBuffer=e,s.orientation=function(e){var t,i,s,a,r,n,o,l,c,u=new DataView(e),m=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(l=2;l<m;){if(255===u.getUint8(l)&&225===u.getUint8(l+1)){n=l;break}l++}if(n&&(i=n+10,"Exif"===function(e,t,i){var s,a="";for(s=t,i+=t;s<i;s++)a+=String.fromCharCode(e.getUint8(s));return a}(u,n+4,4)&&(((a=18761===(r=u.getUint16(i)))||19789===r)&&42===u.getUint16(i+2,a)&&(s=u.getUint32(i+4,a))>=8&&(o=i+s))),o)for(m=u.getUint16(o,a),c=0;c<m;c++)if(l=o+12*c+2,274===u.getUint16(l,a)){l+=8,t=u.getUint16(l,a);break}return t}(e),t(s)}).catch(function(e){i(e)})})};var r=a,n={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){return navigator.userAgent,!!window.ActiveXObject||"ActiveXObject"in window},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(e){for(var t=navigator.userAgent.split(" "),i="",s=new RegExp(e,"i"),a=0;a<t.length;a++)s.test(t[a])&&(i=t[a]);return i?i.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(e,t,i,s){var a=this;if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){var r=this.getVersion("version");r[0]>13&&r[1]>1&&(t=-1)}else{var n=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(n){var o=n[1];((o=o.split("_"))[0]>13||o[0]>=13&&o[1]>=4)&&(t=-1)}}var l=document.createElement("canvas"),c=l.getContext("2d");switch(c.save(),t){case 2:l.width=i,l.height=s,c.translate(i,0),c.scale(-1,1);break;case 3:l.width=i,l.height=s,c.translate(i/2,s/2),c.rotate(180*Math.PI/180),c.translate(-i/2,-s/2);break;case 4:l.width=i,l.height=s,c.translate(0,s),c.scale(1,-1);break;case 5:l.height=i,l.width=s,c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:l.width=s,l.height=i,c.translate(s/2,i/2),c.rotate(90*Math.PI/180),c.translate(-i/2,-s/2);break;case 7:l.height=i,l.width=s,c.rotate(.5*Math.PI),c.translate(i,-s),c.scale(-1,1);break;case 8:l.height=i,l.width=s,c.translate(s/2,i/2),c.rotate(-90*Math.PI/180),c.translate(-i/2,-s/2);break;default:l.width=i,l.height=s}c.drawImage(e,0,0,i,s),c.restore(),l.toBlob(function(e){var t=URL.createObjectURL(e);URL.revokeObjectURL(a.imgs),a.imgs=t},"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var i=t.width,s=t.height;r.getData(t).then(function(a){e.orientation=a.orientation||1;var r=Number(e.maxImgSize);!e.orientation&&i<r&s<r?e.imgs=e.img:(i>r&&(s=s/i*r,i=r),s>r&&(i=i/s*r,s=r),e.checkOrientationImage(t,e.orientation,i,s))})},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var i=new XMLHttpRequest;i.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},i.open("GET",this.img,!0),i.responseType="blob",i.send()}else t.src=this.img},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var i=this.scale,s=this.touches[0].clientX,a=this.touches[0].clientY,r=e.touches[0].clientX,n=e.touches[0].clientY,o=this.touches[1].clientX,l=this.touches[1].clientY,c=e.touches[1].clientX,u=e.touches[1].clientY,m=Math.sqrt(Math.pow(s-o,2)+Math.pow(a-l,2)),d=Math.sqrt(Math.pow(r-c,2)+Math.pow(n-u,2))-m,h=1,p=(h=(h=h/this.trueWidth>h/this.trueHeight?h/this.trueHeight:h/this.trueWidth)>.1?.1:h)*d;if(!this.touchNow){if(this.touchNow=!0,d>0?i+=Math.abs(p):d<0&&i>Math.abs(p)&&(i-=Math.abs(p)),this.touches=e.touches,setTimeout(function(){t.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var i,s,a="clientX"in e?e.clientX:e.touches[0].clientX,r="clientY"in e?e.clientY:e.touches[0].clientY;i=a-this.moveX,s=r-this.moveY,this.$nextTick(function(){if(t.centerBox){var e,a,r,n,o=t.getImgAxis(i,s,t.scale),l=t.getCropAxis(),c=t.trueHeight*t.scale,u=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(c-u)/2,a=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(u-c)/2,r=e-c+t.cropW,n=a-u+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,a=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,r=e-u+t.cropW,n=a-c+t.cropH}o.x1>=l.x1&&(i=e),o.y1>=l.y1&&(s=a),o.x2<=l.x2&&(i=r),o.y2<=l.y2&&(s=n)}t.x=i,t.y=s,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})})},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var i=this.scale,s=e.deltaY||e.wheelDelta;s=navigator.userAgent.indexOf("Firefox")>0?30*s:s,this.isIE&&(s=-s);var a=this.coe,r=(a=a/this.trueWidth>a/this.trueHeight?a/this.trueHeight:a/this.trueWidth)*s;r<0?i+=Math.abs(r):i>Math.abs(r)&&(i-=Math.abs(r));var n=r<0?"add":"reduce";if(n!==this.coeStatus&&(this.coeStatus=n,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(function(){t.scaling=!1,t.coe=t.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i},changeScale:function(e){var t=this.scale;e=e||1;var i=20;if((e*=i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var i="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,s="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(function(){var e=i-t.cropX,a=s-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var r=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];r+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=r,t.cropOffsertY=t.cropOffsertY}else a>0?(t.cropH=a+t.cropChangeY>t.h?t.h-t.cropChangeY:a,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(a)>t.h?t.cropChangeY:Math.abs(a),t.cropOffsertY=t.cropChangeY+a>0?t.cropChangeY+a:0)})},changeCropSize:function(e,t,i,s,a){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=i,this.changeCropTypeX=s,this.changeCropTypeY=a,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(e){var t=this;e.preventDefault();var i="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,s="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0,a=this.w,r=this.h,n=0,o=0;if(this.centerBox){var l=this.getImgAxis(),c=l.x2,u=l.y2;n=l.x1>0?l.x1:0,o=l.y1>0?l.y1:0,a>c&&(a=c),r>u&&(r=u)}this.$nextTick(function(){var e=i-t.cropX,l=s-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=a-t.cropChangeX-e<=a-n?t.cropOldW-e:t.cropOldW+t.cropChangeX-n,t.cropOffsertX=a-t.cropChangeX-e<=a-n?t.cropChangeX+e:n):(t.cropW=Math.abs(e)+t.cropChangeX<=a?Math.abs(e)-t.cropOldW:a-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=a?t.cropOldW+e:a-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=a-t.cropChangeX+Math.abs(e+t.cropOldW)<=a-n?Math.abs(e+t.cropOldW):t.cropChangeX-n,t.cropOffsertX=a-t.cropChangeX+Math.abs(e+t.cropOldW)<=a-n?t.cropChangeX-Math.abs(e+t.cropOldW):n))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-l>0?(t.cropH=r-t.cropChangeY-l<=r-o?t.cropOldH-l:t.cropOldH+t.cropChangeY-o,t.cropOffsertY=r-t.cropChangeY-l<=r-o?t.cropChangeY+l:o):(t.cropH=Math.abs(l)+t.cropChangeY<=r?Math.abs(l)-t.cropOldH:r-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+l>0?(t.cropH=t.cropOldH+l+t.cropOffsertY<=r?t.cropOldH+l:r-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=r-t.cropChangeY+Math.abs(l+t.cropOldH)<=r-o?Math.abs(l+t.cropOldH):t.cropChangeY-o,t.cropOffsertY=r-t.cropChangeY+Math.abs(l+t.cropOldH)<=r-o?t.cropChangeY-Math.abs(l+t.cropOldH):o))),t.canChangeX&&t.fixed){var c=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];c+t.cropOffsertY>r?(t.cropH=r-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=c}if(t.canChangeY&&t.fixed){var u=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];u+t.cropOffsertX>a?(t.cropW=a-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=u}})},checkCropLimitSize:function(){this.cropW,this.cropH;var e=this.limitMinSize,t=new Array;return t=Array.isArray[e]?e:[e,e],[parseFloat(t[0]),parseFloat(t[1])]},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,i,s="clientX"in e?e.clientX:e.touches[0].clientX,a="clientY"in e?e.clientY:e.touches[0].clientY;t=s-this.cropOffsertX,i=a-this.cropOffsertY,this.cropX=t,this.cropY=i,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var i=this,s=0,a=0;e&&(e.preventDefault(),s="clientX"in e?e.clientX:e.touches[0].clientX,a="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick(function(){var e,r,n=s-i.cropX,o=a-i.cropY;if(t&&(n=i.cropOffsertX,o=i.cropOffsertY),e=n<=0?0:n+i.cropW>i.w?i.w-i.cropW:n,r=o<=0?0:o+i.cropH>i.h?i.h-i.cropH:o,i.centerBox){var l=i.getImgAxis();e<=l.x1&&(e=l.x1),e+i.cropW>l.x2&&(e=l.x2-i.cropW),r<=l.y1&&(r=l.y1),r+i.cropH>l.y2&&(r=l.y2-i.cropH)}i.cropOffsertX=e,i.cropOffsertY=r,i.$emit("cropMoving",{moving:!0,axis:i.getCropAxis()}),i.$emit("crop-moving",{moving:!0,axis:i.getCropAxis()})})},getImgAxis:function(e,t,i){e=e||this.x,t=t||this.y,i=i||this.scale;var s={x1:0,x2:0,y1:0,y2:0},a=this.trueWidth*i,r=this.trueHeight*i;switch(this.rotate){case 0:s.x1=e+this.trueWidth*(1-i)/2,s.x2=s.x1+this.trueWidth*i,s.y1=t+this.trueHeight*(1-i)/2,s.y2=s.y1+this.trueHeight*i;break;case 1:case-1:case 3:case-3:s.x1=e+this.trueWidth*(1-i)/2+(a-r)/2,s.x2=s.x1+this.trueHeight*i,s.y1=t+this.trueHeight*(1-i)/2+(r-a)/2,s.y2=s.y1+this.trueWidth*i;break;default:s.x1=e+this.trueWidth*(1-i)/2,s.x2=s.x1+this.trueWidth*i,s.y1=t+this.trueHeight*(1-i)/2,s.y2=s.y1+this.trueHeight*i}return s},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,i=document.createElement("canvas"),s=new Image,a=this.rotate,r=this.trueWidth,n=this.trueHeight,o=this.cropOffsertX,l=this.cropOffsertY;function c(e,t){i.width=Math.round(e),i.height=Math.round(t)}s.onload=function(){if(0!==t.cropW){var u=i.getContext("2d"),m=1;t.high&!t.full&&(m=window.devicePixelRatio),1!==t.enlarge&!t.full&&(m=Math.abs(Number(t.enlarge)));var d=t.cropW*m,h=t.cropH*m,p=r*t.scale*m,f=n*t.scale*m,v=(t.x-o+t.trueWidth*(1-t.scale)/2)*m,g=(t.y-l+t.trueHeight*(1-t.scale)/2)*m;switch(c(d,h),u.save(),a){case 0:t.full?(c(d/t.scale,h/t.scale),u.drawImage(s,v/t.scale,g/t.scale,p/t.scale,f/t.scale)):u.drawImage(s,v,g,p,f);break;case 1:case-3:t.full?(c(d/t.scale,h/t.scale),v=v/t.scale+(p/t.scale-f/t.scale)/2,g=g/t.scale+(f/t.scale-p/t.scale)/2,u.rotate(90*a*Math.PI/180),u.drawImage(s,g,-v-f/t.scale,p/t.scale,f/t.scale)):(v+=(p-f)/2,g+=(f-p)/2,u.rotate(90*a*Math.PI/180),u.drawImage(s,g,-v-f,p,f));break;case 2:case-2:t.full?(c(d/t.scale,h/t.scale),u.rotate(90*a*Math.PI/180),v/=t.scale,g/=t.scale,u.drawImage(s,-v-p/t.scale,-g-f/t.scale,p/t.scale,f/t.scale)):(u.rotate(90*a*Math.PI/180),u.drawImage(s,-v-p,-g-f,p,f));break;case 3:case-1:t.full?(c(d/t.scale,h/t.scale),v=v/t.scale+(p/t.scale-f/t.scale)/2,g=g/t.scale+(f/t.scale-p/t.scale)/2,u.rotate(90*a*Math.PI/180),u.drawImage(s,-g-p/t.scale,v,p/t.scale,f/t.scale)):(v+=(p-f)/2,g+=(f-p)/2,u.rotate(90*a*Math.PI/180),u.drawImage(s,-g-p,v,p,f));break;default:t.full?(c(d/t.scale,h/t.scale),u.drawImage(s,v/t.scale,g/t.scale,p/t.scale,f/t.scale)):u.drawImage(s,v,g,p,f)}u.restore()}else{var b=r*t.scale,_=n*t.scale,w=i.getContext("2d");switch(w.save(),a){case 0:c(b,_),w.drawImage(s,0,0,b,_);break;case 1:case-3:c(_,b),w.rotate(90*a*Math.PI/180),w.drawImage(s,0,-_,b,_);break;case 2:case-2:c(b,_),w.rotate(90*a*Math.PI/180),w.drawImage(s,-b,-_,b,_);break;case 3:case-1:c(_,b),w.rotate(90*a*Math.PI/180),w.drawImage(s,-b,0,b,_);break;default:c(b,_),w.drawImage(s,0,0,b,_)}w.restore()}e(i)},"data"!==this.img.substr(0,4)&&(s.crossOrigin="Anonymous"),s.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked(function(i){e(i.toDataURL("image/"+t.outputType,t.outputSize))})},getCropBlob:function(e){var t=this;this.getCropChecked(function(i){i.toBlob(function(t){return e(t)},"image/"+t.outputType,t.outputSize)})},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout(function(){e.isCanShow=!0},16);var t=this.cropW,i=this.cropH,s=this.scale,a={};a.div={width:"".concat(t,"px"),height:"".concat(i,"px")};var r=(this.x-this.cropOffsertX)/s,n=(this.y-this.cropOffsertY)/s;a.w=t,a.h=i,a.url=this.imgs,a.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(s,")translate3d(").concat(r,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},a.html='\n      <div class="show-preview" style="width: '.concat(a.w,"px; height: ").concat(a.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(i,'px">\n          <img src=').concat(a.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(s,")translate3d(").concat(r,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",a),this.$emit("real-time",a)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick(function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout(function(){e.showPreview()},20)})},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),i=this.mode.split(" ");switch(i[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var s=i[0];if(-1!==s.search("px")){s=s.replace("px","");var a=parseFloat(s)/this.trueWidth,r=1,n=i[1];-1!==n.search("px")&&(n=n.replace("px",""),r=(t=parseFloat(n))/this.trueHeight),e=Math.min(a,r)}if(-1!==s.search("%")&&(s=s.replace("%",""),e=parseFloat(s)/100*this.w/this.trueWidth),2===i.length&&"auto"===s){var o=i[1];-1!==o.search("px")&&(o=o.replace("px",""),e=(t=parseFloat(o))/this.trueHeight),-1!==o.search("%")&&(o=o.replace("%",""),e=(t=parseFloat(o)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var i=this.w,s=this.h;if(this.centerBox){var a=Math.abs(this.rotate)%2>0,r=(a?this.trueHeight:this.trueWidth)*this.scale,n=(a?this.trueWidth:this.trueHeight)*this.scale;i=r<i?r:i,s=n<s?n:s}var o=e||parseFloat(this.autoCropWidth),l=t||parseFloat(this.autoCropHeight);0!==o&&0!==l||(o=.8*i,l=.8*s),o=o>i?i:o,l=l>s?s:l,this.fixed&&(l=o/this.fixedNumber[0]*this.fixedNumber[1]),l>this.h&&(o=(l=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(o,l)}},changeCrop:function(e,t){var i=this;if(this.centerBox){var s=this.getImgAxis();e>s.x2-s.x1&&(t=(e=s.x2-s.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>s.y2-s.y1&&(e=(t=s.y2-s.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick(function(){i.cropOffsertX=(i.w-i.cropW)/2,i.cropOffsertY=(i.h-i.cropH)/2,i.centerBox&&i.moveCrop(null,!0)})},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(function(){e.checkedImg()})},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,i){e=e||this.x,t=t||this.y,i=i||this.scale;var s=!0;if(this.centerBox){var a=this.getImgAxis(e,t,i),r=this.getCropAxis();a.x1>=r.x1&&(s=!1),a.x2<=r.x2&&(s=!1),a.y1>=r.y1&&(s=!1),a.y2<=r.y2&&(s=!1)}return s}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,s){for(var a=atob(this.toDataURL(i,s).split(",")[1]),r=a.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=a.charCodeAt(o);t(new Blob([n],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}};i(1);var o=function(e,t,i,s,a,r,n,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=[],c._compiled=!0),c._scopeId="data-v-"+r,l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:c}}(n,s,0,0,0,"6dae58fd");o.options.__file="src/vue-cropper.vue";var l=o.exports;i.d(t,"VueCropper",function(){return l});var c=function(e){e.component("VueCropper",l)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),t.default={version:"0.5.6",install:c,VueCropper:l,vueCropper:l}}])},e.exports=s()},YroZ:function(e,t){},Z8T2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("NC6I"),a=i.n(s),r=i("gyMJ"),n=i("iKHV"),o=i("CGzg"),l=i("Rpa2"),c=i("n5+R"),u=i("vgQg"),m={props:["isDialog"],data:function(){return{userFm:{type:"2",timezone:-(new Date).getTimezoneOffset(),contact:"",name:"",account:"",phone:"",telephone:"",email:"",address:"",webpage:""},timezoneArr:[],btnloading:!1,existed:!1,successFlag:!1,charPwd:["a","b","c","d","e","f","g","h","i","j","k","m","n","p","q","r","s","t","u","x","y","z","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","X","Y","Z","2","3","4","5","6","7","8","9"]}},components:{passwordStrength:o.default,userTreeSelect:l.default,addSuccess:c.default},methods:{init:function(e,t){this.userFm.pid=e,t&&this.$refs.userTreeSelectComp.setCustomer(t)},change:function(e){this.$forceUpdate()},selected:function(e){this.userFm.pid=e.customerid},setCustomerid:function(e,t){this.userFm.pid=e;var i=this;setTimeout(function(){t&&i.$refs.userTreeSelectComp.setCustomer(t)},0)},onSubmit:function(){var e=this;if(this.checkParams()){this.btnloading=!0;var t=this.deepCopy(this.userFm);t.passwd=a()(this.$trim(t.passwd)),t.account=this.$trim(t.account),t.name||(this.userFm.name=this.userFm.account,t.name=this.userFm.name),Object(r._89)(t).then(function(t){e.btnloading=!1,e.$emit("addSuccess",{customerid:t.customerid,customername:e.userFm.name,account:e.userFm.account}),e.showSuccess(t.customerid),e.fmReset()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"添加用户",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){var e=this.userFm.pid,t=this.$trim(this.userFm.account),i=this.$trim(this.userFm.name),s=this.$trim(this.userFm.contact),a=(this.$trim(this.userFm.phone),this.$trim(this.userFm.telephone),this.$trim(this.userFm.email)),r=this.$trim(this.userFm.address),o=this.$trim(this.userFm.passwd),l=this.$trim(this.userFm.repwd);return""!=e&&/\d{1,}/.test(e)?t?Object(n.d)(t)?o?Object(n.i)(o)?Object(n.j)(o)?l?o!=l?(this.$message.error(lg.matchPwdError),!1):i.length>=n.a?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.customerName).replace("{{num}}",n.a)),!1):s&&s.length>64?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.contact).replace("{{num}}",64)),!1):a&&!Object(n.k)(a)?(this.$message.error(lg.emailFormatError),!1):!(r&&r.length>150)||(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.address).replace("{{num}}",150)),!1):(this.$message.error(lg.inputConfirmPwd),!1):(this.$message.error(lg.notSimplePwd),!1):(this.$message.error(lg.pwdLengthError),!1):(this.$message.error(lg.inputPwd),!1):(this.$message.error(lg.accountFormatError),!1):(this.$message.error(lg.accountNull),!1):(this.$message.error(lg.selectSuperCustomerNull),!1)},showSuccess:function(e){this.successFlag=!0;var t=this.deepCopy(this.userFm);t.id=e;var i=this;setTimeout(function(){i.$refs.successComp.setCustomerInfo(t)},300)},continueAdd:function(){this.successFlag=!1},randomPwd:function(){for(var e="",t=this.charPwd.length,i=0;i<8;i++){var s=Math.floor(Math.random()*t);e+=this.charPwd[s]}this.$set(this.userFm,"passwd",e),this.$set(this.userFm,"repwd",e)},fmReset:function(){this.$refs.addFm.resetFields(),this.existed=!1},cancelFn:function(){this.$emit("closeDialog")},clearFn:function(){this.fmReset(),this.successFlag=!1},checkAcountExsit:function(){var e=this;if(!this.userFm.account)return this.existed=!1;Object(r.e)({account:this.userFm.account}).then(function(t){e.existed=t.record}).catch(function(e){})}},mounted:function(){var e=this;this.$nextTick(function(){e.timezoneArr=u.d})}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box dialog-adduser user-info"},[i("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.successFlag,expression:"!successFlag"}],ref:"addFm",staticClass:"user-add half-from",attrs:{model:e.userFm,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-row",[i("el-form-item",{staticClass:"online",attrs:{label:e.lg.superCustomer,required:""}},[i("userTreeSelect",{ref:"userTreeSelectComp",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.loginAccount,required:"",prop:"account"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","account")},change:e.checkAcountExsit,input:function(t){return e.change(t)}},model:{value:e.userFm.account,callback:function(t){e.$set(e.userFm,"account",t)},expression:"userFm.account"}}),e._v(" "),e.existed?i("span",{staticClass:"el-form-item__error"},[e._v(e._s(e.lg[20002]))]):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.customerName,prop:"name"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","name")},input:function(t){return e.change(t)}},model:{value:e.userFm.name,callback:function(t){e.$set(e.userFm,"name",t)},expression:"userFm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.pass,required:"",prop:"passwd"}},[i("el-input",{attrs:{"auto-complete":"new-password","show-password":""},on:{blur:function(t){return e.$trimFn("userFm","passwd")},input:function(t){return e.change(t)}},model:{value:e.userFm.passwd,callback:function(t){e.$set(e.userFm,"passwd",t)},expression:"userFm.passwd"}}),e._v(" "),i("span",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.randomPwd,align:"centerBottom"},expression:"{txt:lg.randomPwd,align:'centerBottom'}"}],staticClass:"icon-randompwd el-icon-key",on:{click:e.randomPwd}}),e._v(" "),i("passwordStrength",{attrs:{pwd:e.userFm.passwd}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.rePwd,required:"",prop:"repwd"}},[i("el-input",{attrs:{"auto-complete":"new-password","show-password":""},on:{blur:function(t){return e.$trimFn("userFm","repwd")},input:function(t){return e.change(t)}},model:{value:e.userFm.repwd,callback:function(t){e.$set(e.userFm,"repwd",t)},expression:"userFm.repwd"}})],1),e._v(" "),i("el-form-item",{staticClass:"online",attrs:{label:e.lg.roles,required:"",prop:"type"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[i("i",{staticClass:"tree-icon ico-dealer"}),e._v(e._s(e.lg.gradeDealer))]),e._v(" "),i("el-radio",{attrs:{label:"3"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[i("i",{staticClass:"tree-icon ico-uservirtual"}),e._v(e._s(e.lg.gradeVirtual))]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[i("i",{staticClass:"tree-icon ico-user"}),e._v(e._s(e.lg.gradeUser)+"\n        ")]),e._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"2"==e.userFm.type,expression:"userFm.type == '2'"}],attrs:{"true-label":"1"},model:{value:e.userFm.isread,callback:function(t){e.$set(e.userFm,"isread",t)},expression:"userFm.isread"}},[i("i",{staticClass:"tree-icon ico-userReadonly"}),e._v(e._s(e.lg.monitorOnly)+"\n          "),i("el-tooltip",{attrs:{content:e.lg.readonlyTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.timeZone,required:"",prop:"timezone"}},[i("el-select",{model:{value:e.userFm.timezone,callback:function(t){e.$set(e.userFm,"timezone",t)},expression:"userFm.timezone"}},e._l(e.timezoneArr,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("div",{staticClass:"cb"}),e._v(" "),i("el-form-item",{attrs:{label:e.lg.contact,prop:"contact"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","contact")}},model:{value:e.userFm.contact,callback:function(t){e.$set(e.userFm,"contact",t)},expression:"userFm.contact"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.mobile,prop:"phone"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","phone")}},model:{value:e.userFm.phone,callback:function(t){e.$set(e.userFm,"phone",t)},expression:"userFm.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.tel,prop:"telephone"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","telephone")}},model:{value:e.userFm.telephone,callback:function(t){e.$set(e.userFm,"telephone",t)},expression:"userFm.telephone"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"email"}},[i("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.lg.email)+"\n          "),i("el-tooltip",{attrs:{content:e.lg.findPassEmailTips,placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),e._v(" "),i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","email")}},model:{value:e.userFm.email,callback:function(t){e.$set(e.userFm,"email",t)},expression:"userFm.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.address,prop:"address"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","address")}},model:{value:e.userFm.address,callback:function(t){e.$set(e.userFm,"address",t)},expression:"userFm.address"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.webpage,prop:"website"}},[i("el-input",{attrs:{clearable:"",maxlength:"250"},on:{blur:function(t){return e.$trimFn("userFm","webpage")}},model:{value:e.userFm.webpage,callback:function(t){e.$set(e.userFm,"webpage",t)},expression:"userFm.webpage"}})],1)],1),e._v(" "),i("el-form-item",{staticClass:"form-btn-box online"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.isDialog?i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),e.successFlag?i("addSuccess",{ref:"successComp",on:{cbContinueAdd:e.continueAdd}}):e._e()],1)},staticRenderFns:[]};var h=i("VU/8")(m,d,!1,function(e){i("aD3g")},null,null);t.default=h.exports},ZPej:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"quick-box"})},staticRenderFns:[]};var a=i("VU/8")({data:function(){return{}}},s,!1,function(e){i("D/H3")},null,null);t.default=a.exports},ZVCO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n={props:["hideSevice","showall"],data:function(){return{type:"",defaulttype:"",showBox:!1,loading:!1,showSupport:!1,serverInfo:"",ownProduct:[],otherProduct:[],searchTxt:""}},computed:{filterOwnProduct:function(){var e=this,t=[];return""==this.$trim(this.searchTxt)?this.ownProduct:(this.ownProduct.forEach(function(i,s){-1!=i.devicetype.toLocaleUpperCase().indexOf(e.searchTxt.toLocaleUpperCase())&&t.push(i)}),t)},filterOtherProduct:function(){var e=this,t=[];return""==this.$trim(this.searchTxt)?this.otherProduct:(this.otherProduct.forEach(function(i,s){-1!=i.devicetype.toLocaleUpperCase().indexOf(e.searchTxt.toLocaleUpperCase())&&t.push(i)}),t)}},methods:{showModel:function(){},hideModel:function(){},selectedFn:function(e,t){var i=this[e][t];this.$emit("selected",i),this.type=i.devicetype,this.serverInfo=i.serverinfo,this.showBox=!1},getModelData:function(){var e=this,t=this.showall?{showall:1}:{};this.loading=!0,Object(r._9)(a()({},t)).then(function(t){e.ownProduct=t.ourtype,e.otherProduct=t.othertype,e.loading=!1}).catch(function(t){e.loading=!1})},getSupportedFn:function(){var e=this;Object(r._65)({},{errorHide:!1}).then(function(t){t.showsupporteddevices&&(t.notshowsupporteddevicelist.includes(location.host)&&(e.showSupport=!1),e.showSupport=!0)}).catch(function(e){})},setDefault:function(e,t){this.defaulttype=e},clearFn:function(){this.type="",this.defaulttype=""}},mounted:function(){var e=this;this.$nextTick(function(){e.getModelData(),e.getSupportedFn()})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"model-select-comp"},[i("div",{staticClass:"model-cur-box"},[i("el-popover",{attrs:{placement:"bottom","visible-arrow":!1,"popper-class":"model-select-popover",width:"540",trigger:"click"},model:{value:e.showBox,callback:function(t){e.showBox=t},expression:"showBox"}},[i("div",{staticClass:"model-content"},[i("el-input",{ref:"searchInput",attrs:{placeholder:e.lg.targetType,"prefix-icon":"search-icon base-icon",clearable:!0},model:{value:e.searchTxt,callback:function(t){e.searchTxt=t},expression:"searchTxt"}}),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"model-list"},[i("el-scrollbar",[i("el-row",{staticStyle:{"border-bottom":"1px dashed #ccc"}},e._l(e.filterOwnProduct,function(t,s){return i("el-col",{key:t.devicetype,staticClass:"model-item",attrs:{span:4}},[i("el-button",{staticClass:"model-select-option",attrs:{type:"text"},on:{click:function(t){return e.selectedFn("filterOwnProduct",s)}}},[e._v(e._s(t.devicetype))])],1)}),1),e._v(" "),i("el-row",e._l(e.filterOtherProduct,function(t,s){return i("el-col",{key:t.devicetype,staticClass:"model-item",attrs:{span:4}},[i("el-button",{staticClass:"model-select-option",attrs:{type:"text"},on:{click:function(t){return e.selectedFn("filterOtherProduct",s)}}},[e._v(e._s(t.devicetype))])],1)}),1)],1)],1)],1),e._v(" "),i("el-input",{staticClass:"select-input",staticStyle:{width:"240px"},attrs:{slot:"reference",placeholder:e.defaulttype?e.defaulttype:e.lg.select,readonly:"","suffix-icon":e.showBox?"el-icon-arrow-up":"el-icon-arrow-down"},nativeOn:{click:function(t){return e.showModel.apply(null,arguments)}},slot:"reference",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),e.hideSevice?e._e():[e.showSupport?i("a",{staticClass:"ml10 link-btn ico-link",attrs:{href:"/devicelist.html",target:"_blank"}},[e._v(e._s(e.lg.supportedDevices)+" »")]):e._e(),e._v(" "),i("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.serverInfo,expression:"serverInfo"}],staticClass:"server-info mt5 no-bg",attrs:{type:"info",closable:!1,"show-icon":"",title:e.lg.serverInfo+": "+e.serverInfo}})]],2)])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("NYTC")},null,null);t.default=l.exports},Zf8b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{isloading:!1,loading:!1,deviceid:"",data:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:""},ioList:[]}},methods:{init:function(e){this.deviceid=e,0==this.ioList.length&&this.getIoOptionFn(),this.getIosetData()},submitIoset:function(){var e=this,t=(this.data.input1||"0")+(this.data.input2||"0")+(this.data.input3||"0")+(this.data.input4||"0")+(this.data.input5||"0")+(this.data.input6||"0")+(this.data.input7||"0")+(this.data.input8||"0");this.isloading=!0,Object(s._159)({deviceid:this.deviceid,input:t}).then(function(t){e.$message.success(lg.success),e.isloading=!1,e.$emit("hideDialog")}).catch(function(t){e.isloading=!1}),this.countEvent({action:"IO设置",opt_label:"点击",val:"Dealer2"})},getIosetData:function(){var e=this;this.loading=!0,Object(s._50)({deviceid:this.deviceid}).then(function(t){e.loading=!1;for(var i=0,s=t.input.length;i<s;i++)e.data["input"+(i+1)]="0"==t.input.substr(i,1)?"":t.input.substr(i,1)}).catch(function(t){e.loading=!1})},getIoOptionFn:function(){var e=this;Object(s._51)().then(function(t){for(var i=[{label:"",value:""}],s=0,a=t.record.length;s<a;s++)i.push({label:lg[t.record[s].i18nkey],value:t.record[s].functioncode});e.ioList=i}).catch(function(e){})},dialogCloseFn:function(){this.$refs.ioFrom.resetFields()}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"io-from"},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.ioTips,closable:!1,"show-icon":"",type:"info"}}),e._v(" "),i("el-form",{ref:"ioFrom",staticClass:"ioFrom mt15 clearfix",attrs:{"label-position":"top",model:e.data},nativeOn:{submit:function(t){return t.preventDefault(),e.submitIoset.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.input1+":"}},[i("el-select",{model:{value:e.data.input1,callback:function(t){e.$set(e.data,"input1",t)},expression:"data.input1"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input2+":"}},[i("el-select",{model:{value:e.data.input2,callback:function(t){e.$set(e.data,"input2",t)},expression:"data.input2"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input3+":"}},[i("el-select",{model:{value:e.data.input3,callback:function(t){e.$set(e.data,"input3",t)},expression:"data.input3"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input4+":"}},[i("el-select",{model:{value:e.data.input4,callback:function(t){e.$set(e.data,"input4",t)},expression:"data.input4"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input5+":"}},[i("el-select",{model:{value:e.data.input5,callback:function(t){e.$set(e.data,"input5",t)},expression:"data.input5"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input6+":"}},[i("el-select",{model:{value:e.data.input6,callback:function(t){e.$set(e.data,"input6",t)},expression:"data.input6"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input7+":"}},[i("el-select",{model:{value:e.data.input7,callback:function(t){e.$set(e.data,"input7",t)},expression:"data.input7"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.input8+":"}},[i("el-select",{model:{value:e.data.input8,callback:function(t){e.$set(e.data,"input8",t)},expression:"data.input8"}},e._l(e.ioList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"submit-box tr pt10",staticStyle:{width:"100%"}},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("yip4")},null,null);t.default=n.exports},ZkYP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("gyMJ");var s={data:function(){return{visible:!1,loading:!1,fileList:[],batch:"",devicetype:"",remark:"",params:{batch:"",devicetype:"",remark:""}}},components:{modelSelect:i("ZVCO").default},methods:{setVisible:function(e){this.visible=e},showAdd:function(){this.checkParams()&&this.$refs.upload.submit()},handleUploadSuccess:function(e,t,i){0==e.errorcode?(this.$message({message:"【提交成功】<br>"+(e.msg||""),dangerouslyUseHTMLString:!0,type:"success"}),this.$refs.upload.clearFiles(),this.cancel(),this.$emit("reloadList"),this.clearFn()):this.$message({message:"【提交失败】<br>"+(e.errormsg||""),dangerouslyUseHTMLString:!0,type:"error"})},handleUploadError:function(e,t,i){this.$message.error("上传失败")},handleChange:function(e,t){t.length>0&&(this.fileList=[t[t.length-1]])},modelSelected:function(e){this.devicetype=e.devicetype},checkParams:function(){var e=this.$trim(this.batch),t=this.$trim(this.devicetype),i=this.$trim(this.remark);return e?t&&t?(this.params.batch=e,this.params.devicetype=t,this.params.remark=i,!0):(this.$message.error(lg.selectTargetType),!1):(this.$message.error("请输入批次"),!1)},cancel:function(){this.clearFn(),this.setVisible(!1)},fmReset:function(){this.$refs.addFactory.resetFields(),this.$refs.modelComp.clearFn()},clearFn:function(){this.fmReset(),this.batch="",this.devicetype="",this.remark=""}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"factory-dialog",attrs:{title:"添加",visible:e.visible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"addFactory",attrs:{"show-message":!1,"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.showAdd.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:"批次",required:""}},[i("el-input",{staticStyle:{width:"240px"},attrs:{type:"text",clearable:""},on:{blur:function(t){return e.$trimFn("","batch")}},model:{value:e.batch,callback:function(t){e.batch=t},expression:"batch"}}),e._v(" "),i("el-alert",{staticClass:"inline no-bg",attrs:{closable:!1,"show-icon":"",type:"info",title:"比如VT05S20191225"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType,required:""}},[i("modelSelect",{ref:"modelComp",attrs:{hideSevice:!0},on:{selected:e.modelSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:"IMEI文件",required:""}},[i("el-upload",{ref:"upload",staticClass:"factory-upload-btn",attrs:{multiple:!1,name:"files",data:e.params,action:"/api2/factorytest/batch/add","file-list":e.fileList,"on-success":e.handleUploadSuccess,"on-change":e.handleChange,"on-error":e.handleUploadError,"auto-upload":!1,accept:".xlsx,.xls"}},[i("el-button",{staticClass:"blue-btn upload-btn",attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("一批最多3000个IMEI。"),i("a",{staticClass:"link-btn",attrs:{href:"/protrack/导入出厂测试模板.xlsx"}},[e._v("下载导入模板")])])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("","remark")}},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary","native-type":"submit"}},[e._v("提交")]),e._v(" "),i("el-button",{on:{click:e.clearFn}},[e._v("重设")])],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("yqyR")},null,null);t.default=r.exports},Zlha:function(e,t,i){"use strict";var s=i("KvKp");t.a={data:function(){return{$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{initListener:function(){var e=this;this.$_resizeHandler=Object(s.a)(function(){e.resize()},100),window.addEventListener("resize",this.$_resizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null},resize:function(){var e=this.chart;e&&e.resize()}}}},a2yd:function(e,t){},aANz:function(e,t){},aD3g:function(e,t){},aJlA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r=i("A6oP"),n={props:["deviceid"],data:function(){return{type:1,formData:{},labelPosition:"left",length1:"",width:"",height:"",length2:"",diameter:"",volume:"",hasfuel:"",capacityUnit:r.a,unit:{},isloading:!1}},methods:{getDetail:function(){var e=this;this.deviceid&&Object(s._44)({deviceid:this.deviceid}).then(function(t){e.setVal(t.record)}).catch(function(e){})},setVal:function(e){this.reset(),e.fueltankshape?(this.length1="1"==e.fueltankshape?e.length:"",this.width=void 0!==e.width?e.width:"",this.height=void 0!==e.height?e.height:"",this.length2="2"==e.fueltankshape?e.length:"",this.diameter=e.diameter?e.diameter:"",this.type=parseInt(e.fueltankshape),this.volume=e.volume?Object(a.c)(e.volume,"capacity",this.unit.capacity):0,this.hasfuel=e.hasfuel):(this.formData={},this.type=1)},updata:function(){var e=this;if(this.checkParams()){this.isloading=!0;var t={deviceid:this.deviceid,fueltankshape:this.type};"1"==this.type?(t.length=this.length1,t.width=this.width,t.height=this.height):(t.length=this.length2,t.diameter=this.diameter),t.volume=this.volume?Object(a.o)(this.volume,"capacity",this.unit.capacity):0,Object(s._165)(t).then(function(t){e.hideDialog(),e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1}).catch(function(t){e.isloading=!1}),this.countEvent({action:"油箱体积设置",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){if("1"==this.type){if(""===this.length1)return this.$message.error(lg.lengthNotNull),!1;if(""===this.width)return this.$message.error(lg.widthNotNull),!1;if(""===this.height)return this.$message.error(lg.heightNotNull),!1;if(this.length1<=0||this.width<=0||this.height<=0||!/^\d{1,}$/.test(this.length1)||!/^\d{1,}$/.test(this.width)||!/^\d{1,}$/.test(this.height))return this.$message.error(lg.dataFormatError),!1}else{if(""===this.length2)return this.$message.error(lg.lengthNotNull),!1;if(""===this.diameter)return this.$message.error(lg.diameterNotNull),!1;if(this.length2<=0||this.diameter<=0||!/^\d{1,}$/.test(this.length2)||!/^\d{1,}$/.test(this.diameter))return this.$message.error(lg.dataFormatError),!1}return!0},setDeviceId:function(e){this.deviceid=e},reset:function(){this.type=1,this.formData={},this.length1="",this.width="",this.height="",this.length2="",this.diameter="",this.volume="",this.hasfuel=""},hideDialog:function(){this.$emit("setVisible",!1)}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.unit=t}).catch(function(e){})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tank-info"},[i("el-form",{attrs:{"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.updata.apply(null,arguments)}}},[i("div",{staticStyle:{"min-height":"280px"}},[i("el-form-item",{attrs:{label:e.lg.fuelTankShape,"label-position":"right"}},[i("div",{staticStyle:{float:"left"}},[i("el-radio",{attrs:{label:1},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v(e._s(e.lg.cube))]),e._v(" "),i("el-radio",{attrs:{label:2},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v(e._s(e.lg.horizontal))]),e._v(" "),i("br"),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.type,expression:"type==1"}]},[i("div",{staticClass:"mt10"},[i("el-input",{staticStyle:{width:"300px"},on:{blur:function(t){return e.$trimFn("","length1")}},model:{value:e.length1,callback:function(t){e.length1=t},expression:"length1"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.length))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("div",{staticClass:"mt10"},[i("el-input",{staticStyle:{width:"300px"},on:{blur:function(t){return e.$trimFn("","width")}},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.width))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("div",{staticClass:"mt10"},[i("el-input",{staticStyle:{width:"300px"},on:{blur:function(t){return e.$trimFn("","height")}},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.height))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"type==2"}],staticClass:"mt10"},[i("div",{staticClass:"mt10"},[i("el-input",{staticStyle:{width:"300px"},on:{blur:function(t){return e.$trimFn("","length2")}},model:{value:e.length2,callback:function(t){e.length2=t},expression:"length2"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.length))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("div",{staticClass:"mt10"},[i("el-input",{staticStyle:{width:"300px"},on:{blur:function(t){return e.$trimFn("","diameter")}},model:{value:e.diameter,callback:function(t){e.diameter=t},expression:"diameter"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.diameter))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1)])],1)]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.oilVolume}},[i("el-input-number",{staticStyle:{width:"300px"},attrs:{"controls-position":"right",min:0,step:1},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.capacityUnit[e.unit.capacity]))])],1)],1),e._v(" "),i("div",{staticClass:"submit-box tr"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("5f/S")},null,null);t.default=l.exports},aPDQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{detailObj:{},isloading:!1}},components:{userDetailComp:function(){return i.e(1).then(i.bind(null,"5VNz")).catch()},searchComp:function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"Ghwc")).catch()},sendMessageComp:function(){return i.e(82).then(i.bind(null,"02iu")).catch()}},methods:{updateStatus:function(e){var t=this;this.isloading=!0,Object(s._25)({feedbackid:this.detailObj.feedbackid}).then(function(e){t.isloading=!1,t.$message({message:lg.success,type:"success"}),t.detailObj.handlestatus=1}).catch(function(){t.isloading=!1})},showSearch:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(e)},showSendMessage:function(e){this.$refs.sendMessageComp.setVisible(!0),this.$refs.sendMessageComp.setData({id:e.senderid,name:e.sendername,account:e.senderaccount})},updataDetail:function(){},setData:function(e){this.detailObj=e}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-detail-dialog"},[i("div",{staticClass:"message-from-box"},[e.detailObj.sendername&&e.detailObj.senderaccount?i("p",[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.from)+": ")]),e._v(" "),e.detailObj.senderid?[i("a",{attrs:{href:"javascript://"},on:{click:function(t){return e.showSearch(e.detailObj.senderaccount)}}},[e._v(e._s(e.detailObj.sendername)+" ("+e._s(e.detailObj.senderaccount)+")")])]:i("span",[e._v(e._s(e.detailObj.sendername)+" ("+e._s(e.detailObj.senderaccount)+")")])],2):i("p",[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.comefrom)+": ")]),e._v("\n      "+e._s(e.detailObj.sender)+"\n    ")]),e._v(" "),i("div",{staticClass:"cb"},[e.detailObj.email?i("p",{staticClass:"fl",staticStyle:{width:"46%"}},[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.email)+": ")]),e._v(e._s(e.detailObj.email))]):e._e(),e._v(" "),e.detailObj.phone?i("p",{staticClass:"fl",staticStyle:{width:"46%"}},[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.mobile)+": ")]),e._v(e._s(e.detailObj.phone))]):e._e()]),e._v(" "),i("p",{staticClass:"cb"},[i("label",{staticClass:"message-label"},[e._v(e._s(e.lg.date)+": ")]),e._v(e._s(this.utcToLocal(e.detailObj.createtime)))])]),e._v(" "),i("div",{staticClass:"message-content"},[i("p",{staticStyle:{"min-height":"150px"}},[i("copy",{attrs:{txt:e.detailObj.content}},[e._v(e._s(e.detailObj.content))])],1),e._v(" "),void 0!=e.detailObj.handlestatus?i("p",[1==e.detailObj.handlestatus?i("el-button",{attrs:{type:"success",icon:"el-icon-check",disabled:""}},[e._v(e._s(e.lg.statusProcessed))]):i("el-button",{attrs:{type:"primary",loading:e.isloading,title:e.lg.statusPendingTips},on:{click:function(t){return e.updateStatus(1)}}},[e._v(e._s(e.lg.statusPending))]),e._v(" "),i("el-button",{staticClass:"link-btn",on:{click:function(t){return e.showSendMessage(e.detailObj)}}},[i("i",{staticClass:"base-icon message-icon"}),e._v(e._s(e.lg.sendMessage))])],1):e._e()]),e._v(" "),i("searchComp",{ref:"searchComp"}),e._v(" "),i("userDetailComp",{ref:"userDetailComp",attrs:{title:"detail"},on:{cbSuccess:e.updataDetail}}),e._v(" "),i("sendMessageComp",{ref:"sendMessageComp"})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("t5go")},null,null);t.default=n.exports},"b/4o":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("noE1"),a={name:"functions",mixins:[i("xpps").a],data:function(){return{}},computed:{permission:function(){return this.$store.state.functions}},components:{funcComp:s.default},methods:{resize:function(){if(this.permission){var e=document.getElementsByClassName("has-titlebar-content")[0].clientHeight,t=document.querySelector(".functions-page .func-filter-box").offsetHeight;this.$refs.funcComp.setScrollHeight(e-t)}else{var i=this;setTimeout(function(){i.resize()},300)}}},mounted:function(){var e=this;this.$nextTick(function(){e.resize()})}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"funtions h100b functions-page"},[t("h3",{staticClass:"block-titlebar"},[this._v(this._s(this.lg.functions))]),this._v(" "),t("div",{staticClass:"has-titlebar-content white-bg"},[t("div",{staticClass:"functions-cont"},[t("funcComp",{ref:"funcComp",attrs:{source:"page"}})],1)])])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("a2yd")},null,null);t.default=n.exports},b9BO:function(e,t){},bHXI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{visible:!1,data:{}}},methods:{setViable:function(e){this.visible=e},showNotice:function(){this.$emit("showSysNotify",!0)},setData:function(e){this.data=e,this.setViable(!0)},html2str:function(e){if(e){var t=e;return(t=(t=t.replace(/<[^>]*>|<\/[^>]*>/gm,"")).replace(/(&nbsp;)/g," ")).length>150&&(t=t.substr(0,150)+"..."),t}},closedFn:function(){localStorage.setItem("noticeid",this.data.id)}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"dashborad-sysNotifyBar"},[i("el-alert",{attrs:{type:"success"},on:{close:e.closedFn}},[i("div",{attrs:{slot:"title"},on:{click:function(t){return e.showNotice()}},slot:"title"},[i("i",{staticClass:"tag-notify"},[e._v(e._s(e.lg.notice))]),e._v(" "),i("span",{staticClass:"content"},[e._v("\n      "+e._s(e.html2str(e.data.content))+"\n    ")])])])],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("sXNy")},null,null);t.default=r.exports},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var s,a=i("C4MV"),r=(s=a)&&s.__esModule?s:{default:s};t.default=function(e,t,i){return t in e?(0,r.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},bcO3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("iKHV"),n={name:"storingimeidata",data:function(){return{storageFm:{customerid:"",storagetype:"1",imeis:"",remark:""},btnLoading:!1}},components:{userTreeSelect:s.default},methods:{selectedFn:function(e){this.storageFm.customerid=e.customerid},submitFn:function(){var e=this,t=this.checkParams();t&&(this.btnLoading=!0,Object(a._135)(t,{errorHide:!0}).then(function(t){e.btnLoading=!1,"0"==t.errorcode?(e.$message.success(lg.success),e.resetFm()):e.$message({type:"error",duration:0,showClose:!0,dangerouslyUseHTMLString:!0,message:lg[t.errorcode]+(t.msg?"<br />"+t.msg.split(",").join("<br />"):"")})}).catch(function(t){e.btnLoading=!1}))},resetFm:function(){this.$refs.storageFm.resetFields(),this.$refs.userTreeComp.clearFn()},checkParams:function(){var e=this.$trim(this.storageFm.imeis),t=this.$trim(this.storageFm.remark);if(!this.storageFm.customerid)return this.$message.error(lg.inputTargetCustomer),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;var i=this.formatImeis(e);if(i.length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var s=Object(r.g)(i);return s.rs?{targetuserid:this.storageFm.customerid,storagetype:this.storageFm.storagetype,imeis:s.imeis.join(","),remark:t}:(this.$message.error(lg[20053]+"("+s.imeis[s.imeis.length-1]+")"),!1)},tipsImei:function(){return lg.maxImeiNum.replace("{num}",200)}},mounted:function(){}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.storingImeiData))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("el-alert",{staticClass:"tips-page",attrs:{title:"Extra GPS data storage for year(s). For online device, it will start from  today.  For unactivated device, it will start from the online date.",closable:!1,type:"info","show-icon":"",clsss:"tips-page"}}),e._v(" "),i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"storageFm",attrs:{"show-message":!1,model:e.storageFm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type,required:"",prop:"storagetype"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.storageFm.storagetype,callback:function(t){e.$set(e.storageFm,"storagetype",t)},expression:"storageFm.storagetype"}},[e._v(e._s(e.lg.ayear))]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.storageFm.storagetype,callback:function(t){e.$set(e.storageFm,"storagetype",t)},expression:"storageFm.storagetype"}},[e._v(e._s(e.lg.twoYear))])],1),e._v(" "),i("el-form-item",{staticClass:"pb10",attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},on:{blur:function(t){return e.trimImeiInput("storageFm","imeis")}},model:{value:e.storageFm.imeis,callback:function(t){e.$set(e.storageFm,"imeis",t)},expression:"storageFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.oneImeiOneLine))]),e._v(" "),i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("storageFm","remark")}},model:{value:e.storageFm.remark,callback:function(t){e.$set(e.storageFm,"remark",t)},expression:"storageFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1)],1)],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},"bj++":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("iKHV"),o={name:"deviceprotocol",data:function(){return{searchFm:{imei:""},nodata:!1,records:[],searchParams:{},total:0,start:0,pagesize:20,btnLoading:!1,loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{},methods:{indexMethod:function(e){return this.start+(e+1)},searchFn:function(){this.start=0;var e=this.$trim(this.searchFm.imei);return e?Object(n.f)(e)?(this.searchParams={imei:e},void this.getList()):this.$message.error(e+":"+lg[20053]):this.$message.error(lg.inputImeiError)},reset:function(){this.start=0,this.total=0,this.searchParams={},this.nodata=!1,this.records=[]},getList:function(){var e=this;this.btnLoading=!0,this.loading=!0,Object(r.K)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.total=t.totalcount,e.btnLoading=!1,e.loading=!1,e.nodata=0==e.records.length}).catch(function(){e.btnLoading=!1,e.loading=!1})},fmtTime:function(e,t,i,s){return this.utcToLocal(i)||"-"},parseWords:function(e){for(var t=[],i=e.split(","),s=0;s<i.length;s++)for(var a=i[s].split(""),r=0;r<a.length;r++)for(var n=r;n<a.length;n++){for(var o="",l=r;l<=n;l++)o+=a[l]+"";var c=o.trim();c.length>=6&&t.push(c)}return t.sort(function(e,t){return t.length-e.length}),t},fmtHighlight:function(e){for(var t=e.length,i=this.$trim(this.searchFm.imei),s=this.parseWords(i),a=void 0,r=0;r<s.length;r++)a=new RegExp(s[r],"g"),e=e.replace(a,"<em>"+s[r]+"</em>");return e+="<br>length:"+this.getLengthOfHighlight(e)+" in "+t},getLengthOfHighlight:function(e){var t=e.match(/(<em>)(\d+)(<\/em>)/),i=e.match(/(<em>)/g);return t&&t[2]?t[2].length+i.length-1:0},fmReset:function(){this.start=0,this.$refs.searchFm.resetFields(),this.searchParams={}},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b fn-checkDeviceProtocolData"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.checkDeviceProtocolData)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      【天琴系列协议】:"),i("br"),e._v("\n      1. 天琴系列协议，挂15分钟以上；"),i("br"),e._v("\n      2. 开车，要设备上报GPS数据；\n      ")])])],1),e._v(" "),i("el-alert",{staticClass:"tips-page",attrs:{closable:!1,"show-icon":"",type:"info",title:"Please set device IP 47.90.77.35 and Port 19940."}}),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{"show-message":!1,model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:"IMEI: ",required:""}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("searchFm","imei")},clear:e.reset},model:{value:e.searchFm.imei,callback:function(t){e.$set(e.searchFm,"imei",t)},expression:"searchFm.imei"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.search))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",align:"center",label:"Create time",width:"148",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"sockettype",label:"Socket type",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"hexdata",label:"Hex data"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{domProps:{innerHTML:e._s(e.fmtHighlight(t.row.hexdata))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"textdata",label:"Text data",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{domProps:{innerHTML:e._s(e.fmtHighlight(t.row.textdata))}})]}}])})],1),e._v(" "),e.nodata?i("div",{staticClass:"wraper-info"},[i("h3",[e._v("查询无数据？可检查:")]),e._v(" "),i("div",{staticClass:"content"},[i("ol",[i("li",[e._v("1. IMEI输入是否正确;")]),e._v(" "),i("li",[e._v("2. 设备是否有id，如果有id查询一下id "),i("br"),e._v("\n          (有的厂家不是分配IMEI,而是分配id)")]),e._v(" "),i("li",[e._v("3. 设备设置服务器信息是否正确： 47.90.77.35:19940")]),e._v(" "),i("li",[e._v("4. 设备是否有用private APN，"),i("br"),e._v("\n          如果是，需要把47.90.77.35 IP 加入private APN 白名单;")]),e._v(" "),i("li",[e._v("5. 设备信号问题："),i("br"),e._v("\n          设备SIM卡是否有流量；"),i("br"),e._v("\n          设备工作是否正常，接线是否都正确；"),i("br"),e._v("\n          设备信号是否被遮挡等；")])])])]):e._e()],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("EJsQ")},null,null);t.default=c.exports},bxcn:function(e,t){},"c/Hu":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{protocolid:"",options:[]}},methods:{getOption:function(){var e=this;Object(s._104)({}).then(function(t){e.options=t.record}).catch(function(){})},reset:function(){this.protocolid=""},changeFn:function(){this.$emit("change",this.protocolid)}},mounted:function(){var e=this;this.$nextTick(function(){e.getOption()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{directives:[{name:"select-filter",rawName:"v-select-filter"}],attrs:{filterable:""},on:{change:e.changeFn},model:{value:e.protocolid,callback:function(t){e.protocolid=t},expression:"protocolid"}},e._l(e.options,function(e){return i("el-option",{key:e.id,attrs:{label:e.protocol,value:e.id}})}),1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},c3aE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ");n._120;var o={name:"saleslist",data:function(){return{searchFm:{customerid:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],loading:!1}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.searchFm.customerid=e.customerid,e.customerid||this.searchFn()},searchFn:function(){this.start=0,this.searchParams={},this.searchFm.customerid&&(this.searchParams={customerid:this.searchFm.customerid}),this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._120)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},fmReset:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.viewSalesList))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.account,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{staticClass:"search-btn-fm",on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.account}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.customerName}}),e._v(" "),i("el-table-column",{attrs:{prop:"superaccount",label:e.lg.membershipCustomer}}),e._v(" "),i("el-table-column",{attrs:{prop:"personname",label:e.lg.contact}}),e._v(" "),i("el-table-column",{attrs:{prop:"phone",label:e.lg.mobile}}),e._v(" "),i("el-table-column",{attrs:{prop:"email",label:e.lg.email}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},cwns:function(e,t){},dQ2A:function(e,t){},e1WB:function(e,t){},eDOc:function(e,t){},eInf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["record"],data:function(){return{detailVisible:!1}},components:{deviceDetail:function(){return i.e(78).then(i.bind(null,"QmMy")).catch()}},methods:{showDetail:function(){var e=this.record;if(e.deviceid){this.detailVisible=!0,this.$emit("dialogShow",this.$refs.imeiDialog);var t=this;this.findObj("deviceDetailComp",this.$refs,function(){t.$refs.deviceDetailComp.getDetail(e.deviceid)})}}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"link-btn",on:{click:e.showDetail}},[e._v("\n  "+e._s(e.record.imei)+"\n  "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],ref:"imeiDialog",attrs:{title:e.lg.target,visible:e.detailVisible,"append-to-body":!0,modal:!0,"show-close":!0,top:"10vh",width:"700px"},on:{"update:visible":function(t){e.detailVisible=t}}},[i("deviceDetail",{ref:"deviceDetailComp"})],1)],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},eJ4L:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=(i("iKHV"),{props:["imei"],data:function(){return{loading:!1,records:[],oChargeType:{2:lg.annualCard,3:lg.lifeLong}}},methods:{showFn:function(){this.getList()},getList:function(){var e=this;this.loading=!0,Object(s._48)({imei:this.imei}).then(function(t){e.loading=!1,e.records=t.record}).catch(function(t){e.loading=!1})},fmtType:function(e){return this.oChargeType[e.pointtype]},fmtTime:function(e,t,i){return this.utcToLocal(i)}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-popover",{attrs:{"popper-class":"imei-recharge-popover",placement:"bottom",trigger:"click",width:"800"},on:{show:e.showFn}},[i("el-scrollbar",{staticStyle:{height:"300px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei,width:"140"}}),e._v(" "),i("el-table-column",{attrs:{width:"70",prop:"pointnumber",label:e.lg.rechargeNum}}),e._v(" "),i("el-table-column",{attrs:{prop:"pointtype",label:e.lg.cardType,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{prop:"beforetime",label:e.lg.platformEnd,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"aftertime",label:e.lg.afterRecharge,formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"operaccount",label:e.lg.operator}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.fmtTime}})],1)],1),e._v(" "),i("span",{staticClass:"option-btn",attrs:{slot:"reference"},slot:"reference"},[e._t("default")],2)],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("kPWw")},null,null);t.default=n.exports},eSl4:function(e,t){},"efw/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{slogan:"",show:!1,maxlength:500}},methods:{refreshFn:function(){this.getSloganFn()},getSloganFn:function(){var e=this;Object(s._62)({}).then(function(t){e.slogan=t.record.slogan}).catch(function(e){})},submitFn:function(){var e=this;if(this.slogan.length>this.maxlength)return this.$message.error(lg.maxCharsNum.replace("{num}",this.maxlength));Object(s._103)({slogan:this.slogan}).then(function(t){e.hideEdit()}).catch(function(e){})},formatter:function(e){var t='<p style="color:#c1c1c1;">Describe anything you want to remark here.</p>';return e&&(t=e.replace(/(((?:http:\/\/)|(?:https:\/\/)|(?:w{3}\.))(?:.[\w]+)+)/g,function(){var e="";return/^http/.test(arguments[1])||(e="http://"),'<a class="link-inreminder" target="_blank" href="'+e+arguments[1]+'">'+arguments[1]+"</a>"}).replace(/\n/g,"<br/>")),t},showEdit:function(){this.show=!0;var e=this;setTimeout(function(){e.$refs.sloganInput.focus()},10)},hideEdit:function(){this.show=!1}},mounted:function(){var e=this;this.$nextTick(function(){e.getSloganFn()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reminder-box bg"},[i("h3",{staticClass:"nobg-title"},[e._v(e._s(e.lg.reminder))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"reminder-word",attrs:{title:e.lg.edit},on:{click:function(t){return e.showEdit()}}},[i("el-scrollbar",{staticClass:"h100b"},[i("div",{domProps:{innerHTML:e._s(e.formatter(e.slogan))},on:{click:function(e){e.stopPropagation()}}})])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[i("el-input",{ref:"sloganInput",attrs:{type:"textarea",maxlength:e.maxlength,autosize:{minRows:12,maxRows:14},"show-word-limit":""},on:{blur:e.submitFn},model:{value:e.slogan,callback:function(t){e.slogan=t},expression:"slogan"}})],1),e._v(" "),i("i",{staticClass:"reminder-edit base-icon",attrs:{title:e.lg.edit},on:{click:function(t){return e.showEdit()}}})])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("vZ46")},null,null);t.default=n.exports},ep55:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{baseinfo:{},result:{}}},components:{imeiMembership:function(){return i.e(116).then(i.bind(null,"Ek5U")).catch()}},methods:{continueAdd:function(){this.$emit("hideSuccess")},setData:function(e,t){this.baseinfo=e,this.result=t},formatterType:function(e){return"4"==e?lg.newCardLifelong:lg.newCard},showMenberShip:function(e){this.$refs.imeiMembership.showDialog(e)}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-result add-device-result"},[i("div",{staticClass:"title"},[i("i",{staticClass:"ico",class:0==e.result.successnum?"ico-fail":"ico-ok"}),e._v(" "),i("h3",{staticStyle:{}},[0==e.result.successnum?[e._v("\n        "+e._s(e.lg[20059])+"\n      ")]:[e._v("\n        "+e._s(e.lg.success)+"\n      ")]],2)]),e._v(" "),i("div",{staticClass:"mb20 tc"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.continueAdd()}}},[e._v(e._s(e.lg.continueTo))])],1),e._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"mb10"},[e._v(e._s(e.lg.detail))]),e._v(" "),i("div",{staticClass:"mb15 pl10"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.aimCustomer))]),e._v(": "+e._s(e.baseinfo.name)+"\n      "),i("label",{staticClass:"detail-label ml20"},[e._v(e._s(e.lg.targetType))]),e._v(": "+e._s(e.baseinfo.devicetype)+"\n      "),i("label",{staticClass:"detail-label ml20"},[e._v(e._s(e.lg.cardType))]),e._v(": "+e._s(e.formatterType(e.baseinfo.type))+"\n    ")]),e._v(" "),i("div",{staticClass:"pl10"},[i("div",{staticClass:"el-form-item-fieldset"},[i("label",{staticClass:"fieldset-legend"},[e._v(e._s(e.lg.imeiId))]),e._v(" "),i("div",{staticClass:"mb5"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.total)+": ")]),e._v(e._s(e.result.total))]),e._v(" "),i("div",{staticClass:"mb5"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.success)+": ")]),e._v(e._s(e.result.successnum))]),e._v(" "),e.result.existed?i("div",{staticClass:"mb5 clearfix"},[i("div",{staticClass:"label-box fl"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.existed)+": ")]),e._v(e._s(e.result.existed.split(",").length))]),e._v(" "),i("div",{staticClass:"detail-item-box ml20 fl"},[i("a",{staticClass:"link-btn",on:{click:function(t){return e.showMenberShip(e.result.existed)}}},[e._v(e._s(e.result.existed))])])]):e._e(),e._v(" "),e.result.fail?i("div",{staticClass:"mb5 clearfix"},[i("div",{staticClass:"label-box fl"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.fail)+": ")]),e._v(e._s(e.result.fail.split(",").length))]),e._v(" "),i("div",{staticClass:"detail-item-box ml20 fl"},[e._v(e._s(e.result.fail))])]):e._e(),e._v(" "),e.result.blocked?i("div",{staticClass:"mb5 clearfix"},[i("div",{staticClass:"label-box fl"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.blocked)+": ")]),e._v(e._s(e.result.blocked.split(",").length))]),e._v(" "),i("div",{staticClass:"detail-item-box ml20 fl"},[e._v(e._s(e.result.blocked))])]):e._e()])])]),e._v(" "),i("imeiMembership",{ref:"imeiMembership"})],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("EW63")},null,null);t.default=r.exports},"f+Tr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{params:{},loading:!1,records:[]}},methods:{rowClassFn:function(e){var t=e.row;e.rowIndex;return t.isok?"":"table-row-error"},beforeUpload:function(){this.loading=!0,this.records=[]},handleUploadSuccess:function(e){this.loading=!1,0==e.errorcode?(this.records=e.records,this.$message.success(lg.success)):(this.$message.error(lg[e.errorcode]),this.records=[])},handleUploadError:function(){this.loading=!1,this.records=[]},fmtTime:function(e,t,i){return this.utcToLocal(i)},handleChange:function(){}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pb20"},[i("p",[e._v(e._s(e.lg.xlUploadTips)+"\n    "),i("a",{staticClass:"link-btn",attrs:{href:"/static/example-broken-imei-change.xls?20210610"}},[e._v(e._s(e.lg.fileExample))])]),i("p"),i("div",{},[i("p",{staticClass:"pt20 pb10"},[e._v(e._s(e.lg.poiImportFields)+":")]),e._v(" "),i("ul",{staticClass:"table-cell-list",attrs:{slot:"title"},slot:"title"},[i("li",[i("b",[e._v("Date")]),e._v(" - "+e._s(e.lg.required)+" - 2021/05/01")]),e._v(" "),i("li",[i("b",[e._v("Broken Device IMEI")]),e._v(" - "+e._s(e.lg.required))]),e._v(" "),i("li",[i("b",[e._v("New IMEI")]),e._v(" - "+e._s(e.lg.required))]),e._v(" "),e._m(0)])]),e._v(" "),i("el-upload",{ref:"upload",staticClass:"imei-upload-btn mt20",attrs:{multiple:!1,name:"files",data:e.params,action:"/api2/device/repair/import","show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleUploadSuccess,"on-change":e.handleChange,"on-error":e.handleUploadError,"auto-upload":!0,accept:".xls,.xlsx,.csv"}},[i("el-button",{staticClass:"blue-btn upload-btn",attrs:{slot:"trigger",loading:e.loading,size:"mini",type:"primary"},slot:"trigger"},[e._v(e._s(e.lg.upload))]),e._v(" "),i("span",{staticClass:"el-upload__tip ml15",attrs:{slot:"tip"},slot:"tip"},[e._v("(XLS, XLSX, maximum size 5 Mb)")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.records.length>0,expression:"records.length > 0"}]},[i("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","row-class-name":e.rowClassFn,data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"oldimei",label:e.lg.imei+"-"+e.lg.before,width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"newimei",label:e.lg.imei+"-"+e.lg.after,width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isok?[e._v("\n            "+e._s(e.lg.success)+"\n          ")]:[i("div",{staticClass:"txt-ellipsis"},[e._v(e._s(e.lg.fail+":"+e.lg[t.row.errorcode])+" ( "+e._s(t.row.errordata)+" )")])]]}}])})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("b",[this._v("Remark")])])}]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},fA6O:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{records:[],total:0,start:0,pagesize:5,loading:!1,showDetail:!1,detailObj:{},multipleSelection:[]}},components:{detailComp:function(){return i.e(81).then(i.bind(null,"aPDQ")).catch()}},methods:{getList:function(){var e=this;this.loading=!0,Object(s._53)({start:this.start,count:this.pagesize}).then(function(t){e.loading=!1,e.records=t.records,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},deleteMsg:function(e){var t=this;this.$confirm(lg.delRecord).then(function(){Object(s.Z)({messageid:e.messageid}).then(function(e){t.$message.success(lg.delSuccess),1==t.records.length&&0!=t.start&&(t.start=t.start-t.pagesize),t.getList()}).catch(function(){})}).catch(function(){})},delAll:function(){var e=this;this.$confirm(lg.allDeleteTips).then(function(){Object(s.W)({}).then(function(t){e.$message.success(lg.delSuccess),e.getList(),e.$emit("clearUnReadNum","message")}).catch(function(){})}).catch(function(){})},readAll:function(){var e=this;this.$confirm(lg.allReadTips).then(function(){Object(s._111)({}).then(function(t){e.$message.success(lg.success),e.getList(),e.$emit("clearUnReadNum","message")}).catch(function(){})}).catch(function(){})},delSelectMsg:function(){var e=this,t=[];this.multipleSelection.forEach(function(e,i,s){t.push(e.messageid)}),this.$confirm(lg.delRecord).then(function(){Object(s.v)({messageids:t.join(",")}).then(function(t){e.$message.success(lg.delSuccess),e.getList(),e.$emit("refreshReadNum","message")}).catch(function(){})}).catch(function(){})},rowClick:function(e,t,i){e.readstatus||this.readFn(e)},rowClassFn:function(e){var t=e.row;e.rowIndex;return t.readstatus?"":"unread"},readFn:function(e){var t=this;Object(s._113)({messageid:e.messageid}).then(function(i){t.$set(e,"readstatus",1),t.$emit("delReadNum","message")}).catch(function(){})},showDetailFn:function(e){this.detailObj=e,this.$refs.detailComp.setData(e),this.showDetail=!0},backList:function(){this.showDetail=!1,this.detailObj={}},handleSelectionChange:function(e){this.multipleSelection=e},reset:function(){this.showDetail=!1}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showDetail,expression:"!showDetail"}]},[i("div",{staticClass:"mb15"},[i("el-button",{attrs:{disabled:0==e.multipleSelection.length},on:{click:e.delSelectMsg}},[e._v(e._s(e.lg.delete))]),e._v(" "),i("el-button",{on:{click:e.readAll}},[e._v(e._s(e.lg.allRead))]),e._v(" "),i("el-button",{on:{click:e.delAll}},[e._v(e._s(e.lg.deleteAll))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"message-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,"show-header":!1,stripe:"","row-class-name":e.rowClassFn},on:{"selection-change":e.handleSelectionChange,"row-click":e.rowClick}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"readstatus",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("span",{staticClass:"message-status",class:"0"==e.row.readstatus?"message-not-read":"message-read"})]}}])}),e._v(" "),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"link txt-ellipsis pointer",on:{click:function(i){return e.showDetailFn(t.row)}}},[e._v("\n            "+e._s(t.row.content)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",width:"160",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.deleteMsg(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetail,expression:"showDetail"}]},[i("div",{staticClass:"mb10"},[i("a",{staticClass:"link-btn",on:{click:e.backList}},[i("i",{staticClass:"base-icon back-icon"}),e._v(e._s(e.lg.back))])]),e._v(" "),i("detailComp",{ref:"detailComp"})],1)])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("Llh+")},null,null);t.default=n.exports},"fY/y":function(e,t){},fkey:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{records:[],total:0,start:0,pagesize:5,loading:!1,showDetail:!1,detailObj:{},multipleSelection:[]}},components:{detailComp:function(){return i.e(81).then(i.bind(null,"aPDQ")).catch()}},methods:{getList:function(){var e=this;this.loading=!0,Object(s._24)({start:this.start,pagecount:this.pagesize}).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},rowClassFn:function(e){var t=e.row;e.rowIndex;return t.status?"":"unread"},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},deleteMsg:function(e){var t=this;this.$confirm(lg.delRecord).then(function(){Object(s.X)({feedbackid:e.feedbackid}).then(function(e){t.$message.success(lg.delSuccess),1==t.records.length&&0!=t.start&&(t.start=t.start-t.pagesize),t.getList()}).catch(function(){})}).catch(function(){})},delAll:function(){var e=this;this.$confirm(lg.allDeleteTips).then(function(){Object(s.V)({}).then(function(t){e.$message.success(lg.delSuccess),e.getList(),e.$emit("clearUnReadNum","feedback")}).catch(function(){})}).catch(function(){})},readAll:function(){var e=this;this.$confirm(lg.allReadTips).then(function(){Object(s._110)({}).then(function(t){e.$message.success(lg.success),e.getList(),e.$emit("clearUnReadNum","feedback")}).catch(function(){})}).catch(function(){})},rowClick:function(e,t,i){e.status||this.readFn(e)},readFn:function(e){var t=this;Object(s._112)({feedbackid:e.feedbackid}).then(function(i){t.$set(e,"status",1),t.$emit("delReadNum","feedback")}).catch(function(){})},delSelectMsg:function(){var e=this,t=[];this.multipleSelection.forEach(function(e,i,s){t.push(e.feedbackid)}),this.$confirm(lg.delRecord).then(function(){Object(s.u)({feedbackids:t.join(",")}).then(function(t){e.$message.success(lg.delSuccess),e.getList(),e.$emit("refreshReadNum","feedback")}).catch(function(){})}).catch(function(){})},showDetailFn:function(e){this.detailObj=e,this.showDetail=!0,this.$refs.detailComp.setData(e)},backList:function(){this.showDetail=!1,this.detailObj={}},handleSelectionChange:function(e){this.multipleSelection=e},reset:function(){this.showDetail=!1}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showDetail,expression:"!showDetail"}]},[i("div",{staticClass:"mb15"},[i("el-button",{attrs:{disabled:0==e.multipleSelection.length},on:{click:e.delSelectMsg}},[e._v(e._s(e.lg.delete))]),e._v(" "),i("el-button",{on:{click:e.readAll}},[e._v(e._s(e.lg.allRead))]),e._v(" "),i("el-button",{on:{click:e.delAll}},[e._v(e._s(e.lg.deleteAll))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,"show-header":!1,stripe:"","row-class-name":e.rowClassFn},on:{"selection-change":e.handleSelectionChange,"row-click":e.rowClick}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"readstatus",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("span",{staticClass:"message-status",class:e.row.status?"message-read":"message-not-read"})]}}])}),e._v(" "),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"link txt-ellipsis pointer",on:{click:function(i){return e.showDetailFn(t.row)}}},[e._v("\n            "+e._s(t.row.content)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",width:"160",formatter:e.fmtTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"readstatus",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.handlestatus?i("span",{staticClass:"message-status message-processed",attrs:{title:e.lg.statusProcessed}}):i("span",{staticClass:"message-status",attrs:{title:e.lg.statusPending}}),e._v(" "),i("a",{staticClass:"ml10 link-btn",on:{click:function(i){return e.deleteMsg(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetail,expression:"showDetail"}]},[i("div",{staticClass:"mb10"},[i("a",{staticClass:"link-btn",on:{click:e.backList}},[i("i",{staticClass:"back-icon base-icon"}),e._v(e._s(e.lg.back))])]),e._v(" "),i("detailComp",{ref:"detailComp"})],1)])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("PYyo")},null,null);t.default=n.exports},fvYT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("/a4m"),r=i("Rpa2"),n=(i("iKHV"),{name:"movecard",props:["hidetitle"],data:function(){return{activeName:"transferCard",moveFm:{importnumber:"",lifelongimportnumber:"",yearchargenumber:"",lifelongchargenumber:"",remark:""},newCard:0,newCardLifelong:0,annualCard:0,lifeLongCard:0,btnloading:!1,sameCardObj:{}}},computed:{loginId:function(){return this.$store.state.customerInfo.id},auth:function(){return this.$store.state.auth},auth_function:function(){return this.$store.state.functions||{}}},components:{userSelect:a.default,userTreeSelect:r.default,moveDataTransferCardComp:function(){return i.e(89).then(i.bind(null,"o1i6")).catch()}},methods:{setCustomer:function(e,t){this.$refs.userSelectComp.setCustomerId(e),this.moveFm.customerid=e},getPointInfo:function(){var e=this;Object(s._102)({customerid:this.loginId}).then(function(t){e.newCard=t.importpoint,e.newCardLifelong=t.zsimportpoint,e.annualCard=t.monthpoint,e.lifeLongCard=t.lifelongpoint}).catch(function(e){})},selectedFn:function(e){this.moveFm.customerid=e},UserDataSelectedFn:function(e){this.moveFm.customerid=e.customerid},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,this.checkSameRepeat(t)?this.postData(t):this.$confirm(lg.sameCardNumbersTips,lg.tips,{confirmButtonText:lg.ok,cancelButtonText:lg.cancel,type:"warning"}).then(function(){e.postData(t)}).catch(function(){e.btnloading=!1}),this.countEvent({action:"转移卡",opt_label:"点击",val:"Dealer2"}))},postData:function(e){var t=this;Object(s._82)(e).then(function(i){var s=e.importnumber>0?lg.newCard+": "+e.importnumber+"<br />":"";s+=e.lifelongimportnumber>0?lg.newCardLifelong+": "+e.lifelongimportnumber+"<br />":"",s+=e.yearchargenumber>0?lg.annualCard+": "+e.yearchargenumber+"<br />":"",s+=e.lifelongchargenumber>0?lg.lifeLongCard+": "+e.lifelongchargenumber+"<br />":"",t.$message({type:"success",dangerouslyUseHTMLString:!0,message:lg.movePointSuccess+"<br />"+s}),t.getPointInfo(),t.fmReset(),t.btnloading=!1,t.setSameCardObj(e),t.$emit("cb")}).catch(function(e){t.btnloading=!1})},checkParams:function(){var e=this.moveFm.importnumber,t=this.moveFm.lifelongimportnumber,i=this.moveFm.yearchargenumber,s=this.moveFm.lifelongchargenumber;if(!this.moveFm.customerid||!/^\d{1,}$/.test(this.moveFm.customerid))return this.$message.error(lg.selectSuperCustomerNull),!1;if(!(e||t||i||s))return this.$message.error(lg.numPointFormatError),!1;var a=this.$trim(this.moveFm.remark);return{customerid:this.moveFm.customerid,importnumber:e||0,lifelongimportnumber:t||0,yearchargenumber:i||0,lifelongchargenumber:s||0,remark:a}},setSameCardObj:function(e){this.sameCardObj={time:Date.now(),customerid:e.customerid,cardtypenum:e.importnumber+"|"+e.lifelongimportnumber+"|"+e.yearchargenumber+"|"+e.lifelongchargenumber+"|"}},checkSameRepeat:function(e){var t=e.importnumber+"|"+e.lifelongimportnumber+"|"+e.yearchargenumber+"|"+e.lifelongchargenumber+"|";return this.sameCardObj.customerid!=e.customerid||this.sameCardObj.cardtypenum!=t},fmReset:function(){this.$refs.moveFm.resetFields()}},mounted:function(){this.getPointInfo()}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-move h100b"},[e.hidetitle?e._e():i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.transferCard)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n       转卡："),i("br"),e._v(" "),e.auth_function.freeTransferCard?[e._v("\n         您有跨级转卡权限：可转给任意下级客户"),i("br"),e._v("\n         销售默认无此权限：只能转给自己的直接客户"),i("br"),e._v("\n         不可跨级"),i("br"),i("br")]:[e._v("\n         只能转给自己的直接客户"),i("br"),e._v("\n         不可跨级"),i("br"),i("br")],e._v("\n\n       常见问题：搜不到客户？"),i("br"),e._v("\n       请核实是不是跨级了\n      ")],2)])],1),e._v(" "),i("div",{staticClass:"table-page h100b"},[i("el-tabs",{class:{"tab-only-one":!e.auth_function.movedatatransfercard},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.transferCard,name:"transferCard"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"moveFm",attrs:{model:e.moveFm,"label-width":"180px","show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[i("table",{staticClass:"table-balance"},[i("tr",[e.auth.hasAuth2MoveImportPoint?[i("td",[e._v(" "+e._s(e.newCard)+" "),i("em",[e._v(e._s(e.lg.newCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.newCardLifelong)+" "),i("em",[e._v(e._s(e.lg.newCardLifelong))])])]:e._e(),e._v(" "),i("td",[e._v(" "+e._s(e.annualCard)+" "),i("em",[e._v(e._s(e.lg.annualCard))])]),e._v(" "),i("td",[e._v(" "+e._s(e.lifeLongCard)+" "),i("em",[e._v(e._s(e.lg.lifeLongCard))])])],2)])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[e.auth_function.freeTransferCard?[i("userTreeSelect",{ref:"userTreeCompFrom",on:{selected:e.UserDataSelectedFn}})]:[i("userSelect",{ref:"userSelectComp",on:{selected:e.selectedFn}})]],2),e._v(" "),e.auth.hasAuth2MoveImportPoint?[i("el-form-item",{attrs:{label:e.lg.newCard,prop:"importnumber"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.moveFm.importnumber,callback:function(t){e.$set(e.moveFm,"importnumber",t)},expression:"moveFm.importnumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newCardLifelong,prop:"lifelongimportnumber"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.moveFm.lifelongimportnumber,callback:function(t){e.$set(e.moveFm,"lifelongimportnumber",t)},expression:"moveFm.lifelongimportnumber"}})],1)]:e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.lg.annualCard,prop:"yearchargenumber"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.moveFm.yearchargenumber,callback:function(t){e.$set(e.moveFm,"yearchargenumber",t)},expression:"moveFm.yearchargenumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.lifeLongCard,prop:"lifelongchargenumber"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.moveFm.lifelongchargenumber,callback:function(t){e.$set(e.moveFm,"lifelongchargenumber",t)},expression:"moveFm.lifelongchargenumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.moveFm.remark,callback:function(t){e.$set(e.moveFm,"remark",t)},expression:"moveFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],2)],1)]),e._v(" "),e.auth_function.movedatatransfercard?i("el-tab-pane",{attrs:{label:e.lg.moveDataTransferCard,name:"moveDataTransferCard"}},[i("moveDataTransferCardComp",{ref:"moveDataTransferCardComp",attrs:{from:"movePoint"}})],1):e._e()],1)],1)])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("eDOc")},null,null);t.default=l.exports},fxRn:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("g8Ux")},g5iy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r=i("iKHV"),n={props:["transfertype"],data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.selectCustomer)):s()},imeis:function(t,i,s){""===(i=e.$trim(i))?s(new Error(lg.inputImeiError)):s()}};return{showadd:!1,transferFm:{customerid:"",imeis:"",remark:""},balance:0,btnloading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.transferFm.customerid=e.customerid},setVisible:function(e){this.showadd=e},getBalance:function(){var e=this;Object(a._102)({customerid:this.loginId}).then(function(t){e.balance=t.transfercardpoint}).catch(function(){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a.k)(t,{errorHide:!0}).then(function(t){var i;0==t.errorcode?(i=t.exist&&t.exist>0?lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+".<br />Existed:"+t.exist+".<br />Existed "+t.msg.split(",").join("<br />"):lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+"."+(t.msg?"("+t.msg+")":""),e.$message({dangerouslyUseHTMLString:!0,type:"success",duration:0,showClose:!0,message:i}),e.getBalance(),e.fmReset(),e.showadd=!1,e.btnloading=!1,e.$emit("addSuccess")):e.$message({dangerouslyUseHTMLString:!0,type:"error",duration:0,showClose:!0,message:lg[t.errorcode]+(t.msg?"<br />"+t.msg.split(",").join("<br />"):"")});e.btnloading=!1}).catch(function(){e.btnloading=!1}))},showList:function(){this.$emit("showList")},getTotal:function(e){var t=this.$trim(this.transferFm.imeis);return t=t.replaceAll("\n",",").split(","),"1"==e?t.length:"2"==e?this.unique(t).length:void 0},checkParams:function(){var e=this.transferFm.customerid,t=this.transfertype,i=this.$trim(this.transferFm.imeis),s=this.$trim(this.transferFm.remark);if(!e)return this.$message.error(lg.selectCustomer),!1;if(!t)return this.$message.error("type error."),!1;if(!i)return this.$message.error(lg.inputImeiError),!1;if((i=this.formatImeis(i)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var a=Object(r.g)(i);return a.rs?{customerid:e,transfertype:t,imeis:a.imeis.join(","),remark:s}:(this.$message.error(lg[20053]+"("+a.imeis[a.imeis.length-1]+")"),!1)},fmReset:function(){this.$refs.transferFm.resetFields(),this.$refs.userTreeComp.clearFn()},cancelFn:function(){this.setVisible(!1),this.fmReset()},dialogCloseFn:function(){this.fmReset()}},mounted:function(){this.getBalance()}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.add,visible:e.showadd,modal:!0,"show-close":!0,width:"620px","append-to-body":!0},on:{"update:visible":function(t){e.showadd=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"transferFm",attrs:{rules:e.rules,model:e.transferFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n        "+e._s(e.balance)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:"Apply account",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea"},on:{blur:function(t){return e.trimImeiInput("transferFm","imeis")}},model:{value:e.transferFm.imeis,callback:function(t){e.$set(e.transferFm,"imeis",t)},expression:"transferFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("One line one IMEI.")]),e._v(" "),i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("transferFm","remark")}},model:{value:e.transferFm.remark,callback:function(t){e.$set(e.transferFm,"remark",t)},expression:"transferFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},g8Ux:function(e,t,i){var s=i("77Pl"),a=i("3fs2");e.exports=i("FeBl").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return s(t.call(e))}},gFTv:function(e,t){},gFbb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{addressV:""}},methods:{getApiAddress:function(e,t){if(void 0===e.lng||void 0===e.lat)return this.addressV="",void(void 0!==t&&t(this.addressV,e.source));if(0==parseFloat(e.lng)&&0==parseFloat(e.lat))return this.addressV="",void(void 0!==t&&t(this.addressV,e.source));var i=this;Object(s._26)({longitude:e.lng,latitude:e.lat},{errorHide:!0,timeout:5e3}).then(function(s){i.addressV=s.address||"",void 0!==t&&t(s.address,e.source)}).catch(function(e){})},getAddressService:function(e,t){if(void 0===e.lng||void 0===e.lat)return this.addressV="",void(void 0!==t&&t(this.addressV,e.source));if(0==parseFloat(e.lng)&&0==parseFloat(e.lat))return this.addressV="",void(void 0!==t&&t(this.addressV,e.source));var i=this;Object(s._27)({longitude:e.lng,latitude:e.lat,frompage:e.page},{errorHide:!0,timeout:5e3}).then(function(s){i.addressV=s.result&&s.result.formatted_address?s.result.formatted_address:"",void 0!==t&&t(i.addressV,e.source)}).catch(function(e){})}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.addressV))])},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},gIum:function(e,t){},gPzS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={name:"permissionClone",data:function(){return{dealer2Fm:{targetcustomerid:"",clonecustomerid:""},roleFrom:"",roleTo:"",btnloading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:s.default},methods:{selectedFn:function(e){this.dealer2Fm.targetcustomerid=e.customerid,this.roleTo=e.roletype},selectedCloneFn:function(e){this.dealer2Fm.clonecustomerid=e.customerid,this.roleFrom=e.roletype},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(a.O)({targetcustomerid:this.dealer2Fm.targetcustomerid,clonecustomerid:this.dealer2Fm.clonecustomerid}).then(function(t){e.btnloading=!1,e.$message.success(lg.success)}).catch(function(){e.btnloading=!1}))},checkParams:function(){return 1!=this.roleFrom?(this.$message.error(lg[20109]+":"+lg.cloneFrom),!1):1!=this.roleTo?(this.$message.error(lg[20109]+":"+lg.aimCustomer),!1):this.dealer2Fm.targetcustomerid!=this.dealer2Fm.clonecustomerid||(this.$message.error("Please select different customer."),!1)}},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.permissionClone))]),e._v(" "),e.auth.hasViewDescription?i("el-alert",{staticClass:"tips-page protrack",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[e._v("\n      功能说明：通过权限克隆方式,将一个distributor类型账号 设置为[我司销售]。"),i("br"),e._v("\n      克隆范围：所有dealer权限及我司销售配置"),i("br"),e._v("\n      权限说明：此操作权限只应admin拥有。\n    ")])],2):e._e(),e._v(" "),i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"dealer2Fm",attrs:{"show-message":!1,model:e.dealer2Fm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.cloneFrom,required:"",prop:"clonecustomerid"}},[i("userTreeSelect",{ref:"userTreeCompFrom",on:{selected:e.selectedCloneFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"targetcustomerid"}},[i("userTreeSelect",{ref:"userTreeCompTo",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary",loading:e.btnloading,"native-type":"submit"}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("router-link",{attrs:{to:"/saleslist"}},[e._v("\n          "+e._s(e.lg.viewSalesList)+"\n        ")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("7Uct")},null,null);t.default=o.exports},"gb/B":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Gu7T"),a=i.n(s),r=i("Dd8w"),n=i.n(r),o=i("gyMJ"),l={props:["hideSevice"],data:function(){return{type:"",defaulttype:"",showBox:!1,loading:!1,showSupport:!1,serverInfo:"",records:[],records1:[],recordsOfProtocols:[],recordsOfrModels:[],protocolSelected:"",modelSelected:"",searchTxt1:"",searchTxt2:""}},computed:{filterProtocols:function(){return this.filterProtocolsFn()},filterModels:function(){var e=this.fmtModelsFn(this.searchTxt1,this.searchTxt2,this.protocolSelected);if(""==this.protocolSelected){var t=[];return e.forEach(function(e,i){e.models.length>0&&t.push(e)}),t}return e}},methods:{testModelLength:function(e){var t=[];return e.forEach(function(e,i){e.models.length>0&&t.push(e.protocolname+"-"+e.models.length+"-"+e.models.join(","))}),t},showModel:function(){},hideModel:function(){},selectedFn:function(e,t){var i=this[e][t];this.$emit("selected",i),this.type=i.devicetype,this.serverInfo=i.serverinfo,this.showBox=!1},protocolSelectedFn:function(e){this.protocolSelected=this.protocolSelected?"":e.protocol},modelSelectedFn:function(e){"任何协议设备"!=e&&(this.$emit("selected",e),this.searchTxt2=e,this.type=e,this.showBox=!1)},getModelData:function(){var e=this;this.loading=!0,Object(o._8)(n()({},{})).then(function(t){e.records=e.fmtTyps(t.records.concat()),e.loading=!1}).catch(function(t){e.loading=!1})},fmtTyps:function(e){var t=[];return e.forEach(function(e,i){e.models=e.devicetypes?e.devicetypes.split(","):[],e.models_=e.models.concat(),t.push(e)}),t},filterProtocolsFn:function(){var e=this,t=[],i=[].concat(a()(this.records));return""==this.$trim(this.searchTxt1)?t=i:i.forEach(function(i,s){i.protocol.toLocaleUpperCase().indexOf(e.searchTxt1.toLocaleUpperCase())>-1&&t.push(i)}),t},fmtModelsFn:function(e,t,i){var s=this,a=[],r=this.records.concat();return i?r.forEach(function(e,t){e.protocol.toLocaleUpperCase()==i.toLocaleUpperCase()&&a.push(e)}):""==this.$trim(e)?a=r:r.forEach(function(t,i){t.protocol.toLocaleUpperCase().indexOf(e.toLocaleUpperCase())>-1&&a.push(t)}),""==this.$trim(t)?(a.forEach(function(e,t){a[t].models=s.getModelsByKey("",e.models_)}),a):(a.forEach(function(e,i){a[i].models=s.getModelsByKey(t,e.models_)}),a)},getModelsByKey:function(e,t){for(var i=[],s=0;s<t.length;s++)""==e?i.push(t[s]):t[s].toLocaleUpperCase().indexOf(e.toLocaleUpperCase())>-1&&i.push(t[s]);return i},testGetModelsLength:function(e){var t=[];return e.forEach(function(e,i){var s=e.models.length;s&&t.push(s)}),t},getSupportedFn:function(){var e=this;Object(o._65)({},{errorHide:!1}).then(function(t){t.showsupporteddevices&&(t.notshowsupporteddevicelist.includes(location.host)&&(e.showSupport=!1),e.showSupport=!0)}).catch(function(e){})},setDefault:function(e){this.defaulttype=e,this.searchTxt2=e,this.protocolSelected=""},clearFn:function(){this.type="",this.defaulttype=""}},mounted:function(){var e=this;this.$nextTick(function(){e.getModelData(),e.getSupportedFn()})}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"model-select-comp"},[i("div",{staticClass:"model-cur-box"},[i("el-popover",{attrs:{placement:"bottom","visible-arrow":!1,"popper-class":"model-select-popover",width:"540",trigger:"click"},model:{value:e.showBox,callback:function(t){e.showBox=t},expression:"showBox"}},[i("div",{staticClass:"model-content model-selector"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"model-list"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:7}},[i("el-input",{ref:"searchInput1",attrs:{placeholder:e.lg.protocol,"prefix-icon":"search-icon base-icon",clearable:!0},model:{value:e.searchTxt1,callback:function(t){e.searchTxt1=t},expression:"searchTxt1"}}),e._v(" "),i("div",{staticClass:"list-protocol"},[i("el-scrollbar",{staticStyle:{height:"217px"}},[i("ul",{staticStyle:{"border-bottom":"1px dashed #ccc"}},e._l(e.filterProtocols,function(t,s){return i("li",{key:t.protocolname,staticClass:"item-protocol",class:{selected:e.protocolSelected==t.protocol}},[i("el-button",{staticClass:"model-select-option",attrs:{type:"text",id:"###"+t.id,title:t.protocolname},on:{click:function(i){return e.protocolSelectedFn(t)}}},[e._v(e._s(t.protocol))])],1)}),0)])],1)],1),e._v(" "),i("el-col",{attrs:{span:17}},[i("el-input",{ref:"searchInput2",attrs:{placeholder:e.lg.targetType,"prefix-icon":"search-icon base-icon",clearable:!0},model:{value:e.searchTxt2,callback:function(t){e.searchTxt2=t},expression:"searchTxt2"}}),e._v(" "),i("div",{staticClass:"list-model"},[i("el-scrollbar",{staticStyle:{height:"217px"}},[e._l(e.filterModels,function(t,s){return i("el-row",{key:"row-"+t.protocolname,staticStyle:{"border-bottom":"1px dashed #ccc"}},[i("h3",{attrs:{title:t.protocolname}},[e._v(e._s(t.protocol))]),e._v(" "),e._l(t.models,function(t,s){return i("el-col",{key:t,staticClass:"model-item",attrs:{span:6}},[i("el-button",{staticClass:"model-select-option",attrs:{type:"text"},on:{click:function(i){return e.modelSelectedFn(t)}}},[e._v(e._s(t))])],1)})],2)}),e._v(" "),1==e.filterModels.length&&0==e.filterModels[0].models.length?i("div",{staticClass:"el-table__empty-text"},[i("div",[e._v(e._s(e.lg.noData))])]):e._e()],2)],1)],1)],1)],1)]),e._v(" "),i("el-input",{staticClass:"select-input",attrs:{slot:"reference",placeholder:e.defaulttype?e.defaulttype:e.lg.select,readonly:"","suffix-icon":"0"},nativeOn:{click:function(t){return e.showModel.apply(null,arguments)}},slot:"reference",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),e.hideSevice?e._e():[e.showSupport?i("a",{staticClass:"ml10 link-btn ico-link",attrs:{href:"/devicelist.html",target:"_blank"}},[e._v(e._s(e.lg.supportedDevices)+" »")]):e._e(),e._v(" "),i("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.serverInfo,expression:"serverInfo"}],staticClass:"server-info mt5 no-bg",attrs:{type:"info",closable:!1,"show-icon":"",title:e.lg.serverInfo+": "+e.serverInfo}})]],2)])},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(e){i("QGxc")},null,null);t.default=u.exports},gnZr:function(e,t){},gonf:function(e,t){},h2kP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"translationauth",data:function(){return{dealer2Fm:{customerid:"",targetlocale:"en-us",expirationtime:"",showall:1},searchFm:{customerid:""},searchParams:{},showall:[[1,"all"],[0,"pending"]],dataI18n:[],activeName:"add",records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.dealer2Fm.customerid=e.customerid},selectedFnInSearchForm:function(e){this.searchFm.customerid=e.customerid,this.searchFm.customerid||this.searchFn()},searchFn:function(){this.start=0,this.searchParams=this.searchFm,this.getList()},tabClick:function(){},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(n._152)(a()({},this.dealer2Fm)).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.getList()}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.dealer2Fm.resetFields(),this.$refs.userTreeComp.clearFn(),this.dealer2Fm.expirationtime=""},checkParams:function(){return this.dealer2Fm.customerid&&/^\d{1,}$/.test(this.dealer2Fm.customerid)?""!=this.dealer2Fm.expirationtime||(this.$message.error(lg.expirationTimeNull),!1):(this.$message.error(lg.selectCustomer),!1)},getI18nData:function(){var e=this;Object(n._69)().then(function(t){e.dataI18n=t.record}).catch(function(){e.loading=!1})},getList:function(){var e=this;this.loading=!0,Object(n._153)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},removeAuth:function(e){var t=this;this.$confirm(lg.deauthorizeTips).then(function(i){Object(n._154)({id:e.id}).then(function(i){t.$message.success(lg.success),e.available=!1}).catch(function(){})}).catch(function(){})},fmtName:function(e,t,i,s){return e.targetusername+"("+e.targetuseraccount+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(i)},formatter_type:function(e,t,i,s){var a=this.showall.find(function(t,i,s){return t[0]==e.showall});return lg[a[1]]},formatter_sales:function(e,t,i,s){return e.sales?e.sales:"-"},formatter_available:function(e,t,i,s){return e.available?lg.yes:lg.no},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},setQuery:function(){var e=this.$route.query;e.account&&(this.dealer2Fm.account=e.account,this.searchFm.account=e.account,this.searchParams.account=e.account,this.$refs.userTreeComp.setCustomer(e.account),this.$refs.userTreeCompSearch.setCustomer(e.account)),e.customerid&&(this.dealer2Fm.customerid=e.customerid,this.searchFm.customerid=e.customerid,this.searchParams.customerid=e.customerid),this.getList()}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){this.getI18nData(),this.setQuery()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.translationAuthorize)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        内部说明："),i("br"),e._v("\n        给客户安排指配翻译工作，在此操作。"),i("br"),e._v("\n        而非到【Permission Management】中勾选。"),i("br"),e._v("\n        (其它：给客户开通OPEN API 也类似)\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.translationAuthorize,name:"add"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"dealer2Fm",attrs:{"show-message":!1,model:e.dealer2Fm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.languageSet,required:"",prop:"targetlocale"}},[i("el-select",{model:{value:e.dealer2Fm.targetlocale,callback:function(t){e.$set(e.dealer2Fm,"targetlocale",t)},expression:"dealer2Fm.targetlocale"}},e._l(e.dataI18n,function(e){return i("el-option",{key:e.locale,attrs:{value:e.locale,label:e.englishname}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.expiration,required:"",prop:"expirationtime"}},[i("el-date-picker",{attrs:{type:"date","value-format":"timestamp"},model:{value:e.dealer2Fm.expirationtime,callback:function(t){e.$set(e.dealer2Fm,"expirationtime",t)},expression:"dealer2Fm.expirationtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type,required:"",prop:"showall"}},[i("el-select",{model:{value:e.dealer2Fm.showall,callback:function(t){e.$set(e.dealer2Fm,"showall",t)},expression:"dealer2Fm.showall"}},e._l(e.showall,function(t,s){return i("el-option",{key:"showall-"+t[0],attrs:{value:t[0],label:e.lg[t[1]]}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"list"}},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeCompSearch",on:{selected:e.selectedFnInSearchForm}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:e.lg.aimCustomer,width:"138"}}),e._v(" "),i("el-table-column",{attrs:{prop:"lang",label:e.lg.languageSet,width:"90"}}),e._v(" "),i("el-table-column",{attrs:{prop:"showall",label:e.lg.type,formatter:e.formatter_type,width:"138"}}),e._v(" "),i("el-table-column",{attrs:{prop:"sales",label:e.lg.sales,formatter:e.formatter_sales,width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"available",label:e.lg.available,formatter:e.formatter_available,width:"90"}}),e._v(" "),i("el-table-column",{attrs:{prop:"expirationtime",label:e.lg.expiration,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",attrs:{href:"/i18n.jsp?language="+t.row.lang+"&showall="+t.row.showall,target:"_blank"}},[e._v(e._s(e.lg.view))]),e._v(" |\n              "),t.row.available?i("a",{staticClass:"link-btn",on:{click:function(i){return e.removeAuth(t.row)}}},[e._v(e._s(e.lg.deauthorize))]):i("span",[e._v("-")])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)],1)],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("pR7d")},null,null);t.default=c.exports},hG1a:function(e,t){},hePC:function(e,t){},hhhU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{batchRecharge:i("TBad").default},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e){var t=this;this.findObj("batchRechargeComp",this.$refs,function(){t.$refs.batchRechargeComp.setData(e)})},dialogCloseFn:function(){this.$refs.batchRechargeComp.reset()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchRecharge,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("batchRecharge",{ref:"batchRechargeComp",attrs:{dialog:!0},on:{hideDialog:function(t){return e.setVisible(!1)}}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},hlAS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{loading:!1,info:{}}},methods:{refreshFn:function(){this.getInfo()},getInfo:function(){var e=this;this.loading=!0,Object(s._87)({}).then(function(t){e.loading=!1,e.info=t.record}).catch(function(t){e.loading=!1})}},mounted:function(){var e=this;this.$nextTick(function(){e.getInfo()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"supplier-box"},[i("div",{staticClass:"title-box bg"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.serviceProvider))])]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"info-box"},[i("div",{staticClass:"head-line"}),e._v(" "),e.info.portrait?i("div",{staticClass:"info-head bg",style:"background-image:url("+e.info.portrait+")"}):e._e(),e._v(" "),i("p",{staticClass:"info-name"},[e._v(e._s(e.info.name))]),e._v(" "),i("div",{staticClass:"info-content"},[i("p",{staticClass:"info-word"},[i("i",{staticClass:"tel-icon base-icon"}),e._v("\n        "+e._s(e.info.phone||"-")+"\n        "),e.info.contact?[e._v("("+e._s(e.info.contact)+")")]:e._e()],2),e._v(" "),i("p",{staticClass:"info-word"},[i("i",{staticClass:"email-icon base-icon"}),e._v(" "+e._s(e.info.email||"-"))]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.info.webpage,expression:"info.webpage"}],staticClass:"info-word"},[i("i",{staticClass:"webpage-icon base-icon"}),e._v(" "),i("a",{attrs:{href:e.info.webpage,target:"_blank"}},[e._v(e._s(e.info.webpage))])]),e._v(" "),i("p",{staticClass:"info-word"},[i("i",{staticClass:"address-icon base-icon"}),e._v(" "+e._s(e.info.address||"-"))])])])])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("gonf")},null,null);t.default=n.exports},i3EA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("RmVr"),a=i("9j4I"),r=i("VHFF"),n=i("gyMJ"),o={name:"ogdatatransfer",data:function(){return{activeName:"og",transfertype:9,searchImei:"",records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],loading:!1,multipleSelection:[]}},components:{ogDataAdd:s.default,ogDataEdit:a.default,dataCardHistory:r.default},methods:{showAdd:function(){this.$refs.addComp.setVisible(!0),this.$refs.addComp.getBalance()},addSuccess:function(){this.getList()},tabClick:function(){"cardHistory"==this.activeName&&this.$refs.cardHistoryComp.getList()},indexMethod:function(e){return this.start+(e+1)},searchList:function(){if(this.start=0,this.searchImei=this.$trim(this.searchImei),""!=this.searchImei&&!/[a-zA-Z\d]{5,18}/.test(this.searchImei))return this.$message.error(lg.inputImeiLast5);this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._99)({transfertype:this.transfertype,start:this.start,count:this.pagesize,imei:this.searchImei}).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},batchEditSpeed:function(){for(var e=[],t=0,i=this.multipleSelection.length;t<i;t++)e.push(this.multipleSelection[t].imei);var s=e.length>0?e.join("\n"):"";this.editData(s)},editData:function(e){this.$refs.editComp.show(e)},editSuccessFn:function(){this.getList()},delRecord:function(e){var t=this,i=e.imei;if(!i)return this.$message.error(lg[10005]);var s=this;this.$confirm(lg.delRecord).then(function(){Object(n._97)({transfertype:t.transfertype,imei:i}).then(function(i){t.$message.success(lg.success),s.delArray(s.records,e)}).catch(function(){})}).catch(function(){})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},fmtTime:function(e,t,i,s){return this.utcToLocal(i)}},mounted:function(){this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.ogDataTransfer))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.ogDataTransfer,name:"og"}},[i("div",{staticClass:"pb10"},[i("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.batchEditSpeed}},[e._v("Batch edit speed")]),e._v(" "),i("el-input",{staticClass:"fr",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:e.lg.imei},on:{change:e.searchList},model:{value:e.searchImei,callback:function(t){e.searchImei=t},expression:"searchImei"}})],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"35"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"customeraccount",label:e.lg.account,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"ogtoken",label:"token"}}),e._v(" "),i("el-table-column",{attrs:{prop:"speedthreshold",label:e.lg.overspeedThreshold}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.editData(t.row.imei)}}},[e._v("Edit speed")]),e._v(" |\n              "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.delRecord(t.row)}}},[e._v(e._s(e.lg.delete))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.cardHistory,name:"cardHistory"}},[i("dataCardHistory",{ref:"cardHistoryComp"})],1)],1)],1)]),e._v(" "),i("ogDataAdd",{ref:"addComp",on:{addSuccess:e.addSuccess}}),e._v(" "),i("ogDataEdit",{ref:"editComp",on:{confirmCallback:e.editSuccessFn}})],1)},staticRenderFns:[]},c=i("VU/8")(o,l,!1,null,null,null);t.default=c.exports},idAz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("/a4m"),r=i("Rpa2"),n=i("iKHV"),o={name:"getcardback",data:function(){return{cardBackFm:{customerid:"",tocustomerid:"",pointtype:"1",remark:"",pointnumber:.5},newCard:0,newCardLifelong:0,annualCard:0,lifeLongCard:0,btnloading:!1,showTo:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id}},components:{userSelect:a.default,userTreeSelect:r.default},methods:{userSelected:function(e){this.cardBackFm.customerid=e,e?this.getPointInfo():this.resetBalance()},fromUserSelected:function(e){this.cardBackFm.customerid=e.customerid,e.customerid?this.getPointInfo():this.resetBalance()},toUserSelected:function(e){this.cardBackFm.tocustomerid=e.customerid},getPointInfo:function(){var e=this;Object(s._102)({customerid:this.cardBackFm.customerid}).then(function(t){e.newCard=t.importpoint,e.newCardLifelong=t.zsimportpoint,e.annualCard=t.monthpoint,e.lifeLongCard=t.lifelongpoint}).catch(function(e){})},onSubmit:function(){var e=this;if(this.checkParams()){var t=this.deepCopy(this.cardBackFm);this.btnloading=!0,Object(s._31)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.getPointInfo(),e.cardBackFm.remark=""}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"回收卡",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){return this.cardBackFm.customerid&&/^\d{1,}$/.test(this.cardBackFm.customerid)?!(!this.cardBackFm.pointnumber||!Object(n.e)(this.cardBackFm.pointnumber))||(this.$message.error(lg.invalidNumber),!1):(this.$message.error(lg.selectCustomer),!1)},resetBalance:function(){this.newCard=0,this.newCardLifelong=0,this.annualCard=0,this.lifeLongCard=0},fmReset:function(){this.$refs.cardBackFm.resetFields(),this.$refs.userSelectComp.clearFn(),this.cardBackFm.pointnumber=1,this.resetBalance()},showToFn:function(){this.showTo=!this.showTo,this.showTo||(this.cardBackFm.tocustomerid=null)}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.getCardBack))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box getcardback"},[i("el-form",{ref:"cardBackFm",attrs:{model:e.cardBackFm,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": ",required:"",prop:""}},[e.showTo?[i("userTreeSelect",{ref:"userTreeCompFrom",on:{selected:e.fromUserSelected}})]:[i("userSelect",{ref:"userSelectComp",on:{selected:e.userSelected}})],e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:1==e.loginId,expression:"loginId == 1"}],attrs:{href:"javascript://"},on:{click:e.showToFn}},[e._v("回收给我司销售？")]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:1==e.loginId,expression:"loginId == 1"}],attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            · 仅admin可见"),i("br"),e._v("\n            · 只可回收给我司销售"),i("br"),e._v("\n            · 且from与to需要有上下级关系（可跨级）\n          ")]),e._v(" "),i("i",{staticClass:"el-icon-info"})])],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.cardType+": ",required:"",prop:"pointtype"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.cardBackFm.pointtype,callback:function(t){e.$set(e.cardBackFm,"pointtype",t)},expression:"cardBackFm.pointtype"}},[e._v(e._s(e.lg.newCard)+"("+e._s(e.newCard)+")")]),e._v(" "),i("el-radio",{attrs:{label:"4"},model:{value:e.cardBackFm.pointtype,callback:function(t){e.$set(e.cardBackFm,"pointtype",t)},expression:"cardBackFm.pointtype"}},[e._v(e._s(e.lg.newCardLifelong)+"("+e._s(e.newCardLifelong)+")")]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.cardBackFm.pointtype,callback:function(t){e.$set(e.cardBackFm,"pointtype",t)},expression:"cardBackFm.pointtype"}},[e._v(e._s(e.lg.annualCard)+"("+e._s(e.annualCard)+")")]),e._v(" "),i("el-radio",{attrs:{label:"3"},model:{value:e.cardBackFm.pointtype,callback:function(t){e.$set(e.cardBackFm,"pointtype",t)},expression:"cardBackFm.pointtype"}},[e._v(e._s(e.lg.lifeLongCard)+"("+e._s(e.lifeLongCard)+")")])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showTo,expression:"showTo"}],attrs:{label:"转给我司销售: ",required:"",prop:""}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.toUserSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number+": ",required:"",prop:"pointnumber"}},[i("el-input-number",{attrs:{min:.5,size:"medium"},model:{value:e.cardBackFm.pointnumber,callback:function(t){e.$set(e.cardBackFm,"pointnumber",t)},expression:"cardBackFm.pointnumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+": ",prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.cardBackFm.remark,callback:function(t){e.$set(e.cardBackFm,"remark",t)},expression:"cardBackFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("RfSy")},null,null);t.default=c.exports},j18i:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("//Fk"),a=i.n(s),r=i("mvHQ"),n=i.n(r),o=i("NC6I"),l=i.n(o),c=i("gyMJ"),u=i("KvKp"),m={data:function(){return{listLoading:!1,isloading:!1,retryLoading:0,cmdActive:"send",cmdlist:[],filterCmd:"",filterMoreCmd:"",start:0,pagesize:5,total:0,loading:!1,cmdhistory:[],targetname:"",comand:{},deviceid:0,cmd_fm:{cmd:"",deviceid:0,password:""},cmd1_fm:{phone1:"",phone2:"",phone3:"",deviceid:0},cmd2_fm:{cmd:"",password:"",deviceid:0,pwd:""},cmd4_fm:{},widowshow:0,_reflash_cmd_sos:null}},computed:{auth:function(){return this.$store.state.auth},searchCmd:function(){var e=this.filterCmd;return"CUSTOMER"==this.filterCmd&&(e=this.$trim(this.filterMoreCmd)),e},cmdlistObj:function(){for(var e={},t=this.cmdlist,i=0,s=t.length;i<s;i++)e[t[i].cmd+""]=t[i];return e}},methods:{showCommand:function(e,t){e?(this.deviceid=e,this.targetname=t,"send"==this.cmdActive?this.getCommandData():this.commandHistory()):this.$message.error(lg[10005])},getCommandData:function(){var e=this,t=this;this.listLoading=!0,Object(c._33)({deviceid:this.deviceid}).then(function(i){t.cmdlist=i.records,i.records.length>0?t.itemClick(i.records[0]):t.cmdlist=[],e.listLoading=!1}).catch(function(i){t.cmdlist=[],e.listLoading=!1})},onSubmit:function(){var e=this,t=this;if(4==this.widowshow){for(var i=0,s=this.comand.formdata.length;i<s;i++)if(this.comand.formdata[i].require&&!this.$trim(this.cmd4_fm[this.comand.formdata[i].formname])){this.$message.error(lg[10005]+"("+this.comand.formdata[i].title+")");break}if(i!=s)return!1;this.cmd_fm.param=n()(this.cmd4_fm)}if(""!=this.$trim(this.cmd_fm.cmd)){if(2==this.widowshow||3==this.widowshow){if(""==this.$trim(this.cmd_fm.password))return void t.$message.error(lg.inputPwd);this.cmd_fm.pwd=l()(this.cmd_fm.password)}this.cmd_fm.deviceid=this.deviceid,this.isloading=!0,Object(c._125)(this.cmd_fm,{errorHide:!0}).then(function(i){t.isloading=!1,0==i.errorcode?t.commandStatus(i.cmdid,!1):20018==i.errorcode?e.$message.error(lg[i.errorcode]+(i.hearttime?" (hearttime: "+e.utcToLocal(i.hearttime)+")":"")):e.$message.error(lg[i.errorcode]+(i.msg?" ("+i.msg+")":""))}).catch(function(e){console.log(e),t.isloading=!1}),this.countEvent({action:"指令发送",opt_label:"点击",val:"Dealer2"})}else t.$message.error(lg.inputCommand)},onSubmit1:function(){var e=this.$trim(this.cmd1_fm.phone1)+","+this.$trim(this.cmd1_fm.phone2)+","+this.$trim(this.cmd1_fm.phone3),t=this;Object(c._133)({deviceid:this.deviceid,sos:e}).then(function(e){t.commandStatus(e.cmdid,!0)}).catch(function(e){console.log(e)}),this.countEvent({action:"SOS指令发送",opt_label:"点击",val:"Dealer2"})},getCommandFm:function(){return"sos"==this.comand.cmd.toLowerCase()?1:"customer"==this.comand.cmd.toLowerCase()?2:1==this.comand.needpasswd?3:void 0!==this.comand.formdata&&this.comand.formdata.length>0?4:0},itemClick:function(e){this.isloading=!1,this.comand=e,this.widowshow=this.getCommandFm(),this.cmd_fm.cmd=e.cmd,2!=this.widowshow&&3!=this.widowshow||(this.cmd_fm.password=""),2==this.widowshow&&(this.cmd_fm.cmd=""),1==this.widowshow&&this.getSosNum(this.deviceid),4==this.widowshow&&this.initFm4()},initFm4:function(){var e=this;this.comand.formdata.forEach(function(t){e.$set(e.cmd4_fm,t.formname,"")})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.commandHistory()},getSosNum:function(e){var t=this;Object(c._63)({deviceid:e}).then(function(e){var i=e.sos.split(",");t.cmd1_fm.phone1=i[0]?i[0]:"",t.cmd1_fm.phone2=i[1]?i[1]:"",t.cmd1_fm.phone3=i[2]?i[2]:""}).catch(function(e){console.log(e)})},commandHistory:function(){if("history"==this.cmdActive){var e=this;Object(c._32)({deviceid:this.deviceid,cmdinput:this.searchCmd,start:e.start,count:e.pagesize}).then(function(t){e.total=t.totalcount,e.cmdhistory=t.records}).catch(function(e){console.log(e)})}},searchList:function(){this.filterCmd;if("CUSTOMER"==this.filterCmd&&!this.$trim(this.filterMoreCmd))return this.$message.error(lg.inputCommand);this.start=0,this.commandHistory()},commandStatus:function(e,t){var i=this;if(0==e)this.$message({message:lg.sosSetSuccess,type:"success"});else{i.loading=!0,clearTimeout(i._reflash_cmd_sos);var s=15;!function a(){--s>0&&(i._reflash_cmd_sos=setTimeout(a,2e3)),Object(c._34)({cmdid:e}).then(function(e){if(s<1)return i.$message({showClose:!0,message:lg.responseTimeout,type:"error"}),void(i.loading=!1);5==e.record.status&&(i.loading=!1,clearTimeout(i._reflash_cmd_sos),t?i.$message({showClose:!0,message:lg.sosSetSuccess,type:"success"}):i.$msgbox({title:lg.responseMsg,message:'<p class="f13 lh20" style="word-wrap:break-word;word-break:break-all;">'+Object(u.h)(e.record.response)+"</p>",type:"info",dangerouslyUseHTMLString:!0,duration:0,showConfirmButton:!1}))}).catch(function(e){i.loading=!1,console.log(e)})}()}},retryCmd:function(e,t){var i=this;return this.cmdlistObj[e]?1==this.cmdlistObj[e].needpasswd?this.showPassWordTips(e):(this.retryLoading=t,void this.retryCmdSubmit(e).then(function(e){i.retryLoading=0}).catch(function(e){i.retryLoading=0})):this.showPassWordTips(e)},showPassWordTips:function(e){var t=this,i=this;this.$prompt(lg.commandTips,"",{closeOnClickModal:!1,closeOnPressEscape:!1,showCancelButton:!0,confirmButtonText:lg.send,cancelButtonText:lg.cancel,inputErrorMessage:lg.inputPwd,inputPlaceholder:lg.pass,inputValidator:function(e){if(!e)return lg.inputPwd},beforeClose:function(s,a,r){if("confirm"==s){var n=i.$trim(a.inputValue);a.confirmButtonLoading=!0,t.retryCmdSubmit(e,n).then(function(e){r(),a.confirmButtonLoading=!1}).catch(function(e){a.confirmButtonLoading=!1})}else r()}}).then(function(e){e.value}).catch(function(e){})},retryCmdSubmit:function(e,t){var i=this;return new a.a(function(s,a){Object(c._125)({deviceid:i.deviceid,cmd:e,password:t},{errorHide:!0}).then(function(e){0==e.errorcode?(i.commandStatus(e.cmdid,!1),s(e)):20018==e.errorcode?(i.$message.error(lg[e.errorcode]+(e.hearttime?" (hearttime: "+i.utcToLocal(e.hearttime)+")":"")),a(e)):(i.$message.error(lg[e.errorcode]+(e.msg?" ("+e.msg+")":"")),a(e))}).catch(function(e){a(e)})})},setVisible:function(e){}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"command-dialog-box"},[i("el-tabs",{on:{"tab-click":e.commandHistory},model:{value:e.cmdActive,callback:function(t){e.cmdActive=t},expression:"cmdActive"}},[i("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:e.lg.sendCommand,name:"send"}},[i("div",{staticClass:"send-command-content clearfix"},[i("div",{staticClass:"send-command-left fl"},[i("div",{staticClass:"arr-box-title el-icon-caret-bottom"},[e._v(e._s(e.lg.commandList))]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}]},[e._l(e.cmdlist,function(t,s){return i("div",{staticClass:"item-type",class:{"item-type-cur":e.comand==t},on:{click:function(i){return e.itemClick(t)}}},[e._v("\n                  "+e._s(t.text)+"\n                ")])}),e._v(" "),0===e.cmdlist.length?i("div",{staticClass:"el-table__empty-text w100"},[i("div",[e._v(e._s(e.lg.noData))])]):e._e()],2)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cmdlist.length>0,expression:"cmdlist.length > 0"}],staticClass:"send-command-right fl"},[i("div",{staticClass:"command-breadcrumb"},[e._v(">> "+e._s(e.comand.text))]),e._v(" "),i("div",{staticClass:"command-form"},[i("div",{},[i("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.lg.targetName))]),e._v(" "),i("div",{staticClass:"el-form-item__content"},[i("div",{staticClass:"el-input is-disabled",staticStyle:{width:"180px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.targetname,expression:"targetname"}],staticClass:"el-input__inner",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.targetname},on:{input:function(t){t.target.composing||(e.targetname=t.target.value)}}})])])]),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:0==e.widowshow,expression:"widowshow==0"}],attrs:{inline:!0,model:e.cmd_fm}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:e.lg.command}},[i("el-input",{staticStyle:{width:"180px"},attrs:{disabled:!0},model:{value:e.cmd_fm.cmd,callback:function(t){e.$set(e.cmd_fm,"cmd",t)},expression:"cmd_fm.cmd"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.isloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.send))])],1)],1),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:3==e.widowshow,expression:"widowshow==3"}],attrs:{inline:!0,model:e.cmd_fm}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:e.lg.command}},[i("el-input",{staticStyle:{width:"180px"},attrs:{disabled:!0},model:{value:e.cmd_fm.cmd,callback:function(t){e.$set(e.cmd_fm,"cmd",t)},expression:"cmd_fm.cmd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.pass,required:""}},[i("el-input",{staticStyle:{width:"180px"},attrs:{type:"password"},model:{value:e.cmd_fm.password,callback:function(t){e.$set(e.cmd_fm,"password",t)},expression:"cmd_fm.password"}}),e._v(" "),i("p",{staticStyle:{"line-height":"16px",color:"#a3a3a3"}},[e._v(e._s(e.lg.commandTips))])],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",loading:e.isloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.send))])],1)],1),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.widowshow,expression:"widowshow==1"}],attrs:{inline:!0,model:e.cmd1_fm}},[i("el-form-item",{attrs:{label:e.lg.phone1}},[i("el-input",{staticStyle:{width:"180px"},model:{value:e.cmd1_fm.phone1,callback:function(t){e.$set(e.cmd1_fm,"phone1",t)},expression:"cmd1_fm.phone1"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.phone2}},[i("el-input",{staticStyle:{width:"180px"},model:{value:e.cmd1_fm.phone2,callback:function(t){e.$set(e.cmd1_fm,"phone2",t)},expression:"cmd1_fm.phone2"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.phone3}},[i("el-input",{staticStyle:{width:"180px"},model:{value:e.cmd1_fm.phone3,callback:function(t){e.$set(e.cmd1_fm,"phone3",t)},expression:"cmd1_fm.phone3"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.isloading},on:{click:e.onSubmit1}},[e._v(e._s(e.lg.send))])],1)],1),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:2==e.widowshow,expression:"widowshow==2"}],attrs:{inline:!0,model:e.cmd_fm}},[i("el-form-item",{attrs:{label:e.lg.command,required:""}},[i("el-input",{staticStyle:{width:"180px"},model:{value:e.cmd_fm.cmd,callback:function(t){e.$set(e.cmd_fm,"cmd",t)},expression:"cmd_fm.cmd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.pass,required:""}},[i("el-input",{staticStyle:{width:"180px"},attrs:{type:"password"},model:{value:e.cmd_fm.password,callback:function(t){e.$set(e.cmd_fm,"password",t)},expression:"cmd_fm.password"}}),e._v(" "),i("p",{staticStyle:{"line-height":"16px",color:"#a3a3a3"}},[e._v(e._s(e.lg.commandTips))])],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",loading:e.isloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.send))])],1)],1),e._v(" "),i("el-form",{directives:[{name:"show",rawName:"v-show",value:4==e.widowshow,expression:"widowshow==4"}],attrs:{inline:!0,model:e.cmd4_fm}},[e._l(e.comand.formdata,function(t){return[i("el-form-item",{attrs:{label:t.title,required:t.require}},[i("el-input",{staticStyle:{width:"180px"},attrs:{type:t.formtype,maxlength:t.maxlength},model:{value:e.cmd4_fm[t.formname],callback:function(i){e.$set(e.cmd4_fm,t.formname,i)},expression:"cmd4_fm[row.formname]"}}),e._v(" "),i("span",[e._v(e._s(t.tip))])],1)]}),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"warning",loading:e.isloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.send))])],1)],2)],1)])])]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.cmdHistory,name:"history"}},[i("div",{staticClass:"cmd-history-search-box"},[i("el-select",{model:{value:e.filterCmd,callback:function(t){e.filterCmd=t},expression:"filterCmd"}},[i("el-option",{attrs:{value:"",label:e.lg.all}}),e._v(" "),e._l(e.cmdlist,function(e,t){return i("el-option",{key:e.cmd,attrs:{label:e.text,value:e.cmd}})})],2),e._v(" "),"CUSTOMER"==e.filterCmd?i("el-input",{staticClass:"search-cmd-input",attrs:{placeholder:e.lg.command},model:{value:e.filterMoreCmd,callback:function(t){e.filterMoreCmd=t},expression:"filterMoreCmd"}}):e._e(),e._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:e.searchList}},[e._v(e._s(e.lg.search))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                注："),i("br"),e._v("\n                1 我司销售可查看【全部】指令历史；"),i("br"),e._v("\n                2 其他用户可查看除1外的记录，包括上级所发；\n              ")])])],1),e._v(" "),i("div",{staticClass:"command-history-content"},[e._l(e.cmdhistory,function(t,s){return i("div",{staticClass:"command-history-item"},[i("div",{staticClass:"cmd-history-num"},[i("span",{staticClass:"span-NO"},[e._v(e._s(e.start+s+1))])]),e._v(" "),i("div",{staticClass:"cmd-status",class:"5"==t.status?"el-icon-check":"el-icon-close"}),e._v(" "),i("div",{staticClass:"cmd-history-key"},[e._v(" "+e._s(e.cmdlistObj[t.cmd]?e.cmdlistObj[t.cmd].text:t.cmd)+"\n              "),e._v(" "),-1==t.cmd.indexOf("SOS")?[e._v("\n                ["),i("el-button",{staticClass:"retry-cmd-btn",attrs:{type:"text",loading:e.retryLoading==e.start+s+1},on:{click:function(i){return e.retryCmd(t.cmd,e.start+s+1)}}},[e._v(e._s(e.lg.retry))]),e._v("]\n              ")]:e._e()],2),e._v(" "),i("div",{staticClass:"cmd-history-desc"},[e._v("\n                ["+e._s(e.utcToLocal(t.receivetime))+"] "+e._s(t.response)+"\n                "),t.issalesend?i("span",{staticClass:"issalesend"},[e._v("我司销售所发")]):e._e()])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block mt20 tc"},[i("el-pagination",{attrs:{background:"","current-page":1,"page-size":e.pagesize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.total<=0,expression:"total<=0"}],staticClass:"no-history el-table__empty-text"},[i("div",[e._v(e._s(e.lg.noData))])])],2)])],1)],1)},staticRenderFns:[]};var h=i("VU/8")(m,d,!1,function(e){i("EpMq")},null,null);t.default=h.exports},jWnQ:function(e,t){},jb42:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s=["",lg.gradeDealer,lg.gradeUser,lg.gradeVirtual]},jj5K:function(e,t){},joG1:function(e,t){},k6qI:function(e,t){},kAwz:function(e,t){},kHQY:function(e,t){},kIuH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{selectObj:[],selectKeys:[],filterText:"",showTree:!1,hideFlag:!0}},components:{tree:i("zAgK").default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{setData:function(e){e._name=e.name,this.selectObj=[e],this.selectKeys=[e.id],this.setTreeKeys()},toggleTree:function(){if(this.showTree=!this.showTree,this.showTree){var e=this;setTimeout(function(){e.$refs.searchInput.focus()},100)}},blurFn:function(e){var t=this;setTimeout(function(){t.hideFlag&&(document.getElementsByClassName("user-tree-popper")[0].style.display="none",t.showTree=!1)},150)},closeTag:function(e){this.selectObj.splice(this.selectObj.findIndex(function(t){return t.id===e.id}),1),this.selectKeys=this.delArray(this.selectKeys,e.id),this.setTreeKeys()},expanded:function(){this.$refs.searchInput.focus(),this.hideFlag=!1;var e=this;setTimeout(function(){e.hideFlag=!0},300)},collapse:function(){this.$refs.searchInput.focus(),this.hideFlag=!1;var e=this;setTimeout(function(){e.hideFlag=!0},300)},handleCheckChange:function(e){this.selectObj=e.obj,this.selectKeys=e.key,this.$emit("checked",this.selectKeys),this.$refs.searchInput.focus(),this.hideFlag=!1;var t=this;setTimeout(function(){t.hideFlag=!0},300)},querySearchAsync:function(e,t){var i=this.$trim(e);if(""==i)return t([]);Object(s.T)({query:i,num:this.num,rootid:this.loginId}).then(function(e){for(var i=e.record,s=[],a=0,r=i.length;a<r;a++)s.push({index:i[a].index,value:i[a].value,value2:i[a].value+(i[a].account?"("+i[a].account+")":""),name:i[a].value,account:i[a].account,customerid:i[a].id,roletype:i[a].roletype,customers:i[a].index});t(s)}).catch(function(e){})},setTreeScrollPos:function(){setTimeout(function(){var e=document.querySelector(".tree-box"),t=document.querySelector(".el-tree-node.is-current.is-focusable.is-checked").offsetTop,i=e.offsetHeight,s=e.scrollTop;(t<s||t>s+i)&&(e.scrollTop=t-30)},300)},handleSelect:function(e){this.$refs.treeComp.selectTreeNode({customers:e.index},!0),this.setTreeScrollPos()},setTreeKeys:function(){var e=this;this.findObj("treeComp",this.$refs,function(){e.$refs.treeComp.setCheckedKeys(e.selectKeys)})},clearFn:function(){this.selectObj=[],this.selectKeys=[],this.setTreeKeys(),this.filterText="",this.showTree=!1,this.hideFlag=!0}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-tree-checkbox"},[i("div",{staticClass:"user-cur-box el-input__inner",on:{click:e.toggleTree}},[e._l(e.selectObj,function(t){return[i("el-tag",{staticClass:"ml5 tagClass",attrs:{closable:"",type:"info",effect:"dark",size:"small"},on:{close:function(i){return e.closeTag(t)}}},[e._v(e._s(t._name))])]}),e._v(" "),i("i",{staticClass:"icon-select",class:e.showTree?"el-icon-arrow-up":"el-icon-arrow-down"})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"select-box"},[i("div",[i("el-autocomplete",{ref:"searchInput",staticStyle:{width:"100%"},attrs:{"trigger-on-focus":!1,"fetch-suggestions":e.querySearchAsync,placeholder:e.lg.account+"/"+e.lg.name,"popper-class":"user-tree-popper user-autocomplete"},on:{select:e.handleSelect,blur:function(t){return e.blurFn(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[i("i",{staticClass:"user-icon",class:"user-icon-"+s.roletype}),e._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"s-name"},[e._v(e._s(s.name))]),e._v(" "),i("span",{staticClass:"s-account"},[e._v(e._s(s.account))])])]}}]),model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),e._v(" "),i("div",{staticClass:"tree-box"},[i("tree",{ref:"treeComp",attrs:{showCheckbox:!0},on:{expanded:e.expanded,collapse:e.collapse,checkChange:e.handleCheckChange}})],1)])])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("mRMY")},null,null);t.default=n.exports},kPWw:function(e,t){},kWfB:function(e,t){},l7LV:function(e,t){},lx5D:function(e,t){},mClu:function(e,t,i){var s=i("kM2E");s(s.S+s.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},mRMY:function(e,t){},meGG:function(e,t){},mpEa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"ruleApply",data:function(){return{dealer2Fm:{customerid:"",templateid:"",roletype:0},searchFm:{customerid:""},searchParams:{},allRules:{},rulesOfRole:[],activeName:"add",records:[],total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.dealer2Fm.customerid=e.customerid,this.dealer2Fm.customerid?e.roletype!==this.dealer2Fm.roletype&&(this.dealer2Fm.roletype=e.roletype,this.dealer2Fm.templateid="",this.rulesOfRole=this.getRulesByRoleType(e.roletype)):(this.dealer2Fm.roletype=0,this.rulesOfRole=this.allRules)},selectedFnInSearchForm:function(e){this.searchFm.customerid=e.customerid,this.searchFm.customerid||this.searchFn()},searchFn:function(){this.start=0,this.searchParams=this.searchFm,this.getList()},tabClick:function(){},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(n.d)(a()({},this.dealer2Fm)).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.getList()}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.dealer2Fm.resetFields(),this.$refs.userTreeComp.clearFn(),this.dealer2Fm.expirationtime=""},checkParams:function(){return this.dealer2Fm.customerid&&/^\d{1,}$/.test(this.dealer2Fm.customerid)?""!=this.dealer2Fm.templateid||(this.$message.error(lg.templateNull),!1):(this.$message.error(lg.selectCustomer),!1)},getRuleList:function(){var e=this;Object(n.c)().then(function(t){e.allRules=t.record,e.rulesOfRole=e.allRules}).catch(function(){e.loading=!1})},getRulesByRoleType:function(e){var t=[];return this.allRules.forEach(function(i,s){i.customertype==e&&1==i.available&&t.push(i)}),t},getList:function(){var e=this;this.loading=!0,Object(n.b)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},removeAuth:function(e){var t=this;this.$confirm(lg.deauthorizeTips).then(function(i){Object(n.a)({customerid:e.customerid}).then(function(i){t.$message.success(lg.success),e.available=!1}).catch(function(){})}).catch(function(){})},fmtName:function(e,t,i,s){return e.customeraccount+" ("+e.customeraccount+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(e.updatetime)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getRuleList(),this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rule-use h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.permissionruleuse))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.permissionruleuse,name:"add"}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"dealer2Fm",attrs:{"show-message":!1,model:e.dealer2Fm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permissionRule,required:"",prop:"templateid"}},[i("el-select",{model:{value:e.dealer2Fm.templateid,callback:function(t){e.$set(e.dealer2Fm,"templateid",t)},expression:"dealer2Fm.templateid"}},e._l(e.rulesOfRole,function(e){return i("el-option",{key:e.templateid,attrs:{value:e.templateid,label:e.templatename}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"list"}},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeCompSearch",on:{selected:e.selectedFnInSearchForm}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  上级可以查看下级的操作记录（也即绑定记录）。\n                ")])])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.aimCustomer,formatter:e.fmtName,width:"400"}}),e._v(" "),i("el-table-column",{attrs:{prop:"templatename",label:e.lg.rulename}}),e._v(" "),i("el-table-column",{attrs:{prop:"updatetime",label:e.lg.updateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.removeAuth(t.row)}}},[e._v(e._s(e.lg.cancel))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)],1)],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("HMEC")},null,null);t.default=c.exports},"n5+R":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["account","passwd"],data:function(){return{customerInfo:{},deviceVisible:!1,cardVisible:!1,batchMoveVisible:!1}},computed:{auth:function(){return this.$store.state.auth},loginId:function(){return this.$store.state.loginId}},components:{addDevice:function(){return i.e(110).then(i.bind(null,"3A2d")).catch()},movePoint:function(){return i.e(6).then(i.bind(null,"fvYT")).catch()},batchSale:function(){return i.e(99).then(i.bind(null,"2En/")).catch()},batchMove:function(){return i.e(104).then(i.bind(null,"IKuJ")).catch()},uploadComp:function(){return i.e(84).then(i.bind(null,"DReV")).catch()},searchComp:function(){return i.e(2).then(i.bind(null,"Ghwc")).catch()}},methods:{continueAdd:function(){this.$emit("cbContinueAdd")},copyAccount:function(){return lg.account+":"+this.account+","+lg.pass+":"+this.passwd},setCustomerInfo:function(e){this.customerInfo=e},showUserInSearchDialog:function(){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(this.customerInfo.account)},showDevice:function(){this.deviceVisible=!0;var e=this;this.findObj("addDeviceComp",this.$refs,function(){e.$refs.addDeviceComp.init(e.customerInfo.id,e.customerInfo.name)})},showMovePoint:function(){this.cardVisible=!0;var e=this;this.findObj("movePointComp",this.$refs,function(){e.$refs.movePointComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},moveSuccess:function(){this.cardVisible=!1},showBatchSale:function(){var e=this;this.findObj("batchSaleComp",this.$refs,function(){e.$refs.batchSaleComp.setVisible(!0),e.$refs.batchSaleComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},showBatchMove:function(){this.batchMoveVisible=!0;var e=this;this.findObj("batchMoveComp",this.$refs,function(){e.$refs.batchMoveComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},moveDeviceSuccess:function(){this.batchMoveVisible=!1},setDataAfterUpload:function(e){}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-result"},[i("div",{staticClass:"title"},[i("i",{staticClass:"ico ico-ok"}),e._v(" "),i("h3",[e._v(e._s(e.lg.addCustomer+": "+e.lg.success))])]),e._v(" "),i("div",{staticClass:"mb20 tc"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.continueAdd()}}},[e._v(e._s(e.lg.continueTo))])],1),e._v(" "),i("div",{staticClass:"info"}),e._v(" "),i("div",{staticClass:"upload",staticStyle:{"border-top":"1px solid #E8E9E9",padding:"10px 0 0"}},[i("div",{staticStyle:{"text-align":"center"}},[i("span",[e._v(e._s(e.lg.portrait)+":")]),e._v(" "),i("uploadComp",{ref:"imgUploadComp",staticStyle:{margin:"auto"},attrs:{targetUrl:"/api2/customer/portrait/upload",customerid:e.customerInfo.id,initOriginalurl:e.customerInfo.portrait,initThumbnailurl:e.customerInfo.thumbnailportrait},on:{setData:e.setDataAfterUpload}})],1)]),e._v(" "),i("div",{staticClass:"detail tc"},[i("div",{staticClass:"mb15"},[i("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.account)+": ")]),e._v(" "),i("a",{staticClass:"link-btn",on:{click:e.showUserInSearchDialog}},[e._v(e._s(e.customerInfo.account))]),e._v(" "),i("label",{staticClass:"detail-label ml20"},[e._v(e._s(e.lg.pass)+": ")]),e._v(e._s(e.customerInfo.passwd)+"\n      "),i("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.copy,expression:"lg.copy"}],staticClass:"copy-btn el-icon-copy-document add-user-success-copy",attrs:{"data-clipboard-text":e.lg.account+": "+e.$trim(e.customerInfo.account)+","+e.lg.pass+": "+e.$trim(e.customerInfo.passwd)},on:{click:function(t){return e.copyFn(".add-user-success-copy")}}})]),e._v(" "),"1"==e.customerInfo.type?i("div",{staticClass:"option"},[e.auth.hasAuth2ImportDevice?[i("a",{staticClass:"link-btn",on:{click:e.showDevice}},[e._v(e._s(e.lg.addTarget))]),e._v(" |\n      ")]:e._e(),e._v(" "),e.customerInfo.pid==e.loginId?[i("a",{staticClass:"link-btn",on:{click:e.showMovePoint}},[e._v(e._s(e.lg.movePoint))]),e._v(" |\n      ")]:e._e(),e._v(" "),i("a",{staticClass:"link-btn",on:{click:e.showBatchSale}},[e._v(e._s(e.lg.batchSale))]),e._v(" |\n      "),i("a",{staticClass:"link-btn",on:{click:e.showBatchMove}},[e._v(e._s(e.lg.batchMove))])],2):e._e()]),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addTarget,visible:e.deviceVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.deviceVisible=t}}},[i("addDevice",{ref:"addDeviceComp"})],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.transferCard,visible:e.cardVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.cardVisible=t}}},[i("movePoint",{ref:"movePointComp",attrs:{hidetitle:!0},on:{cb:e.moveSuccess}})],1),e._v(" "),i("batchSale",{ref:"batchSaleComp"}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.moveTarget,visible:e.batchMoveVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.batchMoveVisible=t}}},[i("batchMove",{ref:"batchMoveComp",on:{moveSuccess:e.moveDeviceSuccess}})],1),e._v(" "),i("searchComp",{ref:"searchComp"})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},nGIE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={name:"importblacklistdevice",data:function(){return{importFm:{customerid:"",devicetype:"",imeis:""},customername:"",modelArr:[],btnLoading:!1}},components:{userTreeSelect:s.default},computed:{auth:function(){return this.$store.state.auth}},methods:{getModelData:function(){var e=this;Object(a._9)({}).then(function(t){e.modelArr=t.ourtype}).catch(function(e){})},userSelected:function(e){this.importFm.customerid=e.customerid,this.customername=e.name},submitFn:function(){var e=this,t=this.checkParams();t&&(this.btnLoading=!0,Object(a._71)(t).then(function(t){e.btnLoading=!1,t.total==t.successnum?e.$message.success(lg.importDeviceAllSuccess.replace("{total}",t.total)):e.$message({type:"success",duration:0,showClose:!0,dangerouslyUseHTMLString:!0,message:lg.importBlacklistDeviceResult.replace("{total}",t.total).replace("{successnum}",t.successnum).replace("{exist}",t.existnum).replace("{existed}",t.existed||"-").replace("{unblocked}",t.unblocked||"-")}),e.resetFm()}).catch(function(t){e.btnLoading=!1}))},resetFm:function(){this.$refs.importFm.resetFields()},checkParams:function(){var e=this.$trim(this.importFm.imeis);if(!this.importFm.devicetype)return this.$message.error(lg.selectTargetType),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;for(var t=this.formatImeis(e),i=[],s=/(^\d{7,15}$)/,a=0;a<t.length;a++){var r=this.$trim(t[a]);if(i.push(r),!s.test(r))return this.$message.error(r+":"+lg[20053]),!1}return{customerid:this.importFm.customerid,devicetype:this.importFm.devicetype,imeis:i.join(",")}}},mounted:function(){this.getModelData()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.importBlacklistDevice)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("允许黑名单中的设备导入到平台，"),i("br"),e._v("导入后默认为过期"),i("br"),e._v("(故此处的导入不消耗卡)"),i("br"),i("br"),e._v("\n        注："),i("br"),e._v("\n        1 仅我司设备才可能进入黑名单，非我司设备 直接导入平台即可。"),i("br"),e._v("\n        2 此为导入设备，而非导入添加名单"),i("br"),e._v("\n        (添加黑名单：是系统自己计算的，而非导入的)\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"importFm",attrs:{"show-message":!1,model:e.importFm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.userSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.targetType,required:"",prop:"devicetype"}},[i("el-select",{model:{value:e.importFm.devicetype,callback:function(t){e.$set(e.importFm,"devicetype",t)},expression:"importFm.devicetype"}},e._l(e.modelArr,function(e){return i("el-option",{key:e.devicetype,attrs:{label:e.devicetype,value:e.devicetype}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",rows:6},on:{blur:function(t){return e.trimImeiInput("importFm","imeis")}},model:{value:e.importFm.imeis,callback:function(t){e.$set(e.importFm,"imeis",t)},expression:"importFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.oneImeiOneLine))])])],2)],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},noE1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),r=(i("gyMJ"),{props:["source"],data:function(){return{menuScrollHeight:0,searchKey:"",tabType:["All","Admin","Sales","Customer"],loading:!1,toggleTypeArr:[],functionWorkData:[],functionWorkIds:[],curData:{},storageFunctions:{},filterType:"0",searchResults:[]}},computed:{showFilterType:function(){return this.myFunctions.length>9&&this.roleid<3},packdataAll:function(){var e=this;if(this.permission){var t=[],i=void 0;return this.configArr.forEach(function(s){i=s.data.filter(function(t){return e.permission&&e.permission[t.permission]}),t.push({type:s.type,name:s.name,data:i})}),t}},packdata:function(){var e=this;if(this.permission){var t=[],i=void 0;return this.configArr.forEach(function(s){s.data.length&&(s.data=s.data.sort(function(e,t){return e.indexorder-t.indexorder})),i=s.data.filter(function(t){return e.permission&&e.permission[t.permission]&&(e.inArray(t.role,parseInt(e.filterType))||0==e.filterType||!e.showFilterType)&&e.inSearchResult(t.permission)}),t.push({type:s.type,name:s.name,data:i})}),t}},myFunctions:function(){var e=this;if(!this.permission)return[];var t=[];return(this.$store.state.myFunctions||[]).forEach(function(i){i.value=lg[i.i18n],e.permission[i.permission]&&t.push(i)}),t},roleid:function(){return this.$store.state.customerInfo.customerroleid},permissionConfig:function(){return this.$store.state.myFunctions||[]},configArr:function(){var e=this,t=[],i={};return(this.$store.state.functionTypes||[]).forEach(function(s){i=e.myFunctions.filter(function(e){return e.functiontype==s.functiontypeid}),t.push({type:s.i18n,name:lg[s.i18n],data:i})}),t},permission:function(){return this.$store.state.functions||[]},path:function(){return this.$route.path}},methods:{querySearch:function(e,t){var i=this.myFunctions,s=e?i.filter(this.createStateFilter(e)):i;this.searchResults=s,t(s)},createStateFilter:function(e){return function(t){return-1!==t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.itemClick(e)},handleClose:function(e,t){this.clearNumber(e),this.functionWorkData.splice(t,1),this.inArray(this.functionWorkIds,e+"")&&this.functionWorkIds.splice(this.functionWorkIds.indexOf(e+""),1)},inSearchResult:function(e){var t=this.searchResults;if(this.searchKey){for(var i=0;i<t.length;i++)if(t[i].permission==e)return!0;return!1}return!0},addNumber:function(e){e+="";var t=this.findFunction(e),i=this.functionWorkIds.indexOf(e);t.num++,this.storageFunctions[t.permissionid]++,i>-1&&(this.functionWorkIds.splice(i,1),this.functionWorkData.splice(i,1)),this.functionWorkIds.unshift(e),this.functionWorkData.unshift(t),this.functionWorkIds.length>5&&(this.functionWorkData.length=5,this.functionWorkIds.length=5),this.setStoreFunctions(),this.setWorkData(),this.sortByNumber(this.permissionConfig,"num")},clearNumber:function(e){var t=this.findFunction(e);t.num=0,this.storageFunctions[t.permissionid]=0,this.setStoreFunctions(),this.setWorkData(),this.sortByNumber(this.permissionConfig,"num")},setStoreFunctions:function(){localStorage.setItem("functions",a()(this.storageFunctions))},setWorkData:function(){localStorage.setItem("functionWork",this.unique(this.functionWorkIds))},findFunction:function(e){return this.permissionConfig.find(function(t){return t.permissionid==+e})},itemClick:function(e){this.addNumber(e.permissionid),"1"==e.openway?window.open(e.router):this.$router.push(e.router),this.$emit("itemClick")},initStorageFunctions:function(e){if(0===(e=e.replace(/(NaN,)/g,"")).indexOf(",")){var t={};return e.split(",").forEach(function(e,i){e&&(t[i]=e)}),t}return JSON.parse(e)},initPermissionConfig:function(){var e=this;this.permissionConfig.forEach(function(t){e.storageFunctions[t.permissionid]||(e.storageFunctions[t.permissionid]=0),t.num=e.storageFunctions[t.permissionid]}),this.sortByNumber(this.permissionConfig,"num")},initFunctionNum:function(){var e=localStorage.getItem("functions");this.storageFunctions=e?this.initStorageFunctions(e):{},this.initPermissionConfig()},getFunctionWorkData:function(){var e,t=this,i=[],s=[];this.functionWorkIds?this.functionWorkIds.forEach(function(a){(e=t.findFunction(+a))&&t.permission&&t.permission[e.permission]&&(i.push(e),s.push(+a))}):this.permissionConfig.forEach(function(e){e.num>0&&i.length<5&&!t.inArray(t.functionWorkIds,e.permissionid+"")&&t.permission&&t.permission[e.permission]&&(i.push(e),s.push(e.permissionid))}),this.functionWorkData=i},initWorkData:function(){var e=localStorage.getItem("functionWork");this.functionWorkIds=e?this.unique(e.split(",")):[],this.getFunctionWorkData()},init:function(){if(this.permissionConfig.length)this.initFunctionNum(),this.initWorkData();else{var e=this;setTimeout(function(){e.init()},100)}},setScrollHeight:function(e){if(this.permission)this.menuScrollHeight=e;else{var t=this;setTimeout(function(){t.setScrollHeight(e)},300)}},popoverHide:function(){this.$refs.searchComp&&(this.$refs.searchComp.close(),this.searchKey="")},getStoreType:function(){var e=localStorage.getItem("toggleFuncType");return e?e.split(","):[]},toggleType:function(e){var t=this.getStoreType(),i=t.indexOf(e);-1!=i?t.splice(i,1):t.push(e),localStorage.setItem("toggleFuncType",t),this.toggleTypeArr=t},tabChanged:function(){localStorage.setItem("funcTab",this.tabType[this.filterType])},setFilterType:function(){var e=localStorage.getItem("funcTab");e&&this.inArray(this.tabType,e)?this.filterType=""+this.tabType.indexOf(e):this.filterType=this.roleid?this.roleid+"":"0"}},mounted:function(){var e=this;this.$nextTick(function(){e.init(),e.setFilterType(),e.toggleTypeArr=e.getStoreType()})},beforeDestroy:function(){var e=this;this.setWorkData(),window.removeEventListener("beforeunload",function(t){return e.setWorkData(t)})},deactivated:function(){this.setWorkData()}}),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"function-comp"},[i("div",{staticClass:"func-filter-box"},[e.myFunctions.length>9?i("div",{staticClass:"search-box"},[i("el-autocomplete",{ref:"searchComp",staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,"popper-append-to-body":!1,clearable:""},on:{select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[i("span",{attrs:{title:"count: "+s.num}},[e._v(e._s(e.lg[s.i18n]))])]}}],null,!1,4029126484),model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[i("i",{staticClass:"search-icon base-icon",attrs:{slot:"prefix"},slot:"prefix"})])],1):e._e(),e._v(" "),e.myFunctions.length>9?i("div",{staticClass:"pt10"},e._l(e.functionWorkData,function(t,s){return i("el-tag",{key:e.source+"-"+t.permissionid,staticClass:"func-tag mr10",attrs:{title:"id:"+t.permissionid,closable:""},on:{click:function(i){return e.itemClick(t)},close:function(i){return e.handleClose(t.permissionid,s)}}},[e._v(e._s(e.lg[t.i18n]))])}),1):e._e(),e._v(" "),e.showFilterType?i("el-tabs",{on:{"tab-click":e.tabChanged},model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}},[e._l(e.tabType,function(t,s){return[1!=s||1==s&&1==e.roleid?i("el-tab-pane",{attrs:{label:t,name:""+s}}):e._e()]})],2):e._e()],1),e._v(" "),i("el-scrollbar",{staticClass:"function-m-scroll",style:{height:e.menuScrollHeight?e.menuScrollHeight+"px":"auto"}},[i("div",{staticClass:"function-cont"},e._l(e.packdata,function(t){return 0!=t.data.length?i("div",{class:"function-type-"+t.type},[i("div",{staticClass:"func-item-title func-item-type",on:{click:function(i){return e.toggleType(t.type)}}},[e._v(e._s(t.name)+"\n        "),e._v(" "),i("i",{staticClass:"ml5",class:e.inArray(e.toggleTypeArr,t.type)?"el-icon-arrow-right":"el-icon-arrow-down"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.inArray(e.toggleTypeArr,t.type),expression:"!inArray(toggleTypeArr,item.type)"}]},[e._l(t.data,function(t){return[i("el-button",{staticClass:"func-item-btn",class:"function-menu-item "+(t.router==e.path?"is-active":""),attrs:{title:e.lg[t.i18n]},on:{click:function(i){return e.itemClick(t)}}},[i("i",{staticClass:"menu-icon",class:"func-"+t.permission}),e._v(" "),e._v("\n            \t"+e._s(e.lg[t.i18n])+"\n            ")])]})],2)]):e._e()}),0)])],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("LWGJ"),i("hG1a")},null,null);t.default=o.exports},o1i6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={name:"movedatatransfercard",props:["from"],data:function(){return{selfBalance:0,userBalance:"-",addFm:{customerid:"",number:""},searchFm:{customerid:""},btnloading:!1}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.addFm.customerid=e.customerid,this.getBalance(this.addFm.customerid,"userBalance")},getBalance:function(e,t){var i=this;Object(a._102)({customerid:e}).then(function(e){i[t]="-1"==e.transfercardpoint?lg[10007]:e.transfercardpoint}).catch(function(){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a._86)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.$emit("getList"),e.getBalance(e.loginId,"selfBalance")}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.userBalance="-"},checkParams:function(){var e=this.$trim(this.addFm.number),t=this.$trim(this.addFm.remark);return this.addFm.customerid?!e||!/^[0-9]+$/.test(e)||parseInt(e)<=0||parseInt(e)>2e3?(this.$message.error(lg.invalidNumber),!1):{customerid:this.addFm.customerid,number:e,remark:t}:(this.$message.error(lg.selectCustomer),!1)}},mounted:function(){this.getBalance(this.loginId,"selfBalance")}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"move-data-transfercard h100b",class:{"move-point":"movePoint"==e.from}},[i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"white-bg h100b"},["movePoint"!=e.from?i("h4",{staticClass:"title"},[e._v(e._s(e.lg.moveDataTransferCard))]):e._e(),e._v(" "),i("el-form",{ref:"addFm",attrs:{model:e.addFm,"show-message":!1,"label-position":"movePoint"==e.from?"left":"right","label-width":"movePoint"==e.from?"180px":""}},[i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n        "+e._s(e.selfBalance)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n        "+e._s(e.userBalance)+"\n      ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,required:"",prop:"number"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("addFm","number")}},model:{value:e.addFm.number,callback:function(t){e.$set(e.addFm,"number",t)},expression:"addFm.number"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("addFm","remark")}},model:{value:e.addFm.remark,callback:function(t){e.$set(e.addFm,"remark",t)},expression:"addFm.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.submit))]),e._v(" "),"movePoint"==e.from?i("router-link",{attrs:{to:"/movedatatransfercard"}},[i("el-button",{staticClass:"ml10",attrs:{type:"",plain:""}},[e._v(e._s(e.lg.history))])],1):i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)],1)])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("7aI2")},null,null);t.default=o.exports},oVKA:function(e,t){},"oW+X":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={props:["defaultUserInfo"],data:function(){var e=this,t={objectid:function(e,t,i){""===t&&i(new Error("请选择类型"))},quantity:function(t,i,s){i=e.$trim(i),/^\d{1,}$/.test(i)?i>5e4?s(new Error("最大数量不能超过5w")):s():s(new Error(lg.dataFormatError))}};return{showadd:!1,addFm:{customerid:"",objectid:"",quantity:"",remark:""},typeArr:[],transfertype:"",btnloading:!1,rules:{customerid:[{required:!0,message:lg.inputTargetCustomer,trigger:"blur"}],objectid:[{required:!0,validator:t.objectid,trigger:"change"}],quantity:[{required:!0,validator:t.quantity,trigger:"blur"},{required:!0,validator:t.quantity,trigger:"keyup"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.addFm.customerid=e.customerid},setVisible:function(e){this.showadd=e},getTypeList:function(){var e=this;Object(a._107)().then(function(t){e.typeArr=t.record}).catch(function(){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a._108)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.showList()}).catch(function(){e.btnloading=!1}))},showList:function(){this.$emit("showList")},getTotal:function(e){var t=this.$trim(this.addFm.imeis);return t=t.replaceAll("\n",",").split(","),"1"==e?t.length:"2"==e?this.unique(t).length:void 0},checkParams:function(){var e=this.addFm.customerid,t=this.addFm.objectid,i=this.$trim(this.addFm.quantity),s=this.$trim(this.addFm.remark);return this.addFm.customerid?t?/^\d{1,}$/.test(i)?i>5e4?(this.$message.error("最大数量不能超过5w"),!1):{customerid:e,objectid:t,quantity:i,remark:s}:(this.$message.error(lg.dataFormatError),!1):(this.$message.error("请选择类型"),!1):(this.$message.error(lg.inputTargetCustomer),!1)},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},cancelFn:function(){this.setVisible(!1),this.fmReset()},dialogCloseFn:function(){this.fmReset()}},mounted:function(){this.getTypeList()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"addFm",attrs:{rules:e.rules,model:e.addFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",attrs:{defaultUserInfo:e.defaultUserInfo},on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type,prop:"objectid"}},[i("el-select",{attrs:{placeholder:e.lg.selectHint},model:{value:e.addFm.objectid,callback:function(t){e.$set(e.addFm,"objectid",t)},expression:"addFm.objectid"}},e._l(e.typeArr,function(t){return i("el-option",{key:t.objectid,attrs:{value:t.objectid,label:e.lg[t.i18nkey]}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,prop:"quantity"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("addFm","quantity")}},model:{value:e.addFm.quantity,callback:function(t){e.$set(e.addFm,"quantity",t)},expression:"addFm.quantity"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("addFm","remark")}},model:{value:e.addFm.remark,callback:function(t){e.$set(e.addFm,"remark",t)},expression:"addFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},opbO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{visible:!1,loading:!1,fileList:[],params:{}}},methods:{hide:function(){this.visible=!1},errorTips:function(e,t){return lg.lengthlimit.replace("{{name}}",e).replace("{{num}}",t)},show:function(){this.visible=!0},handleUploadSuccess:function(e){this.loading=!1,0==e.errorcode?(this.records=e.records,this.showSuccess(e.records),this.$emit("refreshList")):(this.$message.error(lg[e.errorcode]),this.records=[])},showSuccess:function(e){for(var t='<div class="mb10">'+lg.result+": </div>",i=0,s=e.length;i<s;i++)e[i].isok?(t+='<div class="mb5" style="color:#67C23A">'+e[i].imei+"("+lg.modifySuccess+")</div>",!0):t+='<div class="mb5" style="color:#F56C6C">'+e[i].imei+"("+lg[e[i].errorcode]+")</div>";this.$message({dangerouslyUseHTMLString:!0,showClose:!0,duration:1e4,message:t}),this.resetFm()},handleChange:function(e,t){t.length>0&&(this.fileList=[t[t.length-1]])},handleUploadError:function(){this.loading=!1,this.records=[]},submitFn:function(){this.loading=!0,this.$refs.deviceUpload.submit(),this.countEvent({action:"设备列表上传设置",opt_label:"点击",val:"Dealer2"})},resetFm:function(){this.fileList=[],this.$refs.deviceUpload.clearFiles()},closed:function(){this.resetFm()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"batch-setting-upload",attrs:{visible:e.visible,modal:!0,"show-close":!0,width:"550px","append-to-body":!0},on:{"update:visible":function(t){e.visible=t},closed:e.closed}},[i("div",{staticClass:"dialog-title-box dialog-title-icon",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.lg.setByUpload))]),e._v(" "),i("el-alert",{staticClass:"tips-page",attrs:{"show-icon":"",type:"info",closable:!1}},[[i("div",[e._v("\n        "+e._s(e.lg.importDeviceSetTips)+"\n        "),i("a",{staticClass:"link-btn",attrs:{href:"/static/example-import-device.xls"}},[e._v(e._s(e.lg.fileExample))])])]],2),e._v(" "),i("div",{},[i("p",{staticClass:"pt20 pb10"},[e._v(e._s(e.lg.poiImportFields)+":")]),e._v(" "),i("ul",{staticClass:"table-cell-list"},[i("li",[i("b",[e._v("IMEI")]),e._v(" - "+e._s(e.lg.required))]),e._v(" "),i("li",[i("b",[e._v("SIM")]),e._v(" - "+e._s(e.lg.optional)+", "+e._s(e.errorTips("SIM",21)))]),e._v(" "),i("li",[i("b",[e._v("Device name")]),e._v(" - "+e._s(e.lg.optional)+", "+e._s(e.errorTips("Device name",30)))]),e._v(" "),i("li",[i("b",[e._v("Vehicle plate number")]),e._v(" - "+e._s(e.lg.optional)+", "+e._s(e.errorTips("Vehicle plate number",20)))]),e._v(" "),i("li",[i("b",[e._v("Speeding value(kph)")]),e._v(" - "+e._s(e.lg.optional))]),e._v(" "),i("li",[i("b",[e._v("User due")]),e._v(" - "+e._s(e.lg.optional))])])]),e._v(" "),i("div",[i("el-upload",{ref:"deviceUpload",staticClass:"device-upload-btn mt20",attrs:{multiple:!1,name:"files",data:e.params,action:"/api2/device/upload","on-change":e.handleChange,"on-success":e.handleUploadSuccess,"file-list":e.fileList,"on-error":e.handleUploadError,"auto-upload":!1,accept:".xls,.xlsx,.csv"}},[i("el-button",{staticClass:"upload-btn blue-btn",attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v(e._s(e.lg.upload))]),e._v(" "),i("span",{staticClass:"el-upload__tip ml15",attrs:{slot:"tip"},slot:"tip"},[e._v("(XLS, XLSX, maximum size 5 Mb)")])],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.hide}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitFn}},[e._v(e._s(e.lg.confirm))])],1)],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("BV5N")},null,null);t.default=r.exports},pR7d:function(e,t){},pRRM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"blockcustomerdevice",data:function(){return{searchFm:{accountType:"account",target:"",targetId:"",status:"Normal",available:!1,customername:""},updateFm:{accountType:"account",target:"",remark:"",includesub:0,operationType:"block",btnSubmitTxt:"Block"},updateBatchFm:{imeis:"",arrIMEI:"",remark:"",operationtype:1},activeTabName:"byOne",showStatus:!1,showOperation:!1,showHistory:!1,historyTarget:"",recordsHistory:[],btnUpdateloading:!1,btnBatchBlockloading:!1,btnBatchUnblockloading:!1,loading:!1}},computed:{},components:{imeiListComp:i("Glw6").default},methods:{indexMethod:function(e){return e+1},checkSearchParams:function(){var e="";if(!this.searchFm.target){e=lg.accountNull;return"imei"==this.searchFm.accountType&&(e=lg.inputImeiError),this.$message.error(e),!1}return!("imei"==this.searchFm.accountType&&this.searchFm.target.length<5)||(e=lg.inputCompleteImeiError,this.$message.error(e),!1)},onSearch:function(){var e=this;if(this.checkSearchParams()){var t=s.E.detail[this.searchFm.accountType],i={};switch(this.searchFm.accountType){case"account":i={account:this.searchFm.target};break;case"imei":i={imei:this.searchFm.target}}this.historyTarget=this.searchFm.target,this.showStatus=!1,t(i).then(function(t){e.parseStatus(t)}).catch(function(){e.showStatus=!1,e.showOperation=!1,e.showHistory=!1,e.recordsHistory=[]})}},parseStatus:function(e){if(0==e.errorcode){switch(this.searchFm.accountType){case"imei":this.searchFm.available=e.record.available,this.searchFm.targetId=this.searchFm.target;break;case"account":this.searchFm.available=e.record.available,this.searchFm.targetId=e.record.customerid,this.searchFm.customerName=e.record.customername}this.updateFm.remark="",this.refreshStatus(),this.getHistory(0,this.searchFm.targetId),this.showStatus=!0,this.showOperation=!0}else this.$message({message:e.errormsg,type:"error"}),this.showStatus=!1,this.showOperation=!1,this.recordsHistory=[]},refreshStatus:function(){this.updateFm.operationType=this.searchFm.available?"1":"2",this.updateFm.btnSubmitTxt=this.searchFm.available?"Block":"Unblock",this.searchFm.status=this.searchFm.available?"Normal":"Blocked"},onUpdateStatus:function(){var e,t=this,i=this,a=(e=i.updateFm.remark,e=(e=i.$trim(e)).replace(/</g,"&gt;").substr(0,50));if(a){var r=this.searchFm.accountType,n=s.E[r].update,o={};switch(r){case"account":o={customerid:this.searchFm.targetId,includesub:this.updateFm.includesub};break;case"imei":o={imeis:this.searchFm.target}}o.operationtype=this.updateFm.operationType,o.remark=a,this.btnUpdateloading=!0,n(o).then(function(e){t.btnUpdateloading=!1,t.searchFm.available=!t.searchFm.available,t.$message.success(lg.success),t.updateFm.remark="",t.refreshStatus(),t.getHistory(0,t.searchFm.targetId)}).catch(function(){t.btnUpdateloading=!1})}else this.$message.error(lg.remarkNull)},onBatchUpdate:function(e){var t=this,i=this;this.updateBatchFm.operationtype=e;var a,r=(a=i.updateBatchFm.remark,a=(a=i.$trim(a)).replace(/</g,"&gt;").substr(0,50));this.updateBatchFm.arrIMEI=function(){var e=i.$trim(i.updateBatchFm.imeis),t=e.split("\n"),s=[];if(!e)return this.$message.error(lg.inputImeiError),!1;for(var a=0,r=t.length;a<r;a++)if(s[a]=i.$trim(t[a]),s[a].length<5)return this.$message.error(lg[20053]+":"+s[a]),!1;return s}();var n=this.updateBatchFm.arrIMEI.join(",");(this.recordsHistory=[],r)?n&&(0,s.E.imei.update)({operationtype:e,remark:r,imeis:n}).then(function(e){t.$message.success(lg.success),t.updateBatchFm.remark="",t.getHistory(1,i.updateBatchFm.arrIMEI[0])}).catch(function(){t.recordsHistory=[]}):this.$message.error(lg.remarkNull)},getHistory:function(e,t){var i=this;this.loading=!0;var a=void 0,r={};if(e)r={imei:t},a=s.E.imei.history;else{var n=this.searchFm.accountType;switch(a=s.E[n].history,n){case"account":r={customerid:t};break;case"imei":r={imei:t}}}a(r).then(function(e){i.loading=!1,i.recordsHistory=e.record,i.showHistory=!0}).catch(function(){i.loading=!1,i.recordsHistory=[]})},onHistory:function(e){this.getHistory(1,e),this.historyTarget=e},changeAccountInfo:function(){this.searchFm.target=this.$trim(this.searchFm.target),this.resetData()},onTabChanged:function(){this.resetData()},resetData:function(){this.showStatus=!1,this.showOperation=!1,this.showHistory=!1,this.recordsHistory=[]},formatterTime:function(e,t,i,s){return this.utcToLocal(e.createtime)},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.updateBatchFm.imeis)},setImeis:function(e){this.updateBatchFm.imeis=e?e.join("\n"):""},setQuery:function(){var e=this.$route.query;this.searchFm.target=e.account||e.imei,this.searchFm.accountType=e.imei?"imei":"account"}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){var e=this;this.$nextTick(function(){e.setQuery()})}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-blockCustomerDevice h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.blockCustomerDevice))]),e._v(" "),i("el-row",{staticClass:"has-titlebar-content"},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"h100b"},[i("el-tabs",{on:{"tab-click":e.onTabChanged},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[i("el-tab-pane",{attrs:{label:e.lg.blockCustomerDevice,name:"byOne"}},[i("section",{staticClass:"wrap-search"},[i("el-form",{ref:"searchFm",attrs:{"label-position":"right",model:e.searchFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSearch.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.operation,prop:"accountType"}},[i("el-radio",{attrs:{label:"account"},on:{change:e.changeAccountInfo},model:{value:e.searchFm.accountType,callback:function(t){e.$set(e.searchFm,"accountType",t)},expression:"searchFm.accountType"}},[e._v(e._s(e.lg.account))]),e._v(" "),i("el-radio",{attrs:{label:"imei"},on:{change:e.changeAccountInfo},model:{value:e.searchFm.accountType,callback:function(t){e.$set(e.searchFm,"accountType",t)},expression:"searchFm.accountType"}},[e._v(e._s(e.lg.imei))])],1),e._v(" "),i("el-form-item",{attrs:{prop:"target"}},[i("el-input",{attrs:{min:0,size:"medium",placeholder:e.lg[e.searchFm.accountType]},on:{keyup:e.changeAccountInfo,change:e.changeAccountInfo},model:{value:e.searchFm.target,callback:function(t){e.$set(e.searchFm,"target",t)},expression:"searchFm.target"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.search))])],1)],1)],1),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:e.showStatus,expression:"showStatus"}],staticClass:"panel wrap-result"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.result)+":")]),e._v(" "),i("table",{staticClass:"status"},[i("tr",{directives:[{name:"show",rawName:"v-show",value:"account"==e.searchFm.accountType,expression:"searchFm.accountType=='account'"}]},[i("th",[e._v(e._s(e.lg.customerName))]),e._v(" "),i("td",[e._v(e._s(e.searchFm.customerName))])]),e._v(" "),i("tr",{directives:[{name:"show",rawName:"v-show",value:"account"==e.searchFm.accountType,expression:"searchFm.accountType=='account'"}]},[i("th",[e._v(e._s(e.lg.account))]),e._v(" "),i("td",[e._v(e._s(e.searchFm.target))])]),e._v(" "),i("tr",{directives:[{name:"show",rawName:"v-show",value:"imei"==e.searchFm.accountType,expression:"searchFm.accountType=='imei'"}]},[i("th",[e._v(e._s(e.lg.imei))]),e._v(" "),i("td",[e._v(e._s(e.searchFm.target))])]),e._v(" "),i("tr",[i("th",[e._v(e._s(e.lg.status))]),e._v(" "),i("td",{class:"status-"+e.searchFm.status},[e._v(e._s(e.searchFm.status))])])])]),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:e.showOperation,expression:"showOperation"}],staticClass:"wrap-update"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.operate)+":")]),e._v(" "),i("el-form",{ref:"updateFm",attrs:{"label-position":"right",model:e.updateFm}},[i("el-form-item",{attrs:{label:e.lg[e.searchFm.accountType]+":"}},[e._v("\n                    "+e._s(e.searchFm.target)),i("br"),e._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"account"==e.searchFm.accountType,expression:"searchFm.accountType == 'account'"}],attrs:{"true-label":1,"false-label":0},model:{value:e.updateFm.includesub,callback:function(t){e.$set(e.updateFm,"includesub",t)},expression:"updateFm.includesub"}},[e._v("\n                      "+e._s(e.lg.containSubcustomer)+" ?\n                    ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+":",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",rows:3,maxlength:"50","show-word-limit":""},model:{value:e.updateFm.remark,callback:function(t){e.$set(e.updateFm,"remark",t)},expression:"updateFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary",loading:e.btnUpdateloading},on:{click:e.onUpdateStatus}},[e._v(e._s(e.updateFm.btnSubmitTxt))])],1)],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.batchSetting+"(IMEI)",name:"byBatch"}},[i("el-form",{ref:"updateBatchFm",attrs:{"label-position":"right",model:e.updateBatchFm}},[i("el-form-item",{attrs:{label:e.lg.imei+":",prop:"target"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea",placeholder:e.lg.oneImeiOneLine,rows:5},on:{blur:function(t){return e.trimImeiInput("updateBatchFm","imeis")}},model:{value:e.updateBatchFm.imeis,callback:function(t){e.$set(e.updateBatchFm,"imeis",t)},expression:"updateBatchFm.imeis"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+":",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",rows:3,maxlength:"50","show-word-limit":""},on:{blur:function(t){return e.$trimFn("updateBatchFm","remark")}},model:{value:e.updateBatchFm.remark,callback:function(t){e.$set(e.updateBatchFm,"remark",t)},expression:"updateBatchFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onBatchUpdate(1)}}},[e._v("Block")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onBatchUpdate(2)}}},[e._v("Unblock")])],1)],1)],1)],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:16}},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"main-table"},[i("h4",{staticClass:"title"},[e._v("\n          "+e._s(e.lg.history)+":\n           "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.showHistory,expression:"showHistory"}]},[e._v("\n            "+e._s(e.historyTarget)+"\n          ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"byBatch"==e.activeTabName&&e.showHistory,expression:"activeTabName=='byBatch' && showHistory"}],staticClass:"history-imeis"},[i("em",[e._v("IMEIs:")]),e._v(" "),e._l(e.updateBatchFm.arrIMEI,function(t){return i("span",[i("a",{class:{on:e.historyTarget==t},attrs:{href:"javascript://"},on:{click:function(i){return e.onHistory(t)}}},[e._v(e._s(t))])])})],2),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.recordsHistory,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.updateTime,formatter:e.formatterTime}}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:e.lg.operation}}),e._v(" "),i("el-table-column",{attrs:{prop:"operaccount",label:e.lg.operator,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1)],1)])],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("lx5D")},null,null);t.default=n.exports},pzsd:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("9xlb"),r=i("gyMJ"),n=i("iKHV"),o={props:["dialog"],data:function(){return{deviceid:"",formData:{customerid:"",deviceids:"",imei:"",name:"",customername:"-",simcard:"",distributortime:"",remark:""},loading:!1,isYourDevice:!0,userVisible:!1,btnloading:!1}},components:{userTreeSelect:s.default,addUser:function(){return i.e(106).then(i.bind(null,"S455")).catch()},imeiInput:a.default},methods:{setData:function(e){this.formData.imei=e.imei,this.deviceid=e.deviceid,this.getImeiData(),this.$refs.imeiInputComp.imei=e.imei},setCustomerid:function(e,t){this.formData.customerid=e;var i=this;setTimeout(function(){i.$refs.userTreeComp.setCustomer(t)},0),this.formData.distributortime=(new Date).setFullYear((new Date).getFullYear()+1)},userSelected:function(e){this.formData.customername=e.name,this.formData.customerid=e.customerid},renderData:function(e){var t=this,i=e.find(function(e,i){return e.id==t.deviceid});this.renderImeiInfo(i)},renderImeiInfo:function(e){e.id?(this.isYourDevice=!0,this.formData.deviceids=e.id,this.formData.customername=e.customername,this.formData.simcard=e.simcard,this.formData.distributortime=(new Date).setFullYear((new Date).getFullYear()+1),this.formData.name=e.name,this.formData.remark=e.distributorremark,this.formData.imei=e.imei):(this.isYourDevice=!1,this.formData.deviceids="",this.formData.customername="-",this.formData.simcard="",this.formData.distributortime="",this.formData.name="",this.formData.remark="",this.formData.imei="")},getImeiData:function(){var e=this;this.formData.imei&&(this.loading=!0,Object(r._47)({imei:this.formData.imei}).then(function(t){e.renderData(t.records),e.loading=!1}).catch(function(t){e.loading=!1}))},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(r._124)(t).then(function(t){e.$message.success(lg.sellTargerSuccess),e.btnloading=!1,e.resetFm(),e.$emit("sellSuccess")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"sell",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.remark),t=this.formData.distributortime,i=this.$trim(this.formData.simcard);return this.formData.customerid?this.formData.deviceids?t?i&&!Object(n.l)(i)?(this.$message.error(lg.simcardFormatError),!1):{deviceids:this.formData.deviceids,customerid:this.formData.customerid,distributortime:t,simcard:i,remark:e}:(this.$message.error(lg.platformEndError),!1):(this.$message.error(lg.targetNull),!1):(this.$message.error(lg.selectSuperCustomerNull),!1)},showAddUser:function(){this.userVisible=!0;var e=this;this.findObj("addUserComp",this.$refs,function(){e.$refs.addUserComp.setVisible(!0),e.$refs.addUserComp.setData(e.formData.customerid,e.formData.customername)})},cbAdduser:function(e){this.formData.customername=e.customername,this.setCustomerid(e.customerid,e.customername),this.$refs.userTreeComp.refresh()},resetFm:function(){this.$refs.fromComp.resetFields(),this.formData.imei="",this.$refs.imeiInputComp.resetFm(),this.isYourDevice=!0},cancel:function(){this.resetFm(),this.$emit("close")}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"fromComp",staticClass:"sell-form",attrs:{"show-message":!1,"label-position":"right",model:e.formData,"label-width":"130px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{staticClass:"field-customer",attrs:{label:e.lg.aimCustomer,required:""}},[i("div",{staticClass:"pr",staticStyle:{"max-width":"220px"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.userSelected}}),e._v(" "),i("div",{staticClass:"adduser"},[i("em",[i("el-button",{staticClass:"add-new",attrs:{icon:"add-user-icon base-icon"},on:{click:e.showAddUser}},[e._v(e._s(e.lg.add))])],1),e._v(" "),i("addUser",{ref:"addUserComp",on:{cbAddUser:e.cbAdduser}})],1)],1)])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.imei,required:""}},[i("imeiInput",{ref:"imeiInputComp",on:{imeiChecked:e.renderImeiInfo}}),e._v(" "),e.isYourDevice?e._e():i("span",{staticClass:"el-form-item__error"},[e._v(e._s(e.lg[20010]))])],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.targetName,required:"",prop:"name"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("formData","name")}},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.belongTo,prop:"customername"}},[i("div",{directives:[{name:"tip",rawName:"v-tip",value:e.formData.customername,expression:"formData.customername"}],staticClass:"txt-ellipsis",attrs:{"data-tips":e.formData.customername}},[e._v(e._s(e.formData.customername))])])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.simCard,prop:"simcard"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("formData","simcard")}},model:{value:e.formData.simcard,callback:function(t){e.$set(e.formData,"simcard",t)},expression:"formData.simcard"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:e.lg.userEnd,required:"",prop:"distributortime"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"timestamp"},model:{value:e.formData.distributortime,callback:function(t){e.$set(e.formData,"distributortime",t)},expression:"formData.distributortime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.cancel}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.resetFm}},[e._v(e._s(e.lg.reset))])],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("k6qI")},null,null);t.default=c.exports},"q6I+":function(e,t){},qSo9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Glw6"),a=i("gyMJ"),r=i("iKHV"),n={props:["dialog"],data:function(){return{formData:{distributortime:"",imeis:""},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()}},btnloading:!1}},components:{imeiListComp:s.default},methods:{setData:function(e){this.formData.imeis=e.join("\n")},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.formData.imeis)},setImeis:function(e){this.formData.imeis=e?e.join("\n"):""},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a.x)(t).then(function(t){e.$message.success(lg.distributorTimeSetSuccess),e.btnloading=!1,e.reset(),e.hideDialog()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"批量修改用户到期时间",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.imeis),t=this.formData.distributortime;if(!t)return this.$message.error(lg.userEndFormatError),!1;if(!e)return this.$message.error(lg.targetNull),!1;if((e=this.formatImeis(e)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(r.g)(e);return i.rs?(t=Object(r.n)(1,t).endTime,{imeis:i.imeis.join(","),distributortime:t}):(this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1)},hideDialog:function(){this.$emit("hideDialog")},reset:function(){this.$refs.formComp.resetFields()}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",attrs:{"label-position":"right","show-message":!1,model:e.formData,"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.userEnd,required:"",prop:"distributortime"}},[i("el-date-picker",{attrs:{type:"date","picker-options":e.pickerOptions,"value-format":"timestamp"},model:{value:e.formData.distributortime,callback:function(t){e.$set(e.formData,"distributortime",t)},expression:"formData.distributortime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"220px"},attrs:{type:"textarea",placeholder:e.lg.oneImeiOneLine,rows:5},on:{blur:function(t){return e.trimImeiInput("formData","imeis")}},model:{value:e.formData.imeis,callback:function(t){e.$set(e.formData,"imeis",t)},expression:"formData.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.hideDialog}},[e._v(e._s(e.lg.cancel))]):i("el-button",{on:{click:e.reset}},[e._v(e._s(e.lg.reset))])],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},qh1V:function(e,t){},rClD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r=i("A6oP"),n={data:function(){return{settingformData:{type:1,length1:"",width:"",height:"",length2:"",diameter:""},deviceid:0,isloading:!1,dialogVisible:!1,imeis:"",unit:{},speedUnit:r.c,fuelEfficiencyUnit:r.b}},methods:{setVisible:function(e){this.dialogVisible=e},submitData:function(){var e=this,t=this.checkParams();t&&(t.imeis=this.imeis.join(","),this.isloading=!0,Object(s.w)(t).then(function(t){e.hideSettingDialog(),e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1}).catch(function(t){e.isloading=!1}),this.countEvent({action:"设备列表批量设置",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e={};if("1"==this.settingformData.type){if(this.settingformData.length1||this.settingformData.width||this.settingformData.height){if(!this.settingformData.length1)return this.$message.error(lg.lengthNotNull),!1;if(!this.settingformData.width)return this.$message.error(lg.widthNotNull),!1;if(!this.settingformData.height)return this.$message.error(lg.heightNotNull),!1;if(!/^\d{1,}$/.test(this.settingformData.length1)||!/^\d{1,}$/.test(this.settingformData.width)||!/^\d{1,}$/.test(this.settingformData.height))return this.$message.error(lg.dataFormatError),!1;e.fueltankshape=1,e.length=this.settingformData.length1,e.width=this.settingformData.width,e.height=this.settingformData.height}}else if(this.settingformData.length2||this.settingformData.diameter){if(!this.settingformData.length2)return this.$message.error(lg.lengthNotNull),!1;if(!this.settingformData.diameter)return this.$message.error(lg.diameterNotNull),!1;if(!/^\d{1,}$/.test(this.settingformData.length2)||!/^\d{1,}$/.test(this.settingformData.diameter))return this.$message.error(lg.dataFormatError),!1;e.fueltankshape=2,e.length=this.settingformData.length2,e.diameter=this.settingformData.diameter}if(this.settingformData.fuelconsumption){if(!/^[0-9]+(.[0-9]{1,4})?$/.test(this.settingformData.fuelconsumption)||this.settingformData.fuelconsumption<=0)return this.$message.error(lg.dataFormatError),!1;e.fuelconsumption=Object(a.o)(this.settingformData.fuelconsumption,"fuelefficiency",this.unit.fuelefficiency)}return this.$isEmptyObject(e)?(this.$message.error(lg[10005]),!1):e},setImeis:function(e){this.imeis=e},hideSettingDialog:function(){this.dialogVisible=!1},dialogCloseFn:function(){this.$refs.formComp.resetFields()}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.unit=t}).catch(function(e){})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{visible:e.dialogVisible,modal:!0,"show-close":!0,width:"550px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"dialog-title-box dialog-title-icon dialog_setting_icon",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.lg.batchSetting))]),e._v(" "),i("div",{staticClass:"batch-setting"},[i("el-form",{ref:"formComp",attrs:{model:e.settingformData,"label-position":"right","label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.submitData.apply(null,arguments)}}},[i("div",{staticStyle:{"min-height":"200px","padding-bottom":"10px"}},[i("el-form-item",{attrs:{label:e.lg.fuelTankShape,prop:"type"}},[i("el-radio",{attrs:{label:1},model:{value:e.settingformData.type,callback:function(t){e.$set(e.settingformData,"type",t)},expression:"settingformData.type"}},[e._v(e._s(e.lg.cube))]),e._v(" "),i("el-radio",{attrs:{label:2},model:{value:e.settingformData.type,callback:function(t){e.$set(e.settingformData,"type",t)},expression:"settingformData.type"}},[e._v(e._s(e.lg.horizontal))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.settingformData.type,expression:"settingformData.type==1"}],attrs:{label:" ",prop:"length1"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini"},model:{value:e.settingformData.length1,callback:function(t){e.$set(e.settingformData,"length1",t)},expression:"settingformData.length1"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.length))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.settingformData.type,expression:"settingformData.type==1"}],attrs:{label:" ",prop:"width"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini"},model:{value:e.settingformData.width,callback:function(t){e.$set(e.settingformData,"width",t)},expression:"settingformData.width"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.width))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.settingformData.type,expression:"settingformData.type==1"}],attrs:{label:" ",prop:"height"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini"},model:{value:e.settingformData.height,callback:function(t){e.$set(e.settingformData,"height",t)},expression:"settingformData.height"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.height))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.settingformData.type,expression:"settingformData.type==2"}],attrs:{label:" ",prop:"length2"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini"},model:{value:e.settingformData.length2,callback:function(t){e.$set(e.settingformData,"length2",t)},expression:"settingformData.length2"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.length))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.settingformData.type,expression:"settingformData.type==2"}],attrs:{prop:"diameter"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini"},model:{value:e.settingformData.diameter,callback:function(t){e.$set(e.settingformData,"diameter",t)},expression:"settingformData.diameter"}},[i("template",{slot:"prepend"},[e._v(e._s(e.lg.diameter))]),e._v(" "),i("template",{slot:"append"},[e._v("cm")])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.fuelConsumptions,prop:"fuelconsumption"}},[i("el-input-number",{staticStyle:{width:"300px"},attrs:{size:"mini","controls-position":"right",min:.5,step:1},model:{value:e.settingformData.fuelconsumption,callback:function(t){e.$set(e.settingformData,"fuelconsumption",t)},expression:"settingformData.fuelconsumption"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.fuelEfficiencyUnit[e.unit.fuelefficiency]))])],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:function(t){return e.hideSettingDialog()}}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("FauR")},null,null);t.default=l.exports},rFKK:function(e,t){},rZrZ:function(e,t){},rk0T:function(e,t){},rkso:function(e,t){},sQMB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("iKHV"),a=i("gyMJ"),r={props:["imeis"],data:function(){return{records:[],visible:!1,loading:!1,oPlatform:{"-1":lg.noSuchIMEI,0:lg.notInBlackList,1:"Protrack",2:"Itrack/SWD",3:"ProtrackAsia"}}},computed:{hasAuth:function(){return this.$store.state.functions&&this.$store.state.functions.checkinwhitelist}},methods:{getInfo:function(){var e=this;if(this.loading=!0,!this.imeis||!Object(s.h)(this.imeis))return this.$message.error(lg[20053]);Object(a.M)({imeis:this.imeis}).then(function(t){e.records=t.record,e.loading=!1}).catch(function(t){e.loading=!1})},fmtPlatform:function(e,t,i,s){return this.oPlatform[i]},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i):"-"},hide:function(){this.records=[]}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasAuth?i("el-popover",{attrs:{"popper-class":"platform-popover",placement:"bottom",target:"manual",width:"550"},on:{"after-leave":e.hide},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("el-button",{staticClass:"popver-close-btn",attrs:{type:"info",round:"",icon:"el-icon-close"},on:{click:function(t){e.visible=!1}}}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:"IMEI",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:e.lg.platform,formatter:e.fmtPlatform}}),e._v(" "),i("el-table-column",{attrs:{prop:"importTime",label:e.lg.importTime,formatter:e.fmtTime,width:"160"}})],1),e._v(" "),i("a",{staticClass:"link-btn",attrs:{slot:"reference"},on:{click:e.getInfo},slot:"reference"},[e._v("查看所属平台"),i("i",{staticClass:"el-icon-d-arrow-right",staticStyle:{"font-size":"11px"}})])],1):e._e()},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("gFTv")},null,null);t.default=o.exports},sXNy:function(e,t){},sZCN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("fZjL"),a=i.n(s),r={data:function(){return{dialogVisible:!1,deviceColumn:{devicename:!0,imei:!0,carnum:!1,simcard:!0,devicetype:!0,selltime:!0,lifelong:!1,plattime:!0,distributortime:!1,onlinetime:!1,fuelconsumption:!1,overspeed:!1,icon:!1,remark:!1,factorytime:!0}}},computed:{modifyPlatfor:function(){return this.$store.state.auth.isPrimaryDealer}},methods:{setVisible:function(e){this.dialogVisible=e},init:function(){var e=localStorage.getItem("deviceColumn"),t=this;(e=e?e.split(","):[]).length>0&&a()(this.deviceColumn).forEach(function(i){t.deviceColumn[i]=!!e.includes(i)})},hideSettingDialog:function(){this.setVisible(!1)},submitData:function(){var e=[];for(var t in this.deviceColumn)this.deviceColumn[t]&&e.push(t);localStorage.setItem("deviceColumn",e),this.setVisible(!1),this.$emit("setSuccess"),this.countEvent({action:"自定义列",opt_label:"点击",val:"Dealer2"})},dialogCloseFn:function(){}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.setColumn,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"550px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"clearfix"},[i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{attrs:{disabled:""},model:{value:e.deviceColumn.devicename,callback:function(t){e.$set(e.deviceColumn,"devicename",t)},expression:"deviceColumn.devicename"}},[e._v(e._s(e.lg.targetName))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{attrs:{disabled:""},model:{value:e.deviceColumn.imei,callback:function(t){e.$set(e.deviceColumn,"imei",t)},expression:"deviceColumn.imei"}},[e._v(e._s(e.lg.imei))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.carnum,callback:function(t){e.$set(e.deviceColumn,"carnum",t)},expression:"deviceColumn.carnum"}},[e._v(e._s(e.lg.carNum))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.simcard,callback:function(t){e.$set(e.deviceColumn,"simcard",t)},expression:"deviceColumn.simcard"}},[e._v(e._s(e.lg.simCard))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.devicetype,callback:function(t){e.$set(e.deviceColumn,"devicetype",t)},expression:"deviceColumn.devicetype"}},[e._v(e._s(e.lg.targetType))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.selltime,callback:function(t){e.$set(e.deviceColumn,"selltime",t)},expression:"deviceColumn.selltime"}},[e._v(e._s(e.lg.sellTime))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.lifelong,callback:function(t){e.$set(e.deviceColumn,"lifelong",t)},expression:"deviceColumn.lifelong"}},[e._v(e._s(e.lg.lifeLong))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.plattime,callback:function(t){e.$set(e.deviceColumn,"plattime",t)},expression:"deviceColumn.plattime"}},[e._v(e._s(e.lg.platformEnd))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.distributortime,callback:function(t){e.$set(e.deviceColumn,"distributortime",t)},expression:"deviceColumn.distributortime"}},[e._v(e._s(e.lg.userEnd))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.onlinetime,callback:function(t){e.$set(e.deviceColumn,"onlinetime",t)},expression:"deviceColumn.onlinetime"}},[e._v(e._s(e.lg.onlineTime))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.fuelconsumption,callback:function(t){e.$set(e.deviceColumn,"fuelconsumption",t)},expression:"deviceColumn.fuelconsumption"}},[e._v(e._s(e.lg.fuelConsumptions))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.overspeed,callback:function(t){e.$set(e.deviceColumn,"overspeed",t)},expression:"deviceColumn.overspeed"}},[e._v(e._s(e.lg.overspeedThreshold))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.icon,callback:function(t){e.$set(e.deviceColumn,"icon",t)},expression:"deviceColumn.icon"}},[e._v(e._s(e.lg.icon))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[i("el-checkbox",{model:{value:e.deviceColumn.remark,callback:function(t){e.$set(e.deviceColumn,"remark",t)},expression:"deviceColumn.remark"}},[e._v(e._s(e.lg.remark))])],1),e._v(" "),i("el-col",{staticClass:"mb10",attrs:{span:8}},[e.modifyPlatfor?i("el-checkbox",{model:{value:e.deviceColumn.factorytime,callback:function(t){e.$set(e.deviceColumn,"factorytime",t)},expression:"deviceColumn.factorytime"}},[e._v(e._s(e.lg.factoryTime))]):e._e()],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{on:{click:function(t){return e.hideSettingDialog()}}},[e._v(e._s(e.lg.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitData}},[e._v(e._s(e.lg.save))])],1)])},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},sbFl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gb/B"),r=i("gyMJ"),n={data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.selectCustomer)):s()},devicetype:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.newModelNull)):/\s/.test(i)?s(new Error(lg[20106])):s()}};return{dialogVisible:!1,modelFm:{customerid:"",devicetype:"",aliastype:"",basemodel:0,ourmodel:2,remark:""},btnloading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"},{validator:t.customerid,trigger:"keyup"}],devicetype:[{required:!0,validator:t.devicetype,trigger:"blur"}]}}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:s.default,modelSelectByProtocol:a.default},methods:{setVisible:function(e){this.dialogVisible=e},setTargetAccount:function(e){this.modelFm.customerid=e.customerid},protocolModelSelected:function(e){this.modelFm.aliastype=e},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(r.g)(t).then(function(t){e.$message.success(lg.success),e.btnloading=!1,e.fmReset(),e.$emit("commitCallback"),e.setVisible(!1)}).catch(function(){e.btnloading=!1}))},closedFn:function(){this.fmReset()},cancelFn:function(){this.setVisible(!1),this.fmReset()},fmReset:function(){this.$refs.modelFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.$refs.protocolModelComp.clearFn()},checkParams:function(){var e=this.modelFm.customerid,t=this.$trim(this.modelFm.devicetype),i=this.$trim(this.modelFm.aliastype),s=this.$trim(this.modelFm.remark);return e?t?/\s/.test(t)?(this.$message.error(lg[20106]||"Format Error"),!1):i?{customerid:e,devicetype:t,aliastype:i,basemodel:this.modelFm.basemodel,ourmodel:this.modelFm.ourmodel,remark:s}:(this.$message.error(lg.aliasModelNull),!1):(this.$message.error(lg.newModelNull),!1):(this.$message.error(lg.selectCustomer),!1)}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.new,"append-to-body":!0,visible:e.dialogVisible,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closedFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"modelFm",attrs:{model:e.modelFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{prop:"customerid"}},[i("template",{slot:"label"},[e._v("\n          "+e._s(e.lg.aimCustomer)+"\n          "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              · 该型号的归属人；"),i("br"),e._v("\n              · 该型号是此账号要求添加的（申请人）；"),i("br"),e._v("\n              · 且自动link到此账号\n            ")])]),e._v(":\n        ")],1),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.setTargetAccount}})],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.newModel+": ",prop:"devicetype"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("modelFm","devicetype")}},model:{value:e.modelFm.devicetype,callback:function(t){e.$set(e.modelFm,"devicetype",t)},expression:"modelFm.devicetype"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aliasModel+": ",prop:"aliastype"}},[i("modelSelectByProtocol",{ref:"protocolModelComp",attrs:{hideSevice:!0},on:{selected:e.protocolModelSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.baseDeviceType+": ",prop:"basemodel"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.modelFm.basemodel,callback:function(t){e.$set(e.modelFm,"basemodel",t)},expression:"modelFm.basemodel"}},[e._v("("+e._s(e.lg.baseModelChecked)+")")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.companyDeviceType+": ",prop:"ourmodel"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":2},model:{value:e.modelFm.ourmodel,callback:function(t){e.$set(e.modelFm,"ourmodel",t)},expression:"modelFm.ourmodel"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark+": ",prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("modelFm","remark")}},model:{value:e.modelFm.remark,callback:function(t){e.$set(e.modelFm,"remark",t)},expression:"modelFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},sooS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r=i("A6oP"),n={data:function(){return{deviceid:"",timesTmp:[{time:["00:00","08:00"],key:Date.now()}],isloading:!1,labelPosition:"top",alldata:{},allCheckedIn:!1,allCheckedOut:!1,allCheckedSpeed:!1,geofencedata:[],unit:{},speedUnit:r.c,temperatureUnit:r.d,loading:!1}},computed:{auth:function(){return this.$store.state.auth}},methods:{setDeviceid:function(e){this.deviceid=e,this.loadDeviceAlertSetting()},loadDeviceAlertSetting:function(){var e=this;this.loading=!0,Object(s._40)({deviceid:this.deviceid}).then(function(t){e.loading=!1,e.alldata=t.record,e.timesTmp=e.timestr2arr(t.record.restricteddrivingtime||"00:00,08:00"),e.alldata.speedingvalue=e.alldata.speedingvalue?Math.round(Object(a.c)(e.alldata.speedingvalue,"distance",e.unit.distance)):0,e.alldata.lowtemperaturevalue=e.alldata.lowtemperaturevalue?Object(a.c)(e.alldata.lowtemperaturevalue,"temperature",e.unit.temperature).toFixed(1):"",e.alldata.hightemperaturevalue=e.alldata.hightemperaturevalue?Object(a.c)(e.alldata.hightemperaturevalue,"temperature",e.unit.temperature).toFixed(1):"",e.geofencedata=t.record.geofence}).catch(function(t){e.loading=!1})},editAlertSetting:function(){var e=this,t=this.alldata,i=t.accon?1:0,r=t.accoff?1:0,n=t.speeding?1:0,o=t.dooropen?1:0,l=t.doorclose?1:0,c=t.offline?1:0,u=t.accidle?1:0,m=t.parking?1:0,d=t.oilsteal?1:0,h=t.refuel?1:0,p=t.hightemperature?1:0,f=t.lowtemperature?1:0,v=[],g=[],b=[],_={deviceid:this.deviceid,accon:i,accoff:r,speeding:n,dooropen:o,doorclose:l,offline:c,accidle:u,parking:m,oilsteal:d,refuel:h,lowtemperature:f,hightemperature:p};if(_.accidlevalue=t.accidlevalue,_.parkingvalue=t.parkingvalue,_.restricteddriving=t.restricteddriving,_.restricteddrivingtime=this.timearr2str(this.timesTmp),void 0!==t.speedingvalue&&""!=t.speedingvalue)if(_.speedingvalue=Object(a.o)(t.speedingvalue,"distance",this.unit.distance).toFixed(4),p&&(void 0===t.hightemperaturevalue||""===t.hightemperaturevalue)||f&&(void 0===t.lowtemperaturevalue||""===t.lowtemperaturevalue))this.$message.error(lg.inputTemperature);else{_.lowtemperaturevalue=Object(a.o)(t.lowtemperaturevalue,"temperature",this.unit.temperature),_.hightemperaturevalue=Object(a.o)(t.hightemperaturevalue,"temperature",this.unit.temperature);for(var w=0;w<this.geofencedata.length;w++)1==this.geofencedata[w].geofencein&&v.push(this.geofencedata[w].geofenceid),1==this.geofencedata[w].geofenceout&&g.push(this.geofencedata[w].geofenceid),1==this.geofencedata[w].geofencespeed&&b.push(this.geofencedata[w].geofenceid);_.geofencein=v.join(","),_.geofenceout=g.join(","),_.geofencespeed=b.join(","),this.isloading=!0,Object(s._10)(_).then(function(t){e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1,e.setVisible(!1),e.hideDialog()}).catch(function(t){e.isloading=!1}),this.countEvent({action:"设备报警设置",opt_label:"点击",val:"Dealer2"})}else this.$message.error(lg.overspeedNull)},setVisible:function(e){this.dialogVisible=e},allCheckedInFn:function(){this.allCheckedIn=!this.allCheckedIn;for(var e=0;e<this.geofencedata.length;e++)this.geofencedata[e].geofencein=this.allCheckedIn?1:0},allCheckedOutFn:function(){this.allCheckedOut=!this.allCheckedOut;for(var e=0;e<this.geofencedata.length;e++)this.geofencedata[e].geofenceout=this.allCheckedOut?1:0},allCheckedSpeedFn:function(){this.allCheckedSpeed=!this.allCheckedSpeed;for(var e=0;e<this.geofencedata.length;e++)this.geofencedata[e].geofencespeed=this.allCheckedSpeed?1:0},addTimeRow:function(){var e=this.timesTmp.length;if(!(e>2)){this.timesTmp.push({time:[["00:00","08:00"],["12:00","14:00"],["18:00","23:59"]][e],key:Date.now()})}},removeTimeRow:function(e){var t=this.timesTmp.indexOf(e);-1!==t&&this.timesTmp.length>1&&this.timesTmp.splice(t,1)},timestr2arr:function(e){if(!e)return[];for(var t=[],i=e.split(";"),s=0;s<i.length;s++){var a=i[s].split(",");t.push({time:[a[0],a[1]],key:Date.now()+s})}return t},timearr2str:function(){if("0"==this.alldata.restricteddriving)return"";for(var e=[],t=0;t<this.timesTmp.length;t++){var i=this.timesTmp[t].time.join(",");e[t]=i}return e.join(";")},renderHeaderIn:function(e,t){var i=t.column;return e("span",[e("el-checkbox",{on:{change:this.allCheckedInFn}},i.label)])},renderHeaderOut:function(e,t){var i=t.column;return e("span",[e("el-checkbox",{on:{change:this.allCheckedOutFn}},i.label)])},renderHeaderAlert:function(e,t){var i=t.column;return e("span",[e("el-checkbox",{on:{change:this.allCheckedSpeedFn}},i.label)])},hideDialog:function(){this.$emit("setVisible",!1)}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.unit=t}).catch(function(e){})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"devicealert pt10"},[i("el-form",{ref:"",attrs:{"label-position":e.labelPosition,size:"mini"},nativeOn:{submit:function(t){return t.preventDefault(),e.editAlertSetting.apply(null,arguments)}}},[i("div",{staticClass:"alert-setting"},[i("div",{staticClass:"ft-cont"},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.accoff,expression:"typeof(alldata.accoff)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.accoff,callback:function(t){e.$set(e.alldata,"accoff",t)},expression:"alldata.accoff"}},[e._v(" "+e._s(e.lg.engineOff))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.accon,expression:"typeof(alldata.accon)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.accon,callback:function(t){e.$set(e.alldata,"accon",t)},expression:"alldata.accon"}},[e._v(" "+e._s(e.lg.engineOn))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.dooropen,expression:"typeof(alldata.dooropen)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.dooropen,callback:function(t){e.$set(e.alldata,"dooropen",t)},expression:"alldata.dooropen"}},[e._v(" "+e._s(e.lg.doorOpen))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.doorclose,expression:"typeof(alldata.doorclose)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.doorclose,callback:function(t){e.$set(e.alldata,"doorclose",t)},expression:"alldata.doorclose"}},[e._v(" "+e._s(e.lg.doorClose))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.oilsteal,expression:"typeof(alldata.oilsteal)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.oilsteal,callback:function(t){e.$set(e.alldata,"oilsteal",t)},expression:"alldata.oilsteal"}},[e._v(" "+e._s(e.lg.oilLeakAlert))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.refuel,expression:"typeof(alldata.refuel)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.refuel,callback:function(t){e.$set(e.alldata,"refuel",t)},expression:"alldata.refuel"}},[e._v(" "+e._s(e.lg.refuelAlert))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.speeding,expression:"typeof(alldata.speeding)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.speeding,callback:function(t){e.$set(e.alldata,"speeding",t)},expression:"alldata.speeding"}},[e._v(" "+e._s(e.lg.speedingAlarm))]),e._v(" "),i("font",{staticClass:"alert-set-input"},[i("el-input-number",{staticStyle:{width:"120px"},attrs:{"controls-position":"right",min:10,max:400,step:10,title:e.lg.overspeedValueTips},model:{value:e.alldata.speedingvalue,callback:function(t){e.$set(e.alldata,"speedingvalue",t)},expression:"alldata.speedingvalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.speedUnit[e.unit.distance]))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.accidle,expression:"typeof(alldata.accidle)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.accidle,callback:function(t){e.$set(e.alldata,"accidle",t)},expression:"alldata.accidle"}},[e._v("\n             "+e._s(e.lg.accIdleAlarm)+"\n            "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                收到【Engine IDLE】报警的条件："),i("br"),e._v("\n                1. 客户有Engine IDLE alert 权限；（已开放给所有人）"),i("br"),e._v("\n                2. 客户给设备开启 Engine IDLE alert，设置Engine IDLE报警阈值；"),i("br"),e._v("\n                设备 ->详情->Alert settings ->Engine IDLE -> （勾选并设置报警阈值）"),i("br"),e._v("\n                3. 设备触发Engine IDLE alert后，客户收到报警；"),i("br"),e._v("\n                4. 另：Engine IDLE 报警阈值默认为6分钟；（最小可调至2分钟）"),i("br")])])],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:"1"==e.alldata.accidle,expression:"alldata.accidle=='1'"}],staticClass:"alert-set-input"},[i("el-input-number",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.parkingAlertTips,align:"centerBottom"},expression:"{txt:lg.parkingAlertTips,align:'centerBottom'}"}],staticStyle:{width:"100px"},attrs:{"controls-position":"right",min:2,max:120,step:1},model:{value:e.alldata.accidlevalue,callback:function(t){e.$set(e.alldata,"accidlevalue",t)},expression:"alldata.accidlevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.lg.m))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.offline,expression:"typeof(alldata.offline)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.offline,callback:function(t){e.$set(e.alldata,"offline",t)},expression:"alldata.offline"}},[e._v(" "+e._s(e.lg.offlineAlarm))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.parking,expression:"typeof(alldata.parking)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.parking,callback:function(t){e.$set(e.alldata,"parking",t)},expression:"alldata.parking"}},[e._v(" "+e._s(e.lg.parkingAlarm))]),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:"1"==e.alldata.parking,expression:"alldata.parking=='1'"}],staticClass:"alert-set-input"},[i("el-input-number",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.parkingAlertTips,align:"centerBottom"},expression:"{txt:lg.parkingAlertTips,align:'centerBottom'}"}],staticStyle:{width:"100px"},attrs:{"controls-position":"right",min:2,max:120,step:1},model:{value:e.alldata.parkingvalue,callback:function(t){e.$set(e.alldata,"parkingvalue",t)},expression:"alldata.parkingvalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.lg.m))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.lowtemperature,expression:"typeof(alldata.lowtemperature )!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.lowtemperature,callback:function(t){e.$set(e.alldata,"lowtemperature",t)},expression:"alldata.lowtemperature "}},[e._v(" "+e._s(e.lg.lowTemperatureAlert))]),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:"1"==e.alldata.lowtemperature,expression:"alldata.lowtemperature=='1'"}],staticClass:"alert-set-input"},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right"},model:{value:e.alldata.lowtemperaturevalue,callback:function(t){e.$set(e.alldata,"lowtemperaturevalue",t)},expression:"alldata.lowtemperaturevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.temperatureUnit[e.unit.temperature]))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.hightemperature,expression:"typeof(alldata.hightemperature)!=='undefined'"}],staticClass:"alert-f-item"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.hightemperature,callback:function(t){e.$set(e.alldata,"hightemperature",t)},expression:"alldata.hightemperature"}},[e._v(" "+e._s(e.lg.highTemperatureAlert))]),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:"1"==e.alldata.hightemperature,expression:"alldata.hightemperature=='1'"}],staticClass:"alert-set-input"},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right"},model:{value:e.alldata.hightemperaturevalue,callback:function(t){e.$set(e.alldata,"hightemperaturevalue",t)},expression:"alldata.hightemperaturevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.temperatureUnit[e.unit.temperature]))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.alldata.parking,expression:"typeof(alldata.parking)!=='undefined'"}]},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.alldata.restricteddriving,callback:function(t){e.$set(e.alldata,"restricteddriving",t)},expression:"alldata.restricteddriving"}},[e._v("\n             "+e._s(e.lg.restrictedDrivingAlert)+"\n            "),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top",content:"在限定时间段内发生车辆移动, 则触发此报警.","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"})])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.alldata.restricteddriving,expression:"alldata.restricteddriving == '1'"}],staticClass:"wrap-time-picker"},e._l(e.timesTmp,function(t,s){return i("div",{key:s,staticClass:"wrap-time-row clearfix"},[i("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm","is-range":"","range-separator":"-","start-placeholder":e.lg.from,"end-placeholder":e.lg.to,placeholder:e.lg.select},model:{value:t.time,callback:function(i){e.$set(t,"time",i)},expression:"item.time"}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:0==s,expression:"index==0"}],staticClass:"add-btn el-icon-plus fl",on:{click:e.addTimeRow}}),e._v(" "),s>0?i("i",{staticClass:"add-btn el-icon-minus fl",on:{click:function(i){return e.removeTimeRow(t)}}}):e._e()],1)}),0)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.geofencedata.length>0,expression:"geofencedata.length>0"}],staticClass:"ft-cont",staticStyle:{"min-height":"50px"}},[i("div",{staticClass:"f13 mb10"},[e._v(" "+e._s(e.lg.geoFenceAlarm)+": ")]),e._v(" "),i("el-table",{staticClass:"f12",attrs:{data:e.geofencedata,height:"200"}},[i("el-table-column",{attrs:{label:e.lg.fence},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.geofencename))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.in,width:"75",align:"left","render-header":e.renderHeaderIn},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.geofencein,callback:function(i){e.$set(t.row,"geofencein",i)},expression:"scope.row.geofencein"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.out,width:"75","render-header":e.renderHeaderOut},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.geofenceout,callback:function(i){e.$set(t.row,"geofenceout",i)},expression:"scope.row.geofenceout"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.speedingAlarm,width:"155","render-header":e.renderHeaderAlert},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.geofencespeed,callback:function(i){e.$set(t.row,"geofencespeed",i)},expression:"scope.row.geofencespeed"}})]}}])})],1)],1)]),e._v(" "),i("div",{staticClass:"submit-box tr pt10 pr20 pl20"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("9P+D")},null,null);t.default=l.exports},"t+XV":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("KvKp"),r={mixins:[i("Zlha").a],data:function(){return{activeName:"importpoint",curTab:"importpoint",chart:null,import:[],loading:!1,zsImport:[],yearRecharge:[],chartData:[],zsRecharge:[]}},computed:{auth:function(){return this.$store.state.auth},loginId:function(){return this.$store.state.loginId}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{refreshFn:function(){this.chart||this.initChart(),this.initCurTabs(),this.getData()},changeTabs:function(){this.curTab==this.activeName&&(this.curTab=this.activeName),"importpoint"==this.activeName?this.getImport():"zsimportpoint"==this.activeName?this.getZsImport():"yearrechargepoint"==this.activeName?this.getYearRecharge():"zsrechargepoint"==this.activeName&&this.getZsRecharge()},getData:function(){var e=this,t=Object(a.g)(3)[0],i=Object(a.g)(1)[0];Object(s.D)({customerid:this.loginId,startDate:t,endDate:i}).then(function(t){e.loading=!1,e.import=t.record.importpoint,e.zsImport=t.record.importlifelongpoint,e.yearRecharge=t.record.yearpoint,e.zsRecharge=t.record.lifelongpoint,"yearrechargepoint"==e.curTab?e.getYearRecharge():e.getImport()}).catch(function(t){e.loading=!1})},getImport:function(){this.setChartData(this.import)},getZsImport:function(){this.setChartData(this.zsImport)},getYearRecharge:function(){this.setChartData(this.yearRecharge)},getZsRecharge:function(){this.setChartData(this.zsRecharge)},setChartData:function(e){if(this.chartData=e||[],!e)return this.clearChart();var t=[],i=[],s=[];(e=this.sortByNumber(e,"month","ascending")).forEach(function(e,a){t.push(e.month),i.push(e.purchase),s.push(e.sell)}),this.chart.setOption({xAxis:{data:t},series:[{data:i},{data:s}]})},initChart:function(){this.chart=echarts.init(document.getElementById("pointChart")),this.chart.setOption({tooltip:{},grid:{left:10,right:60,bottom:5,containLabel:!0},legend:{itemWidth:10,itemHeight:10,borderRadius:10,data:[lg.purchase,lg.used]},xAxis:{name:lg.month,nameTextStyle:{color:"#989898"},type:"category",data:[],axisLine:{show:!0,lineStyle:{color:"#e8e8e8",width:1,type:"solid"}},axisLabel:{color:"#989898"}},yAxis:{name:lg.number,nameTextStyle:{color:"#989898"},axisLine:{show:!1},axisLabel:{color:"#989898"},type:"value",axisTick:{show:!1},lineStyle:{color:"#ddd",width:1,type:"solid"},splitLine:{lineStyle:{color:"#f5f5f5",type:"solid"}}},series:[{name:lg.purchase,type:"bar",barGap:"0",barWidth:"10%",barMaxWidth:"40",itemStyle:{color:"#20a8d8",barBorderRadius:[2,2,0,0]},label:{normal:{show:!0,position:"top"}},data:[]},{name:lg.used,type:"bar",barGap:"0",barWidth:"10%",barMaxWidth:"40",itemStyle:{color:"#c23531",barBorderRadius:[2,2,0,0]},label:{normal:{show:!0,position:"top"}},data:[]}]})},clearChart:function(){this.chart.setOption({xAxis:{data:[]},series:[{data:[]},{data:[]}]})},initCurTabs:function(){this.auth.hasAuth2ImportDevice||(this.activeName="yearrechargepoint",this.curTab="yearrechargepoint")}},activated:function(){if(this.customerid&&!this.chart){var e=this;this.findFn("echarts",function(){e.initChart(),e.getData()})}},mounted:function(){var e=this,t=this;this.$nextTick(function(){e.loading=!0,e.initCurTabs(),"undefined"==typeof echarts&&e.loadScript("./static/plugins/echart/echarts.min.js"),e.findFn("echarts",function(){t.initChart(),t.getData()})})}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bill-box"},[i("h3",{staticClass:"panel-title"},[e._v(e._s(e.lg.bill))]),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("el-radio-group",{on:{change:e.changeTabs},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.auth&&e.auth.hasAuth2ImportDevice?i("el-radio-button",{attrs:{label:"importpoint"}},[e._v(e._s(e.lg.newCard))]):e._e(),e._v(" "),e.auth&&e.auth.hasAuth2ImportDevice?i("el-radio-button",{attrs:{label:"zsimportpoint"}},[e._v(e._s(e.lg.newCardLifelong))]):e._e(),e._v(" "),i("el-radio-button",{attrs:{label:"yearrechargepoint"}},[e._v(e._s(e.lg.annualCard))]),e._v(" "),i("el-radio-button",{attrs:{label:"zsrechargepoint"}},[e._v(e._s(e.lg.lifeLongCard))])],1),e._v(" "),i("div",{staticClass:"chart-box"},[i("div",{staticStyle:{width:"100%",height:"275px"},attrs:{id:"pointChart"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.chartData.length,expression:"chartData.length == 0"}],staticClass:"no-data bg"},[e._v("\n      "+e._s(e.lg.noData)+"\n    ")])])],1)])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("BXoL")},null,null);t.default=o.exports},t3TR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{activeName:"sale"}},components:{sellComp:function(){return i.e(97).then(i.bind(null,"pzsd")).catch()},batchSalesComp:function(){return i.e(94).then(i.bind(null,"CZxx")).catch()},batchRecharge:function(){return i.e(113).then(i.bind(null,"TBad")).catch()},batchMove:function(){return i.e(95).then(i.bind(null,"IKuJ")).catch()},batchModifyExpireDate:function(){return i.e(114).then(i.bind(null,"qSo9")).catch()}},computed:{customerInfo:function(){return this.$store.state.customerInfo},auth:function(){return this.$store.state.auth}},methods:{}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home-work"},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.quickSale,name:"sale"}},[i("sellComp",{ref:"sellComp"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.batchSale,name:"batchsale"}},[i("batchSalesComp",{ref:"batchSalesComp"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.batchMove,name:"batchmove"}},[i("batchMove",{ref:"batchMoveComp"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.batchRecharge,name:"batchrecharge"}},[i("batchRecharge",{ref:"batchRechargeComp"})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.batchDistributorTime,name:"batchtime"}},[i("batchModifyExpireDate",{ref:"modifyExpireDate"})],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("8nrD")},null,null);t.default=r.exports},t5go:function(e,t){},"t7/S":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("ZVCO"),r=i("iKHV"),n=i("Glw6"),o={name:"modifydevicetype",data:function(){return{userFm:{realtype:"",alias:"",imeis:""},btnloading:!1}},components:{modelSelect:a.default,imeiListComp:n.default},computed:{imeiQuery:function(){return this.$route.query.imei},deviceTypeQuery:function(){return this.$route.query.devicetype}},methods:{init:function(e,t){},modelSelected:function(e){this.userFm.alias=e.devicetype,this.userFm.realtype=e.realtype},onSubmit:function(){var e=this,t=this.checkParams();if(!t)return!1;this.btnloading=!0,Object(s._81)(t).then(function(t){e.fmReset(),e.btnloading=!1,e.$message({type:"success",dangerouslyUseHTMLString:!0,message:"Success<br />"+(t.hasOwnProperty("msg")?"Data does not exist.<br/>"+t.msg:"")})}).catch(function(t){e.btnloading=!1})},checkParams:function(){var e=this.$trim(this.userFm.imeis),t=this.userFm.realtype,i=this.userFm.alias;if(!t)return this.$message.error(lg.selectTargetType),!1;if(!e)return this.$message.error(lg.inputImeiError),!1;var s=this.formatImeis(e);if(s.length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var a=Object(r.g)(s);return a.rs?{imeis:a.imeis.join(","),alias:i,realtype:t}:(this.$message.error(lg[20053]+"("+a.imeis[a.imeis.length-1]+")"),!1)},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.userFm.imeis)},fmReset:function(){this.$refs.modifyDeviceTypeFm.resetFields(),this.$refs.modelComp.clearFn(),this.userFm.alias="",this.userFm.realtype=""},clearFn:function(){this.fmReset()}},watch:{imeiQuery:function(e,t){this.userFm.imeis=e},deviceTypeQuery:function(e,t){this.userFm.alias=e,this.$refs.modelComp.clearFn(),this.$refs.modelComp.setDefault(e)}},mounted:function(){var e=this;this.$nextTick(function(){e.userFm.imeis=e.imeiQuery,e.userFm.alias=e.deviceTypeQuery,e.$refs.modelComp.setDefault(e.userFm.alias)})}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.modifyDeviceModel))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"modifyDeviceTypeFm",attrs:{"show-message":!1,"label-width":"80px",model:e.userFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.targetType,required:""}},[i("modelSelect",{ref:"modelComp",attrs:{showall:!0,hideSevice:!0},on:{selected:e.modelSelected}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imeiId,prop:"imeis",required:""}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},on:{blur:function(t){return e.trimImeiInput("userFm","imeis")}},model:{value:e.userFm.imeis,callback:function(t){e.$set(e.userFm,"imeis",t)},expression:"userFm.imeis"}}),e._v(" "),i("el-alert",{attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("One line in one IMEI.")]),e._v(" "),i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",{staticClass:"form-btn-box"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("Q15M")},null,null);t.default=c.exports},tDzE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("PEiB"),o=i("gyMJ"),l={name:"permission",data:function(){return{searchFm:{customerid:"",permissiontype:""},permissionArr:[],records:[],searchParams:{},total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default,updataComp:n.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.searchFm.customerid=e.customerid},getMetaList:function(){var e=this;Object(o._95)().then(function(t){e.permissionArr=t.record}).catch(function(){})},searchFn:function(){this.start=0,this.searchParams=this.searchFm,this.getList()},resetSearch:function(){this.start=0,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp.clearFn(),this.searchParams={},this.getList()},getList:function(){var e=this;this.loading=!0,Object(o._94)(a()({start:this.start,pagecount:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.customeraccount+")"},fmtPermission:function(e,t,i,s){return lg[i]},fmtTime:function(e,t,i,s){return this.utcToLocal(i)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},showAdd:function(){this.$refs.updataComp.setVisible(!0),this.$refs.updataComp.setType("add"),this.$refs.updataComp.setPermissionList(this.permissionArr)},showEdit:function(e){var t=this.fmtName(e);this.$refs.updataComp.setVisible(!0),this.$refs.updataComp.setType("edit",t),this.$refs.updataComp.getDetail(e.customerid)},submitSuccess:function(){this.resetSearch()},setQuery:function(){var e=this.$route.query;this.searchFm.account=e.account?e.account:"",this.searchParams.account=e.account?e.account:"",e.customerid&&(this.searchFm.customerid=e.customerid,this.searchParams.customerid=e.customerid,e.account&&this.$refs.userTreeComp.setCustomer(e.account)),this.getList()}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){this.getMetaList(),this.setQuery()}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.permissionAdmin)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("【开通】直接给客户开通相应功能（比如functions，及其它）"),i("br"),e._v(" "),i("br"),e._v("\n        附注1: "),i("br"),e._v("\n        · 下级的【开通列表】来自："),i("br"),e._v("上级在【授权列表】里的勾选;"),i("br"),e._v(" "),i("br"),e._v("\n        附注2: "),i("br"),e._v("\n        · 开通：给客户开通指定的功能;"),i("br"),e._v("\n        · 授权：给客户A授权，让其可以给其子客户B开通指定功能;"),i("br"),e._v('\n        "授权"请参见：/authfunctions;\n      ')])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("template",{slot:"label"},[i("label",[e._v(e._s(e.lg.aimCustomer))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              包含下级客户\n            ")])])],1),e._v(" "),i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permission,prop:"permissiontype"}},[i("el-select",{model:{value:e.searchFm.permissiontype,callback:function(t){e.$set(e.searchFm,"permissiontype",t)},expression:"searchFm.permissiontype"}},[i("el-option",{attrs:{label:e.lg.all,value:""}}),e._v(" "),e._l(e.permissionArr,function(t){return i("el-option",{key:t.permissiontype,attrs:{label:e.lg[t.i18nkey],value:t.permissiontype}})})],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearch}},[e._v(e._s(e.lg.reset))])],1),e._v(" "),i("el-button",{staticClass:"form-new-btn fr",attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.lg.add))])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.customer,formatter:e.fmtName},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row)}}},[e._v(e._s(e.fmtName(t.row)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"i18nkey",label:e.lg.permission,formatter:e.fmtPermission}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.lastModifyTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row)}}},[e._v(e._s(e.lg.edit))])]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[e.total?i("a",{staticClass:"excel-btn",attrs:{href:"/OutputService?method=outputCustomerPermissionFile&customerid="+e.searchFm.customerid+"&permissiontype="+e.searchFm.permissiontype}},[e._v(e._s(e.lg.downloadExcel))]):e._e()])]),e._v(" "),i("updataComp",{ref:"updataComp",on:{submitSuccess:e.submitSuccess}})],1)])],1)},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null);t.default=u.exports},tWx5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"addcard",data:function(){return{}},components:{addComp:i("J4YZ").default}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h3",{staticClass:"block-titlebar"},[this._v(this._s(this.lg.generatePoint))]),this._v(" "),t("addComp")],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},tgYB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{notifySettingComp:function(){return new Promise(function(e){e()}).then(i.bind(null,"K1Fb")).catch()}},computed:{},methods:{setVisible:function(e){this.dialogVisible=e},getInfo:function(e){var t=this;this.$nextTick(function(){t.$refs.notifySettingComp.getInfo(e)})},cancelFn:function(){this.setVisible(!1)}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"},{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.lg.appNotify,visible:e.dialogVisible,modal:!0,"show-close":!0,"append-to-body":!0,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("notifySettingComp",{ref:"notifySettingComp",on:{onCancel:e.cancelFn}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},tmwX:function(e,t){},"tvm+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("KvKp"),r={props:["source"],mixins:[i("Zlha").a],data:function(){return{chart:null,loading:!1,customerid:"",record:[]}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},computed:{loginId:function(){return this.$store.state.loginId},auth:function(){return this.$store.state.auth}},methods:{refreshFn:function(){this.chart||this.initChart(),this.getData()},changeCustomerId:function(e){if(this.customerid!=e){this.customerid=e;var t=this;this.findFn("echarts",function(){t.chart||t.initChart(),t.getData()})}},getData:function(){var e=this,t=Object(a.g)(3)[0],i=Object(a.g)(1)[0];Object(s._169)({customerid:this.customerid,startDate:t,endDate:i}).then(function(t){e.loading=!1,e.record=t.record,e.setChartData()}).catch(function(t){e.loading=!1})},setChartData:function(){if(!this.record||0==this.record.length)return this.clearData();var e=[],t=[],i=[],s=[];this.record=this.sortByNumber(this.record,"month","ascending"),this.record.forEach(function(a,r){e.push(a.month),t.push(a.import),i.push(a.recharge),s.push(a.activation)}),this.chart.setOption({xAxis:{data:e},series:[{data:t},{data:s},{data:i}]})},clearData:function(){this.chart.setOption({xAxis:{data:[]},series:[{data:[]},{data:[]},{data:[]}]})},initChart:function(){this.chart=echarts.init(document.getElementById("deviceChart"+(this.source?this.source:"")));var e={normal:{show:!0,position:"top"}};"business"==this.source&&(e={show:!0,position:"insideBottom",distance:15,align:"center",verticalAlign:"middle",rotate:90,formatter:"{c}",fontSize:10}),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{itemWidth:10,itemHeight:10,borderRadius:10,data:[lg.imported,lg.activation,lg.recharged]},grid:{left:10,right:60,bottom:5,containLabel:!0},xAxis:{name:"Month",nameTextStyle:{color:"#989898"},data:[],axisLine:{show:!0,lineStyle:{color:"#e8e8e8",width:1,type:"solid"}},axisLabel:{color:"#989898"}},yAxis:{name:lg.number,nameTextStyle:{color:"#989898"},axisLine:{show:!1},axisLabel:{color:"#989898"},type:"value",axisTick:{show:!1},lineStyle:{color:"#ddd",width:1,type:"solid"},splitLine:{lineStyle:{color:"#f5f5f5",type:"solid"}}},series:[{name:lg.imported,type:"bar",barGap:"0",barWidth:"30%",barMaxWidth:"40",itemStyle:{color:"#20a8d8",barBorderRadius:[2,2,0,0]},label:e,data:[]},{name:lg.activation,type:"bar",barWidth:"30%",barMaxWidth:"40",itemStyle:{color:"#c23531",barBorderRadius:[2,2,0,0]},label:e,data:[]},{name:lg.recharged,type:"bar",barWidth:"30%",barMaxWidth:"40",itemStyle:{color:"#7ccca7",barBorderRadius:[2,2,0,0]},label:e,data:[]}]})}},mounted:function(){var e=this,t=this;this.$nextTick(function(){t.loading=!0,"undefined"==typeof echarts&&e.loadScript("./static/plugins/echart/echarts.min.js"),e.source||(e.customerid=e.loginId,e.findFn("echarts",function(){t.initChart(),t.getData()}))})}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-analysis"},[i("h3",{staticClass:"panel-title"},[e._v("\n    "+e._s(e.lg.deviceAnalysis)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n       内部TIPS："),i("br"),e._v("\n       此处只从设备维度出发"),i("br"),e._v("\n       不考虑用卡情况"),i("br"),i("br"),e._v("\n       背景-用卡数量："),i("br"),e._v(" "),i("table",{attrs:{border:"2",bordercolor:"#666666"}},[i("tbody",[i("tr",[i("th",[e._v("操作 ")]),e._v(" "),i("th",[e._v("期限 ")]),e._v(" "),i("th",[e._v("我司设备 ")]),e._v(" "),i("th",[e._v("其它设备 ")])]),e._v(" "),i("tr",[i("td",{attrs:{rowspan:"2"}},[e._v("导入 ")]),e._v(" "),i("td",[e._v(" 终生 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",[e._v(" 按年 ")]),e._v(" "),i("td",[e._v(" 0 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",{attrs:{rowspan:"2"}},[e._v("续费 ")]),e._v(" "),i("td",[e._v(" 终生 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])]),e._v(" "),i("tr",[i("td",[e._v(" 按年 ")]),e._v(" "),i("td",[e._v(" 0.5 ")]),e._v(" "),i("td",[e._v(" 1 ")])])])])])])],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chart-box"},[i("div",{staticClass:"device-chart",attrs:{id:"deviceChart"+(e.source?e.source:"")}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.record.length,expression:"record.length == 0"}],staticClass:"no-data bg"},[e._v("\n      "+e._s(e.lg.noData)+"\n    ")])])])},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("tmwX")},null,null);t.default=o.exports},u5Cl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Glw6"),a=i("gyMJ"),r=i("iKHV"),n={props:["dialog"],data:function(){return{formData:{platformtime:"",imeis:""},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()}},btnloading:!1}},components:{imeiListComp:s.default},methods:{setData:function(e){this.formData.imeis=e.join("\n")},getImeis:function(){this.$refs.imeiListComp.getImeisInfoData(this.formData.imeis)},setImeis:function(e){this.formData.imeis=e?e.join("\n"):""},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a.A)(t).then(function(t){e.$message.success(lg.success),e.btnloading=!1,e.reset(),e.hideDialog()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"批量修改平台到期时间",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.$trim(this.formData.imeis),t=this.formData.platformtime;if(!t)return this.$message.error(lg.userEndFormatError),!1;if(!e)return this.$message.error(lg.targetNull),!1;if((e=this.formatImeis(e)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var i=Object(r.g)(e);return i.rs?(t=Object(r.n)(1,t).endTime,{imeis:i.imeis.join(","),plattime:t}):(this.$message.error(lg[20053]+"("+i.imeis[i.imeis.length-1]+")"),!1)},hideDialog:function(){this.$emit("hideDialog")},reset:function(){this.$refs.formComp.resetFields()}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"formComp",attrs:{"label-position":"right","show-message":!1,model:e.formData,"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.platformEnd,required:"",prop:"platformtime"}},[i("el-date-picker",{attrs:{type:"date","picker-options":e.pickerOptions,"value-format":"timestamp"},model:{value:e.formData.platformtime,callback:function(t){e.$set(e.formData,"platformtime",t)},expression:"formData.platformtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("div",{staticClass:"fl"},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],staticStyle:{width:"220px"},attrs:{type:"textarea",placeholder:e.lg.oneImeiOneLine,rows:5},on:{blur:function(t){return e.trimImeiInput("formData","imeis")}},model:{value:e.formData.imeis,callback:function(t){e.$set(e.formData,"imeis",t)},expression:"formData.imeis"}}),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])],1),e._v(" "),i("div",{staticClass:"fl"},[i("imeiListComp",{ref:"imeiListComp",on:{setImeis:e.setImeis,getImeis:e.getImeis}})],1)]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),e.dialog?i("el-button",{on:{click:e.hideDialog}},[e._v(e._s(e.lg.cancel))]):e._e()],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null);t.default=l.exports},uNXS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{}},methods:{deleteRecord:function(e){var t=this;this.$confirm(lg.deleteCustomerTip).then(function(){Object(s._3)({customerid:e}).then(function(e){t.$message.success(lg.deleteCustomerSuccessTip),t.$emit("deleteUserCallback")}).catch(function(){})}).catch(function(){}),this.countEvent({action:"删除用户",opt_label:"点击",val:"Dealer2"})}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},uSMY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"tracklog",data:function(){return{}},components:{transferDataList:i("Lu3L").default},methods:{},mounted:function(){}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("transferDataList",{attrs:{transfertype:5}})},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"uX+y":function(e,t){},uXAg:function(e,t){},"uvy/":function(e,t){},v1uG:function(e,t){},vA6h:function(e,t){},vFeZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={props:["functions"],data:function(){return{id:"",type:1,visible:!1,btnloading:!1,own:!1,checkedIds:[]}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},submit:function(){var e=this;if(this.btnloading=!0,!this.id)return this.$message.error(lg[10005]);Object(s._160)({apikeyid:this.id,functionids:this.checkedIds.join(",")}).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.$emit("successCB"),e.hide()}).catch(function(t){e.btnloading=!1})},setData:function(e){this.checkedIds=[].concat(e.functionids),this.type=e.keytype,this.id=e.googleapikeyid,this.own=e.own},checkedFunc:function(e){this.inArray(this.checkedIds,e)?this.delArray(this.checkedIds,e):this.checkedIds.push(e)},dialogCloseFn:function(){this.id="",this.type=1,this.visible=!1,this.btnloading=!1,this.checkedIds=[]}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{visible:e.visible,modal:!0,"show-close":!0,width:"300px","append-to-body":!0,top:"20vh"},on:{"update:visible":function(t){e.visible=t},close:e.dialogCloseFn}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"el-icon-setting pl10 pr10"}),e._v(e._s(e.lg.functions))]),e._v(" "),i("div",{staticClass:"functions-item"},e._l(e.functions,function(t,s){return t.googlekeytype==e.type?i("div",{staticClass:"mt10"},[i("el-checkbox-group",{model:{value:e.checkedIds,callback:function(t){e.checkedIds=t},expression:"checkedIds"}},[i("el-checkbox",{attrs:{label:t.id,disabled:!e.own}},[e._v(e._s(e.lg[t.functioni18nkey]))])],1)],1):e._e()}),0),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.hide}},[e._v(e._s(e.lg.cancel))]),e._v(" "),e.own?i("el-button",{attrs:{type:"primary",size:"mini",loading:e.btnloading},on:{click:e.submit}},[e._v(e._s(e.lg.save))]):e._e()],1)])},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},vUzN:function(e,t){},vZ46:function(e,t){},vpyz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){return{addFm:{customerid:""},typeArr:[{id:1,name:"TEL"},{id:2,name:"SMS"},{id:4,name:"Other"}],tempArr:[],btnloading:!1,btnSubmitShow:!1,rules:{customerid:[{required:!0,message:lg.inputTargetCustomer,trigger:"blur"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.addFm.customerid=e.customerid,this.searchFn()},addSupport:function(){this.tempArr.length>4||this.tempArr.push({supportname:"",supportcontact:"",supporttype:"",key:Date.now()})},removeSupport:function(e){var t=this.tempArr.indexOf(e);-1!==t&&this.tempArr.length>0&&this.tempArr.splice(t,1)},searchFn:function(){var e=this;Object(a._64)({customerid:this.addFm.customerid}).then(function(t){0==t.record.length?e.tempArr=[{supportname:"",supportcontact:"",supporttype:1},{supportname:"",supportcontact:"",supporttype:1},{supportname:"",supportcontact:"",supporttype:4}]:e.tempArr=t.record,e.btnSubmitShow=!0}).catch(function(){e.btnloading=!1,e.btnSubmitShow=!1})},onSubmit:function(){var e=this,t=this.checkParams();console.log(t),t&&(this.btnloading=!0,Object(a._15)(t,{stringify:!0,headers:{"Content-type":"application/json;charset=UTF-8"}}).then(function(t){e.btnloading=!1,e.$message.success(lg.success)}).catch(function(){e.btnloading=!1}))},checkParams:function(){var e=this.addFm.customerid,t=this.tempArr;if(!this.addFm.customerid)return this.$message.error(lg.inputTargetCustomer),!1;for(var i=0;i<t.length;i++)if(!t[i].supportcontact||!t[i].supportname||!t[i].supportcontact)return this.$message.error("第"+(i+1)+"行 联系信息填写有误，请检查"),!1;return{customerid:e,items:t}},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},trimVal:function(e,t){this.tempArr[e][t]=this.$trim(this.tempArr[e][t])}},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box supportcall-add"},[i("el-form",{ref:"addFm",attrs:{rules:e.rules,model:e.addFm}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",e._l(e.tempArr,function(t,s){return i("div",{key:s,staticClass:"clearfix mb10"},[i("el-select",{staticClass:"fl mr10",attrs:{placeholder:e.lg.selectHint},model:{value:t.supporttype,callback:function(i){e.$set(t,"supporttype",i)},expression:"item['supporttype']"}},e._l(e.typeArr,function(e){return i("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}),1),e._v(" "),i("el-input",{staticClass:"fl mr10",staticStyle:{width:"200px"},attrs:{placeholder:"名称"},on:{blur:function(t){return e.trimVal(s,"supportname")}},model:{value:t.supportname,callback:function(i){e.$set(t,"supportname",i)},expression:"item['supportname']"}}),e._v(" "),i("el-input",{staticClass:"fl mr10",staticStyle:{width:"200px"},attrs:{placeholder:"号码"},on:{blur:function(t){return e.trimVal(s,"supportcontact")}},model:{value:t.supportcontact,callback:function(i){e.$set(t,"supportcontact",i)},expression:"item['supportcontact']"}}),e._v(" "),i("i",{staticClass:"add-btn el-icon-minus fl",on:{click:function(i){return e.removeSupport(t)}}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:s<1,expression:"index<1"}],staticClass:"add-btn el-icon-plus fl",staticStyle:{"margin-left":"3px","border-right":"1px solid #fff"},on:{click:e.addSupport}})],1)}),0),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.btnSubmitShow,expression:"btnSubmitShow"}],staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading},on:{click:e.onSubmit}},[e._v(e._s(e.lg.submit))])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("184L")},null,null);t.default=o.exports},w0pp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={name:"yourbus",data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.selectCustomer)):s()},acckey:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error("请输入acc_key")):s()},imeis:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.inputImeiError)):s()}};return{balance:0,activeName:"add",yourBusFm:{customerid:"",acckey:"",imeis:"",remark:""},searchFm:{imei:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"},{validator:t.customerid,trigger:"keyup"}],acckey:[{required:!0,validator:t.acckey,trigger:"blur"}],imeis:[{required:!0,validator:t.imeis,trigger:"blur"}]}}},components:{userTreeSelect:r.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.yourBusFm.customerid=e.customerid},tabClick:function(){},getBalance:function(){var e=this;Object(n._102)({customerid:this.loginId}).then(function(t){e.balance=t.transfercardpoint}).catch(function(){})},onSubmit:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(n.l)(t).then(function(t){e.btnloading=!1,t.exist&&t.exist>0?e.$message({dangerouslyUseHTMLString:!0,type:"success",duration:0,showClose:!0,message:lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+".<br />Existed:"+t.exist+".<br />Existed "+t.msg.split(",").join("<br />")}):e.$message({dangerouslyUseHTMLString:!0,type:"success",duration:0,showClose:!0,message:lg.total+":"+e.getTotal(1)+".<br />Success:"+(e.getTotal(2)-parseInt(t.exist))+"."+(t.msg?"("+t.msg+")":"")}),e.fmReset(),e.getList(),e.getBalance()}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.yourBusFm.resetFields(),this.$refs.userTreeComp.clearFn()},checkParams:function(){var e=this.yourBusFm.customerid,t=this.$trim(this.yourBusFm.acckey),i=this.$trim(this.yourBusFm.imeis),s=this.$trim(this.yourBusFm.remark);if(!e)return this.$message.error(lg.selectCustomer),!1;if(!t)return this.$message.error("请输入acc_key"),!1;if(!i)return this.$message.error(lg.inputImeiError),!1;if((i=this.formatImeis(i)).length>200)return this.$message.error(lg.maxImeiNum.replace("{num}",200)),!1;var a=this.formatImeis15(i);return a.rs?{customerid:e,acckey:t,imeis:a.imeis.toString(),remark:s}:(this.$message.error(lg[20053]+"("+a.imeis[a.imeis.length-1]+")"),!1)},getTotal:function(e){var t=this.$trim(this.yourBusFm.imeis);return t=t.replaceAll("\n",",").split(","),"1"==e?t.length:"2"==e?this.unique(t).length:void 0},searchFn:function(){this.start=0,this.total=0,this.searchFm.imei=this.$trim(this.searchFm.imei);var e=this.searchFm.imei;if(""!=e&&!/[a-zA-Z\d]{5,18}/.test(e))return this.$message.error(lg.inputImeiLast5);this.searchParams={imei:e},this.getList()},getList:function(){var e=this;this.loading=!0,Object(n._170)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(e.createtime)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getBalance(),this.getList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-yourbus h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.yourBus))]),e._v(" "),i("el-row",{staticClass:"has-titlebar-content"},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.new))]),e._v(" "),i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"yourBusFm",attrs:{"label-width":"100px",model:e.yourBusFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[e._v("\n              "+e._s(e.balance)+"\n            ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:"acc_key",required:"",prop:"acckey"}},[i("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("yourBusFm","acckey")}},model:{value:e.yourBusFm.acckey,callback:function(t){e.$set(e.yourBusFm,"acckey",t)},expression:"yourBusFm.acckey"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.imei,required:"",prop:"imeis"}},[i("el-input",{directives:[{name:"showClear",rawName:"v-showClear"}],attrs:{type:"textarea"},on:{blur:function(t){return e.trimImeiInput("yourBusFm","imeis")}},model:{value:e.yourBusFm.imeis,callback:function(t){e.$set(e.yourBusFm,"imeis",t)},expression:"yourBusFm.imeis"}}),e._v(" "),i("el-alert",{staticClass:"no-bg",attrs:{closable:!1,"show-icon":"",type:"info"}},[i("template",{slot:"title"},[i("div",{staticClass:"limitTips"},[e._v("One line in one IMEI.")]),e._v(" "),i("div",{staticClass:"limitTips"},[e._v(e._s(e.lg.maxImeiNum.replace("{num}",200)))])])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("yourBusFm","remark")}},model:{value:e.yourBusFm.remark,callback:function(t){e.$set(e.yourBusFm,"remark",t)},expression:"yourBusFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)]),e._v(" "),i("el-col",{attrs:{span:16}},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"main-table"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.history))]),e._v(" "),i("el-form",{ref:"searchFm",staticClass:"ml10",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.imei,prop:"imei"}},[i("el-input",{attrs:{clearable:""},on:{change:e.searchFn},model:{value:e.searchFm.imei,callback:function(t){e.$set(e.searchFm,"imei",t)},expression:"searchFm.imei"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"imei",label:e.lg.imei}}),e._v(" "),i("el-table-column",{attrs:{prop:"account",label:e.lg.customer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.formatterTime,width:"160"}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("Di9D")},null,null);t.default=c.exports},w3gR:function(e,t){e.exports={_args:[["element-ui@2.15.6","/home/itrybrand/.jenkins/workspace/www_tomcat/src/main/webapp/dealer2"]],_from:"element-ui@2.15.6",_id:"element-ui@2.15.6",_inBundle:!1,_integrity:"sha512-rcYXEKd/j2G0AgficAOk1Zd1AsnHRkhmrK4yLHmNOiimU2JfsywgfKUjMoFuT6pQx0luhovj8lFjpE4Fnt58Iw==",_location:"/element-ui",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"element-ui@2.15.6",name:"element-ui",escapedName:"element-ui",rawSpec:"2.15.6",saveSpec:null,fetchSpec:"2.15.6"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/element-ui/-/element-ui-2.15.6.tgz",_spec:"2.15.6",_where:"/home/itrybrand/.jenkins/workspace/www_tomcat/src/main/webapp/dealer2",bugs:{url:"https://github.com/ElemeFE/element/issues"},dependencies:{"async-validator":"~1.8.1","babel-helper-vue-jsx-merge-props":"^2.0.0",deepmerge:"^1.2.0","normalize-wheel":"^1.0.1","resize-observer-polyfill":"^1.5.0","throttle-debounce":"^1.0.1"},description:"A Component Library for Vue.js.",devDependencies:{"@vue/component-compiler-utils":"^2.6.0",algoliasearch:"^3.24.5","babel-cli":"^6.26.0","babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-istanbul":"^4.1.1","babel-plugin-module-resolver":"^2.2.0","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-vue-jsx":"^3.7.0","babel-preset-env":"^1.7.0","babel-preset-stage-2":"^6.24.1","babel-regenerator-runtime":"^6.5.0",chai:"^4.2.0",chokidar:"^1.7.0","copy-webpack-plugin":"^5.0.0",coveralls:"^3.0.3","cp-cli":"^1.0.2","cross-env":"^3.1.3","css-loader":"^2.1.0","es6-promise":"^4.0.5",eslint:"4.18.2","eslint-config-elemefe":"0.1.1","eslint-loader":"^2.0.0","eslint-plugin-html":"^4.0.1","eslint-plugin-json":"^1.2.0","file-loader":"^1.1.11","file-save":"^0.2.0",gulp:"^4.0.0","gulp-autoprefixer":"^6.0.0","gulp-cssmin":"^0.2.0","gulp-sass":"^4.0.2","highlight.js":"^9.3.0","html-webpack-plugin":"^3.2.0","json-loader":"^0.5.7","json-templater":"^1.0.4",karma:"^4.0.1","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.2","karma-mocha":"^1.3.0","karma-sinon-chai":"^2.0.2","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"^0.0.32","karma-webpack":"^3.0.5","markdown-it":"^8.4.1","markdown-it-anchor":"^5.0.2","markdown-it-chain":"^1.3.0","markdown-it-container":"^2.0.0","mini-css-extract-plugin":"^0.4.1",mocha:"^6.0.2","node-sass":"^4.11.0","optimize-css-assets-webpack-plugin":"^5.0.1",postcss:"^7.0.14","progress-bar-webpack-plugin":"^1.11.0",rimraf:"^2.5.4","sass-loader":"^7.1.0","select-version-cli":"^0.0.2",sinon:"^7.2.7","sinon-chai":"^3.3.0","style-loader":"^0.23.1",transliteration:"^1.1.11","uglifyjs-webpack-plugin":"^2.1.1",uppercamelcase:"^1.1.0","url-loader":"^1.0.1",vue:"2.5.21","vue-loader":"^15.7.0","vue-router":"^3.0.1","vue-template-compiler":"2.5.21","vue-template-es2015-compiler":"^1.6.0",webpack:"^4.14.0","webpack-cli":"^3.0.8","webpack-dev-server":"^3.1.11","webpack-node-externals":"^1.7.2"},faas:[{domain:"element",public:"temp_web/element"},{domain:"element-theme",public:"examples/element-ui",build:["yarn","npm run deploy:build"]}],files:["lib","src","packages","types"],homepage:"http://element.eleme.io",keywords:["eleme","vue","components"],license:"MIT",main:"lib/element-ui.common.js",name:"element-ui",peerDependencies:{vue:"^2.5.17"},repository:{type:"git",url:"git+ssh://git@github.com/ElemeFE/element.git"},scripts:{bootstrap:"yarn || npm i","build:file":"node build/bin/iconInit.js & node build/bin/build-entry.js & node build/bin/i18n.js & node build/bin/version.js","build:theme":"node build/bin/gen-cssfile && gulp build --gulpfile packages/theme-chalk/gulpfile.js && cp-cli packages/theme-chalk/lib lib/theme-chalk","build:umd":"node build/bin/build-locale.js","build:utils":"cross-env BABEL_ENV=utils babel src --out-dir lib --ignore src/index.js",clean:"rimraf lib && rimraf packages/*/lib && rimraf test/**/coverage","deploy:build":"npm run build:file && cross-env NODE_ENV=production webpack --config build/webpack.demo.js && echo element.eleme.io>>examples/element-ui/CNAME","deploy:extension":"cross-env NODE_ENV=production webpack --config build/webpack.extension.js",dev:"npm run bootstrap && npm run build:file && cross-env NODE_ENV=development webpack-dev-server --config build/webpack.demo.js & node build/bin/template.js","dev:extension":"rimraf examples/extension/dist && cross-env NODE_ENV=development webpack --watch --config build/webpack.extension.js","dev:play":"npm run build:file && cross-env NODE_ENV=development PLAY_ENV=true webpack-dev-server --config build/webpack.demo.js",dist:"npm run clean && npm run build:file && npm run lint && webpack --config build/webpack.conf.js && webpack --config build/webpack.common.js && webpack --config build/webpack.component.js && npm run build:utils && npm run build:umd && npm run build:theme",i18n:"node build/bin/i18n.js",lint:"eslint src/**/* test/**/* packages/**/* build/**/* --quiet",pub:"npm run bootstrap && sh build/git-release.sh && sh build/release.sh && node build/bin/gen-indices.js",test:"npm run lint && npm run build:theme && cross-env CI_ENV=/dev/ BABEL_ENV=test karma start test/unit/karma.conf.js --single-run","test:watch":"npm run build:theme && cross-env BABEL_ENV=test karma start test/unit/karma.conf.js"},style:"lib/theme-chalk/index.css",typings:"types/index.d.ts",unpkg:"lib/index.js",version:"2.15.6"}},w6AQ:function(e,t){},wQjV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={data:function(){var e=this,t={customerid:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.selectCustomer)):s()}};return{showadd:!1,addFm:{customerid:"",quantity:"",remark:""},btnloading:!1,rules:{customerid:[{required:!0,validator:t.customerid,trigger:"blur"},{validator:t.customerid,trigger:"change"},{validator:t.customerid,trigger:"keyup"}]}}},components:{userTreeSelect:s.default},computed:{loginId:function(){return this.$store.state.customerInfo.id}},methods:{selectedFn:function(e){this.addFm.customerid=e.customerid},setVisible:function(e){this.showadd=e},checkParams:function(){return this.addFm.customerid&&/^\d{1,}$/.test(this.addFm.customerid)?!(!this.addFm.quantity||!/^\d+(\.\d{1,1})?$/.test(this.addFm.quantity)||parseInt(this.addFm.quantity)<=0||parseInt(this.addFm.quantity)>2e3)||(this.$message.error(lg.invalidNumber),!1):(this.$message.error(lg.selectCustomer),!1)},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(a._90)(this.addFm).then(function(t){e.$message.success(lg.success),e.fmReset(),e.showadd=!1,e.btnloading=!1,e.$emit("addSuccess")}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.addFm.resetFields(),this.$refs.userTreeComp.clearFn()},cancelFn:function(){this.setVisible(!1),this.fmReset()},dialogCloseFn:function(){this.fmReset()}},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addLicence,visible:e.showadd,modal:!0,"show-close":!0,width:"620px","append-to-body":!0},on:{"update:visible":function(t){e.showadd=t},closed:e.dialogCloseFn}},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"addFm",attrs:{"label-width":"120px",model:e.addFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,required:"",prop:"quantity"}},[i("el-input-number",{attrs:{min:1,max:2e3,size:"medium"},model:{value:e.addFm.quantity,callback:function(t){e.$set(e.addFm,"quantity",t)},expression:"addFm.quantity"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.addFm.remark,callback:function(t){e.$set(e.addFm,"remark",t)},expression:"addFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"pt10 tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)])},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},wU4D:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{deviceid:"",devicename:"",intervalKey:null,showDialog:!1,btnloading:!1,loading:!1,reflash_cmd:null,second:"",beginTime:"",endTime:"",records:[],start:0,total:0,pagesize:20,limitDate:{disabledDate:function(e){return e.getTime()>Date.now()}}}},computed:{starttime:function(){return this.beginTime?new Date(this.utcToLocal(this.beginTime.getTime(),"/").substr(0,10)+" 00:00:00").getTime():""},endtime:function(){return this.endTime?new Date(this.utcToLocal(this.endTime.getTime(),"/").substr(0,10)+" 23:59:59").getTime():""}},components:{addressItem:function(){return i.e(154).then(i.bind(null,"gFbb"))}},methods:{showRecording:function(e,t){this.showDialog=!0,this.deviceid=e,this.devicename=t,this.getList()},getList:function(){var e=this;Object(s._115)({deviceid:this.deviceid,starttime:this.starttime,endtime:this.endtime,start:this.start,count:this.pagesize}).then(function(t){e.records=t.record,e.total=t.totalcount,e.loadAddress()}).catch(function(e){})},indexMethod:function(e){return this.start+(e+1)},renderStatusHeader:function(e,t){t.column;return e("span",[lg.status,e("i",{class:"refresh-icon el-icon-refresh ml5",on:{click:this.getList}})])},playAudio:function(e,t){var i=document.getElementById("audio"+e.recordhistoryid),s=this;e.playStatus?(e.playStatus=!1,s.$set(this.records,t,e),i.pause()):(e.playStatus=!0,s.$set(this.records,t,e),i.play(),i.addEventListener("ended",function(){e.playStatus=!1,s.$set(s.records,t,e)}))},formatterDate:function(e,t,i){return i?this.utcToLocal(i):0},formatterStatus:function(e,t,i){return"4"==i?lg.timeout:"9"==i?lg.finished:"2"==i||"3"==i?lg.uploadingRecord:"1"==i?lg.inrecording:void 0},loadAddress:function(){var e=this.records,t=e.length,i=this;i.intervalKey&&clearInterval(i.intervalKey);var s=0;this.intervalKey=setInterval(function(){s>=t?clearInterval(i.intervalKey):(i.$refs.addressComp.getAddressService({lat:e[s].latitude,lng:e[s].longitude,source:e[s],page:"viewreport"},function(e,t){i.$set(t,"address",e)}),s++)},500)},sendCommandFn:function(){var e=this;this.second?this.second<10||this.second>300||!/^\d{1,}$/.test(this.second)?this.$message.error(lg.inputRecordDuration):(this.btnloading=!0,Object(s._125)({deviceid:this.deviceid,cmd:"JT,"+this.second}).then(function(t){e.btnloading=!1,e.commandStatus(t.cmdid)}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"录音指令",opt_label:"点击",val:"Dealer2"})):this.$message.error(lg.inputRecordDuration)},commandStatus:function(e){var t=this;if(0!=e){t.loading=!0,clearTimeout(t.reflash_cmd);var i=15;!function a(){--i>0&&(t.reflash_cmd=setTimeout(a,2e3)),Object(s._34)({cmdid:e}).then(function(e){if(i<1)return t.$message({showClose:!0,message:lg.responseTimeout,type:"error"}),void(t.loading=!1);5==e.record.status&&(t.loading=!1,clearTimeout(t.reflash_cmd),t.$msgbox({title:lg.responseMsg,message:'<p class="f13 lh20" style="word-wrap:break-word;word-break:break-all;">'+e.record.response+"</p>",type:"info",dangerouslyUseHTMLString:!0,duration:0,showConfirmButton:!1}),t.getList())}).catch(function(e){t.loading=!1,console.log(e)})}()}else this.$message({message:lg.sosSetSuccess,type:"success"})},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},checkedDate:function(e){this.$refs.endDatePicker.focus()}},beforeDestroy:function(){clearInterval(this.intervalKey)}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("div",{staticClass:"recording-content",staticStyle:{"border-bottom":"1px solid #ddd"}},[i("el-alert",{staticClass:"tips-page",attrs:{title:e.lg.recordingTips,closable:!1,"show-icon":"",type:"info"}}),e._v(" "),i("el-form",{attrs:{inline:!0}},[i("el-form-item",{staticClass:"pl10",attrs:{label:e.lg.recordingTime+": "}},[i("el-input",{staticStyle:{width:"100px"},attrs:{type:"text"},model:{value:e.second,callback:function(t){e.second=t},expression:"second"}}),e._v(" ( 10~300s)\n        ")],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:e.sendCommandFn}},[e._v(e._s(e.lg.send))])],1)],1)],1),e._v(" "),i("div",{staticClass:"recording-content",staticStyle:{"min-height":"400px"}},[i("div",{staticClass:"pt15"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{staticClass:"mb5 ml10",attrs:{label:e.lg.time}},[i("el-date-picker",{staticStyle:{width:"170px"},attrs:{"picker-options":e.limitDate,type:"date","default-time":"00:00:00"},on:{change:e.checkedDate},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),e._v(" "+e._s(e.lg.to)+"\n            "),i("el-date-picker",{ref:"endDatePicker",staticStyle:{width:"170px"},attrs:{"picker-options":e.limitDate,type:"date","default-time":"23:59:59"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getList}},[e._v(e._s(e.lg.check))])],1)],1)],1),e._v(" "),i("el-table",{attrs:{data:e.records,"highlight-current-row":""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"60"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.formatterDate,width:"140"}}),e._v(" "),i("el-table-column",{attrs:{prop:"duration",label:e.lg.recordingTime+"(s)","min-width":"90px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"uploadstatus",label:e.lg.status,formatter:e.formatterStatus,"render-header":e.renderStatusHeader}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.geoAddress,"min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link",attrs:{target:"blank",href:e.lg.googleURL+t.row.latitude+","+t.row.longitude}},[i("span",[e._v(e._s(t.row.address?t.row.address:e.lg.loadAddress))])])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate,"min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["9"==t.row.uploadstatus?i("div",[i("audio",{attrs:{src:"/download/record/file?recordhistoryid="+t.row.recordhistoryid+"&timezone="+e.timezoneOffset(),id:"audio"+t.row.recordhistoryid}}),e._v(" "),i("a",{staticClass:"link",attrs:{href:"javascript:void(0)"},on:{click:function(i){return e.playAudio(t.row,t.$index)}}},[e._v(e._s(t.row.playStatus?e.lg.stop:e.lg.play))]),e._v(" | \n              "),i("a",{staticClass:"link",attrs:{href:"/download/record/file?recordhistoryid="+t.row.recordhistoryid+"&timezone="+e.timezoneOffset(),target:"_blank"}},[e._v(e._s(e.lg.downloadNow))])]):i("div",[e._v("\n              -\n            ")])]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block mt20 tc"},[i("el-pagination",{attrs:{background:"","current-page":1,"page-size":e.pagesize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("addressItem",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"addressComp"})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(e){i("3pO9")},null,null);t.default=n.exports},wUkO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"exportcustomerdevice",data:function(){return{lifelongArr:[{value:0,i18n:"all"},{value:1,i18n:"onlylifelong"},{value:2,i18n:"nolifelong"}],exportFm:{devicetype:0,customerid:""},btnloading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:i("Rpa2").default},methods:{selectedFn:function(e){this.exportFm.customerid=e.customerid},onSubmit:function(){if(!this.exportFm.customerid)return this.$message.error(lg.selectCustomer);window.open("/OutputService?method=outputCustomerDeviceAllFile&customerid="+this.exportFm.customerid+"&devicetype="+this.exportFm.devicetype+"&tzOffset="+this.timezoneOffset()+"&language="+this.$lang)}},mounted:function(){}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.exportCustomerDevice)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        功能说明："),i("br"),e._v("\n        严格控制开放此功能给客户 甚至销售"),i("br"),e._v("\n        因为这是一个可能的客户跑路功能。\n      ")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"exportFm",attrs:{"show-message":!1,model:e.exportFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),e.auth.hasAuth2ImportDevice?i("el-form-item",{attrs:{label:e.lg.lifeLong,prop:"devicetype"}},[i("el-select",{attrs:{clearable:"","collapse-tags":""},model:{value:e.exportFm.devicetype,callback:function(t){e.$set(e.exportFm,"devicetype",t)},expression:"exportFm.devicetype"}},e._l(e.lifelongArr,function(t){return i("el-option",{key:"lifelong-"+t.value,attrs:{label:e.lg[t.i18n],value:t.value}})}),1)],1):e._e(),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{staticClass:"download-excel-btn",attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v("\n          "+e._s(e.lg.downloadExcel)+"\n        ")])],1)],1)],1)])],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},"x/F0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n=i("KvKp"),o=i("A6oP"),l=i("iKHV"),c={props:["id","treeType"],data:function(){return{treetype:1,userInfo:{},customerid:"",selection:[],deviceColumn:[],records:[],filterData:[],total:0,start:0,pagesize:20,pagesizes:[10,15,20,30,50],detailVisible:!1,saleVisible:!1,moveVisible:!1,rechargeVisible:!1,ioVisible:!1,accountVisible:!1,btnloading:!1,loading:!1,fuelEfficiencyUnit:o.b,speedUnit:o.c,moveDeviceTitle:"",searchKey:""}},computed:{modifyPlatfor:function(){return this.$store.state.auth.isPrimaryDealer},hasAuth2ModifyPlatformTime:function(){return this.$store.state.auth.hasAuth2ModifyPlatformTime},unit:function(){return this.$store.state.unit},auth:function(){return this.$store.state.auth}},components:{columnComp:function(){return i.e(149).then(i.bind(null,"sZCN")).catch()},deviceDetail:function(){return i.e(78).then(i.bind(null,"QmMy")).catch()},modifyPwdComp:function(){return i.e(108).then(i.bind(null,"znlC")).catch()},salesComp:function(){return i.e(117).then(i.bind(null,"pzsd")).catch()},batchSalesComp:function(){return i.e(96).then(i.bind(null,"2En/")).catch()},batchMoveComp:function(){return i.e(98).then(i.bind(null,"IKuJ")).catch()},batchModifyDate:function(){return i.e(102).then(i.bind(null,"5gwf")).catch()},batchPlatformDate:function(){return i.e(101).then(i.bind(null,"YXVO")).catch()},batchRechargeComp:function(){return i.e(100).then(i.bind(null,"hhhU")).catch()},rechargeComp:function(){return i.e(150).then(i.bind(null,"5iOi")).catch()},ioComp:function(){return i.e(142).then(i.bind(null,"Zf8b")).catch()},createAccountComp:function(){return i.e(109).then(i.bind(null,"Bu48")).catch()},batchAlertComp:function(){return i.e(137).then(i.bind(null,"y4Ep")).catch()},batchSetComp:function(){return i.e(139).then(i.bind(null,"rClD")).catch()},uploadSetComp:function(){return i.e(133).then(i.bind(null,"opbO")).catch()},batchRemoveComp:function(){return i.e(152).then(i.bind(null,"9bTi")).catch()},addVirtualDevice:function(){return i.e(153).then(i.bind(null,"Woj9")).catch()},searchComp:function(){return i.e(2).then(i.bind(null,"Ghwc")).catch()}},methods:{indexMethod:function(e){return this.start+(e+1)},handleSelectionChange:function(e){this.selection=e},rowClick:function(e,t,i){this.$refs.deviceTable.toggleRowSelection(e)},setData:function(e,t){this.userInfo=e,this.customerid==e.id&&this.treetype==t||(this.customerid=e.id,this.treetype=parseInt(t),this.initList())},initList:function(){this.start=0,this.total=0,this.records=[],this.filterData=[],this.getList()},searchList:Object(n.a)(function(){var e=this.$trim(this.searchKey),t=[];if(e)if(e.length<5)this.$message.error(lg.inputImeiLast5);else if(this.total<=this.pagesize){for(var i=0;i<this.total;i++)(Object(n.l)(this.records[i].devicename,e)||Object(n.l)(this.records[i].imei,e))&&t.push(this.records[i]);this.filterData=t}else this.getList({imei:e});else this.initList()},500),getList:function(e){var t=this;this.customerid&&(this.loading=!0,e=e||{},Object(r._7)(a()({customerid:this.customerid,start:this.start,treetype:this.treetype,count:this.pagesize},e)).then(function(e){t.records=e.record,t.filterData=e.record,t.total=e.totalcount,t.loading=!1}).catch(function(){t.loading=!1}))},fmtTime:function(e,t,i,s){return i?this.utcToLocal(i).substr(0,10):"-"},fmtTimeAll:function(e,t,i,s){return i?this.utcToLocal(i):"-"},fmtLifelong:function(e,t,i,s){return i?"√":"×"},fmtPlattime:function(e){return e.online?this.utcToLocal(e.plattime).substr(0,10):"1"==e.lifelong?"2099-12-31":"-"},fmtUserEnd:function(e){return e.online?this.utcToLocal(e.distributortime).substr(0,10):"-"},fmtOnlineTime:function(e){return e.online?this.utcToLocal(e.onlinetime).substr(0,10):"--"},fmtVal:function(e,t,i,s){return i||"-"},fmtOverspeed:function(e,t,i,s){return i?Object(l.c)(i,"distance",this.unit.distance):"-"},fmtFuel:function(e,t,i,s){return i?Object(l.c)(i,"fuelefficiency",this.unit.fuelefficiency):"-"},setColumnSuccess:function(){this.setColumnObj()},showDetail:function(e){this.detailVisible=!0;var t=this;setTimeout(function(){t.$refs.deviceDetailComp.getDetail(e.deviceid)},500)},showSearch:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showDeviceDetail(e.imei)},hideDetail:function(){this.detailVisible=!1},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},resetPwd:function(e){var t=this;this.$confirm(lg.resetPwdTip).then(function(){Object(r._119)({deviceid:e}).then(function(e){t.$message.success(lg.resetPwdSuceess)}).catch(function(){})}).catch(function(){})},modifyPwd:function(e){this.$refs.modifyPwdComp.setVisible(!0),this.$refs.modifyPwdComp.setData(e)},showSales:function(e){this.saleVisible=!0;var t=this;this.findObj("salesComp",this.$refs,function(){t.$refs.salesComp.setData(e)})},sellSuccess:function(){this.getList(),this.saleVisible=!1,this.moveVisible=!1},getSelectedImeis:function(){var e=[];return this.selection.forEach(function(t,i){e.push(t.imei)}),e},showSetColumn:function(){this.$refs.columnComp.setVisible(!0),this.$refs.columnComp.init()},setColumnObj:function(){var e=localStorage.getItem("deviceColumn");this.deviceColumn=e?e.split(","):["devicename","imei","simcard","devicetype","selltime","plattime","factorytime"]},showBatchSale:function(){this.$refs.batchSalesComp.setVisible(!0),this.$refs.batchSalesComp.setData(this.getSelectedImeis())},showMove:function(e,t){this.moveDeviceTitle=t||lg.moveTarget,this.moveVisible=!0;var i=this;this.findObj("batchMoveComp",this.$refs,function(){i.$refs.batchMoveComp.setData([e.imei])})},showBatchMove:function(){this.moveDeviceTitle=lg.moveTarget,this.moveVisible=!0;var e=this;this.findObj("batchMoveComp",this.$refs,function(){e.$refs.batchMoveComp.setData(e.getSelectedImeis())})},showBatchModifyDate:function(){this.$refs.batchModifyDateComp.setVisible(!0),this.$refs.batchModifyDateComp.setData(this.getSelectedImeis())},showBatchPlatformDate:function(){this.$refs.batchPlatformDateComp.setVisible(!0),this.$refs.batchPlatformDateComp.setData(this.getSelectedImeis())},showBatchRecharge:function(){this.$refs.batchRechargeComp.setVisible(!0),this.$refs.batchRechargeComp.setData(this.getSelectedImeis())},showRecharge:function(e){this.rechargeVisible=!0;var t=this;this.findObj("rechargeComp",this.$refs,function(){t.$refs.rechargeComp.setData(e)})},hideRecharge:function(){this.rechargeVisible=!1},clearRecharge:function(){this.$refs.rechargeComp.resetFm()},ioSet:function(e){this.ioVisible=!0;var t=this;this.findObj("ioComp",this.$refs,function(){t.$refs.ioComp.init(e.deviceid)})},addAccount:function(e){this.accountVisible=!0;var t=this;this.findObj("createAccountComp",this.$refs,function(){t.$refs.createAccountComp.setData(e)})},showBatchAlert:function(){0!=this.selection.length&&(this.$refs.batchAlertComp.setVisible(!0),this.$refs.batchAlertComp.setImeis(this.getSelectedImeis()))},showBatchSetting:function(){0!=this.selection.length&&(this.$refs.batchSetComp.setVisible(!0),this.$refs.batchSetComp.setImeis(this.getSelectedImeis()))},showUploadSet:function(){this.$refs.uploadSetComp.show()},showBatchRemove:function(){this.$refs.batchRemoveComp.show(),this.$refs.batchRemoveComp.setData(this.userInfo,this.selection)},removeVSuccess:function(){this.initList()},AddVirtual:function(e){this.showMove(e,lg.addToVirtualAccount)},showAddVirtual:function(){this.$refs.addVirtualDevice.show(),this.$refs.addVirtualDevice.setData(this.userInfo)},removeV:function(e){var t=this;this.$confirm(lg.removeDeviceTip).then(function(){var i={customerid:t.customerid,deviceids:e.deviceid};Object(r._2)(i).then(function(e){t.$message.success(lg.targerDeleteSuccessTip),t.initList()}).catch(function(e){})}).catch(function(){})},clearSellFm:function(){this.$refs.salesComp.resetFm()},addVSuccess:function(){this.initList()},addAccountClosed:function(){this.$refs.createAccountComp.dialogCloseFn()}},mounted:function(){var e=this;this.$nextTick(function(){e.customerid=e.$store.state.loginId,e.treetype=e.treeType?parseInt(e.treeType):1,e.setColumnObj(),e.getList()})}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-list"},[i("div",{staticClass:"batch-option-box clearfix"},["3"==e.userInfo.type?[i("el-button",{staticClass:"batch-btn",attrs:{type:"primary",size:"mini",disabled:!e.selection.length},on:{click:e.showBatchRemove}},[i("i",{staticClass:"el-icon-remove-outline"}),e._v("\n        "+e._s(e.lg.batchRemove)+"\n      ")]),e._v(" "),i("el-button",{staticClass:"batch-btn",attrs:{type:"primary",size:"mini"},on:{click:e.showAddVirtual}},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("\n        "+e._s(e.lg.addTarget)+"\n      ")])]:[i("el-button",{staticClass:"sale-btn batch-btn",attrs:{type:"primary",size:"mini"},on:{click:e.showBatchSale}},[e._v(e._s(e.lg.batchSale))]),e._v(" "),i("el-button",{staticClass:"recharge-btn batch-btn",attrs:{type:"primary",size:"mini"},on:{click:e.showBatchRecharge}},[e._v(e._s(e.lg.batchRecharge))]),e._v(" "),i("el-popover",{attrs:{placement:"bottom","popper-class":"table-more-option","visible-arrow":!1,trigger:"hover"}},[i("ul",[i("li",{on:{click:e.showBatchMove}},[i("i",{staticClass:"more-btn-item-icon batch-move-btn"}),e._v(e._s(e.lg.batchMove))]),e._v(" "),i("li",{on:{click:e.showBatchModifyDate}},[i("i",{staticClass:"more-btn-item-icon batch-distributor-btn"}),e._v(e._s(e.lg.batchDistributorTime))]),e._v(" "),e.hasAuth2ModifyPlatformTime?i("li",{on:{click:e.showBatchPlatformDate}},[i("i",{staticClass:"more-btn-item-icon batch-distributor-btn"}),e._v(e._s(e.lg.batchPlatformTime))]):e._e(),e._v(" "),i("div",{staticClass:"div-border-b"}),e._v(" "),i("li",{class:{disabled:!e.selection.length},on:{click:e.showBatchAlert}},[i("i",{staticClass:"more-btn-item-icon batch-alert-set-btn"}),e._v(e._s(e.lg.batchAlertSettings))]),e._v(" "),i("li",{class:{disabled:!e.selection.length},on:{click:e.showBatchSetting}},[i("i",{staticClass:"more-btn-item-icon batch-set-btn"}),e._v(e._s(e.lg.batchSetting))]),e._v(" "),i("li",{on:{click:e.showUploadSet}},[i("i",{staticClass:"more-btn-item-icon batch-modify-btn"}),e._v(e._s(e.lg.setByUpload))])]),e._v(" "),i("a",{staticClass:"link-btn",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.lg.more)),i("i",{staticClass:"el-icon-caret-bottom"})])])],e._v(" "),i("el-input",{staticClass:"device-table-search fr",attrs:{placeholder:e.lg.inputImeiLast5,"prefix-icon":"search-icon base-icon",clearable:!0},on:{input:e.searchList,blur:function(t){return e.$trimFn("","searchKey")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],2),e._v(" "),i("div",{staticClass:"table-box"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"deviceTable",staticStyle:{width:"100%"},attrs:{data:e.filterData,resizable:"",fit:"",stripe:"","highlight-current-row":""},on:{"row-click":e.rowClick,"selection-change":e.handleSelectionChange}},[i("el-table-column",{key:"1",attrs:{type:"selection",width:"32",fixed:"left"}}),e._v(" "),i("el-table-column",{key:"2",attrs:{type:"index",align:"center",index:e.indexMethod,fixed:"left",label:e.lg.serialNum,width:"50"}}),e._v(" "),i("el-table-column",{key:"3",attrs:{prop:"devicename","min-width":"100",label:e.lg.targetName}}),e._v(" "),i("el-table-column",{key:"4",attrs:{label:e.lg.imei,width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showSearch(t.row)}}},[i("copy",{ref:"copy-imei-"+t.$index,attrs:{txt:t.row.imei}},[e._v("\n              "+e._s(t.row.imei)+"\n            ")])],1)]}}])}),e._v(" "),e.deviceColumn.includes("simcard")?i("el-table-column",{key:"5",attrs:{prop:"simcard",label:e.lg.simCard,formatter:e.fmtVal,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.simcard?[i("copy",{ref:"copy-simcard-"+t.$index,attrs:{txt:t.row.simcard}},[e._v("\n              "+e._s(t.row.simcard)+"\n            ")])]:[e._v("-")]]}}],null,!1,2154498852)}):e._e(),e._v(" "),e.deviceColumn.includes("devicetype")?i("el-table-column",{key:"6",attrs:{prop:"devicetype",label:e.lg.targetType}}):e._e(),e._v(" "),e.deviceColumn.includes("carnum")?i("el-table-column",{key:"7",attrs:{prop:"plate",label:e.lg.carNum,formatter:e.fmtVal}}):e._e(),e._v(" "),e.hasAuth2ModifyPlatformTime&&8!=e.treetype&&e.deviceColumn.includes("factorytime")?i("el-table-column",{key:"8",attrs:{prop:"factorytime","min-width":"110",label:e.lg.factoryTime,formatter:e.fmtTime}}):e._e(),e._v(" "),e.deviceColumn.includes("selltime")?i("el-table-column",{key:"9",attrs:{prop:"selltime",label:e.lg.sellTime,"min-width":"100",formatter:e.fmtTime}}):e._e(),e._v(" "),e.deviceColumn.includes("lifelong")&&[1,2,3,4,8].includes(e.treetype)?i("el-table-column",{key:"19",attrs:{prop:"lifelong","min-width":"120",label:e.lg.lifeLong,formatter:e.fmtLifelong}}):e._e(),e._v(" "),e.deviceColumn.includes("plattime")&&[1,2,3,4,8].includes(e.treetype)?i("el-table-column",{key:"10",attrs:{prop:"plattime","min-width":"120",label:e.lg.platformEnd,formatter:e.fmtPlattime}}):e._e(),e._v(" "),[5,6,7,8].includes(e.treetype)||e.deviceColumn.includes("distributortime")?i("el-table-column",{key:"11",attrs:{prop:"distributortime",label:e.lg.userEnd,formatter:e.fmtUserEnd}}):e._e(),e._v(" "),[8].includes(e.treetype)||e.deviceColumn.includes("offlinetime")?i("el-table-column",{key:"12",attrs:{prop:"offlinetime",label:e.lg.offlineTime,formatter:e.fmtTimeAll}}):e._e(),e._v(" "),e.deviceColumn.includes("onlinetime")?i("el-table-column",{key:"13",attrs:{prop:"onlinetime",label:e.lg.onlineTime,formatter:e.fmtOnlineTime}}):e._e(),e._v(" "),e.deviceColumn.includes("overspeed")?i("el-table-column",{key:"14",attrs:{prop:"overspeedthreshold",label:e.lg.overspeedThreshold+"("+e.speedUnit[e.unit.distance]+")",formatter:e.fmtOverspeed}}):e._e(),e._v(" "),e.deviceColumn.includes("fuelconsumption")?i("el-table-column",{key:"15",attrs:{prop:"fuelconsumption",label:e.lg.fuelConsumptions+"("+e.fuelEfficiencyUnit[e.unit.fuelefficiency]+")",formatter:e.fmtFuel}}):e._e(),e._v(" "),e.deviceColumn.includes("icon")?i("el-table-column",{key:"16",attrs:{label:e.lg.icon},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{attrs:{src:"/images/icon/"+e.row.icon+".png"}})]}}],null,!1,3533781540)}):e._e(),e._v(" "),e.deviceColumn.includes("remark")?i("el-table-column",{key:"17",attrs:{prop:"remark",label:e.lg.remark}}):e._e(),e._v(" "),i("el-table-column",{key:"18",attrs:{fixed:"right",width:"170"},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v("\n          "+e._s(e.lg.operate)+"\n          "),e._v(" "),i("el-button",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.setColumn,expression:"lg.setColumn"}],staticClass:"more-column-btn",attrs:{icon:"el-icon-more",size:"mini"},on:{click:e.showSetColumn}})]}},{key:"default",fn:function(t){return["3"==e.userInfo.type?[i("a",{staticClass:"link-btn",on:{click:function(i){return e.removeV(t.row)}}},[e._v(e._s(e.lg.remove))])]:[i("a",{staticClass:"link-btn",on:{click:function(i){return e.showSales(t.row)}}},[e._v(e._s(e.lg.sale))]),e._v(" |\n            "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.showDetail(t.row)}}},[e._v(e._s(e.lg.detail))]),e._v(" |\n            "),e._v(" "),i("el-popover",{attrs:{placement:"bottom","popper-class":"table-more-option","visible-arrow":!1,trigger:"hover"}},[i("ul",[i("li",{on:{click:function(i){return e.showMove(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch move-btn"}),e._v(e._s(e.lg.move))]),e._v(" "),e.auth.hasViewDescription?i("li",{on:{click:function(i){return e.AddVirtual(t.row)}}},[i("i",{staticClass:"more-btn-item-icon iconfont el-icon-circle-plus-outline"}),e._v(e._s(e.lg.addToVirtualAccount))]):e._e(),e._v(" "),i("li",{staticClass:"border-b",on:{click:function(i){return e.showRecharge(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch recharge-btn"}),e._v(e._s(e.lg.recharge))]),e._v(" "),i("a",{attrs:{href:"/V2/index.jsp?customerid="+e.customerid+"&source=V2/#/playback?deviceid="+t.row.deviceid,target:"_blank"}},[i("li",[i("i",{staticClass:"more-btn-item-icon playback-btn"}),e._v(e._s(e.lg.playback))])]),e._v(" "),i("a",{attrs:{href:"/V2/index.jsp?customerid="+e.customerid+"&source=V2/#/tracking?deviceid="+t.row.deviceid,target:"_blank"}},[i("li",{staticClass:"border-b"},[i("i",{staticClass:"more-btn-item-icon track-btn"}),e._v(e._s(e.lg.track))])]),e._v(" "),i("li",{on:{click:function(i){return e.ioSet(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch ioset-btn"}),e._v(e._s(e.lg.ioSet))]),e._v(" "),i("li",{on:{click:function(i){return e.addAccount(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch addaccount-btn"}),e._v(e._s(e.lg.addAccount))]),e._v(" "),i("li",{on:{click:function(i){return e.resetPwd(t.row.deviceid)}}},[i("i",{staticClass:"more-btn-item-icon resetpwd-btn"}),e._v(e._s(e.lg.resetPwd))]),e._v(" "),i("li",{on:{click:function(i){return e.modifyPwd(t.row)}}},[i("i",{staticClass:"more-btn-item-icon icoinsearch modifypwd-btn"}),e._v(e._s(e.lg.modifyPwd))])]),e._v(" "),i("a",{staticClass:"link-btn",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.lg.more)),i("i",{staticClass:"el-icon-caret-bottom"})])])]]}}])})],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fl"},[e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),i("div",{staticClass:"download-btns"},[i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription&&e.total&&[2,3,4,5,6,7].includes(e.treetype),expression:"auth.hasViewDescription &&total && [2,3,4,5,6,7].includes(treetype)"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            1 到期设备列表，此处只支持逐个客户导出"),i("br"),e._v("\n            2 若需一次批量导出所有子客户的到期设备列表"),i("br"),e._v("\n            请到functions模块：导出过期设备"),i("br"),e._v("\n            /exportexpiredevices"),i("br")])]),e._v(" "),e.total?i("a",{staticClass:"excel-btn",attrs:{href:"/OutputService?method=devicelistXls&customerid="+e.customerid+"&lang="+e.$lang+"&treetype="+e.treetype}},[e._v(e._s(e.lg.downloadExcel))]):e._e()],1)])],1),e._v(" "),i("columnComp",{ref:"columnComp",on:{setSuccess:e.setColumnSuccess}}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.target,visible:e.detailVisible,"append-to-body":!0,modal:!0,"show-close":!0,top:"10vh",width:"700px"},on:{"update:visible":function(t){e.detailVisible=t}}},[i("deviceDetail",{ref:"deviceDetailComp",on:{hideDetail:e.hideDetail}})],1),e._v(" "),i("modifyPwdComp",{ref:"modifyPwdComp"}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.sale,visible:e.saleVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.saleVisible=t},closed:e.clearSellFm}},[i("salesComp",{ref:"salesComp",attrs:{dialog:!0},on:{close:function(t){e.saleVisible=!1},sellSuccess:e.sellSuccess}})],1),e._v(" "),i("batchSalesComp",{ref:"batchSalesComp",on:{sellSuccess:e.sellSuccess}}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.moveDeviceTitle,visible:e.moveVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.moveVisible=t}}},[i("batchMoveComp",{ref:"batchMoveComp",attrs:{dialog:!0},on:{close:function(t){e.moveVisible=!1},moveSuccess:e.sellSuccess}})],1),e._v(" "),i("batchModifyDate",{ref:"batchModifyDateComp"}),e._v(" "),i("batchPlatformDate",{ref:"batchPlatformDateComp"}),e._v(" "),i("batchRechargeComp",{ref:"batchRechargeComp"}),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.recharge,visible:e.rechargeVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.rechargeVisible=t},closed:e.clearRecharge}},[i("rechargeComp",{ref:"rechargeComp",attrs:{dialog:!0},on:{close:function(t){e.rechargeVisible=!1},rechargeCb:e.hideRecharge}})],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.ioSet,visible:e.ioVisible,modal:!0,"show-close":!0,"append-to-body":!0,width:"550px"},on:{"update:visible":function(t){e.ioVisible=t}}},[i("ioComp",{ref:"ioComp",on:{hideDialog:function(t){e.ioVisible=!1}}})],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addAccount,visible:e.accountVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.accountVisible=t},closed:e.addAccountClosed}},[i("createAccountComp",{ref:"createAccountComp",on:{hideDialog:function(t){e.accountVisible=!1}}})],1),e._v(" "),i("batchAlertComp",{ref:"batchAlertComp"}),e._v(" "),i("batchSetComp",{ref:"batchSetComp"}),e._v(" "),i("batchRemoveComp",{ref:"batchRemoveComp",on:{removeSuccess:e.removeVSuccess}}),e._v(" "),i("addVirtualDevice",{ref:"addVirtualDevice",on:{addSuccess:e.addVSuccess}}),e._v(" "),i("searchComp",{ref:"searchComp"}),e._v(" "),i("uploadSetComp",{ref:"uploadSetComp",on:{refreshList:e.initList}})],1)},staticRenderFns:[]};var m=i("VU/8")(c,u,!1,function(e){i("2KOF")},null,null);t.default=m.exports},x1Ae:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o=(i("KvKp"),{name:"moveroutelicence",data:function(){var e=this,t={targetcustomerid:function(t,i,s){""===(i=e.$trim(i+""))?s(new Error(lg.selectCustomer)):s()}};return{licenceFm:{targetcustomerid:"",quantity:"",remark:""},totalLicence:0,usedLicence:0,balance:0,records:[],total:0,start:0,pagesize:15,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1,rules:{targetcustomerid:[{required:!0,validator:t.targetcustomerid,trigger:"blur"},{validator:t.targetcustomerid,trigger:"change"},{validator:t.targetcustomerid,trigger:"keyup"}]}}},components:{userTreeSelect:r.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedFn:function(e){this.licenceFm.targetcustomerid=e.customerid},tabClick:function(){},getLicenceOverview:function(){var e=this;Object(n._75)().then(function(t){e.totalLicence=t.record.total,e.usedLicence=t.record.used,e.balance=t.record.balance}).catch(function(){})},onSubmit:function(){var e=this;this.checkParams()&&(this.btnloading=!0,Object(n._84)(a()({operationtype:2},this.licenceFm)).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.fmReset(),e.getLicenceOverview(),e.getList()}).catch(function(){e.btnloading=!1}))},fmReset:function(){this.$refs.licenceFm.resetFields(),this.$refs.userTreeComp.clearFn()},checkParams:function(){return this.licenceFm.targetcustomerid&&/^\d{1,}$/.test(this.licenceFm.targetcustomerid)?!(!this.licenceFm.quantity||!/^\d+(\.\d{1,1})?$/.test(this.licenceFm.quantity)||parseInt(this.licenceFm.quantity)<=0||parseInt(this.licenceFm.quantity)>2e3)||(this.$message.error(lg.invalidNumber),!1):(this.$message.error(lg.selectCustomer),!1)},getList:function(){var e=this;this.loading=!0,Object(n._85)({operationtype:2,start:this.start,pagecount:this.pagesize}).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.targetusername+"("+e.targetuseraccount+")"},formatterTime:function(e,t,i,s){return this.utcToLocal(e.createtime)},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()}},mounted:function(){this.getLicenceOverview(),this.getList()}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-moveroutelicence h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.moveRouteLicence))]),e._v(" "),i("el-row",{staticClass:"has-titlebar-content"},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"aside-box h100b"},[i("el-scrollbar",{staticClass:"h100b"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.new))]),e._v(" "),i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"licenceFm",attrs:{"label-position":"right",model:e.licenceFm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.balance}},[i("table",{staticClass:"table-balance"},[i("tr",[i("td",[e._v(" "+e._s(e.totalLicence)+" "),i("em",[e._v(e._s(e.lg.total))])]),e._v(" "),i("td",[e._v(" "+e._s(e.usedLicence)+" "),i("em",[e._v(e._s(e.lg.used))])]),e._v(" "),i("td",[e._v(" "+e._s(e.balance)+" "),i("em",[e._v(e._s(e.lg.balance))])])])])]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:"",prop:"targetcustomerid"}},[i("userTreeSelect",{ref:"userTreeComp",on:{selected:e.selectedFn}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.number,required:"",prop:"quantity"}},[i("el-input-number",{attrs:{min:0,size:"medium"},model:{value:e.licenceFm.quantity,callback:function(t){e.$set(e.licenceFm,"quantity",t)},expression:"licenceFm.quantity"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.remark,prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},on:{blur:function(t){return e.$trimFn("licenceFm","remark")}},model:{value:e.licenceFm.remark,callback:function(t){e.$set(e.licenceFm,"remark",t)},expression:"licenceFm.remark"}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)]),e._v(" "),i("el-col",{attrs:{span:16}},[i("el-scrollbar",{staticClass:"white-bg h100b"},[i("div",{staticClass:"main-table"},[i("h4",{staticClass:"title"},[e._v(e._s(e.lg.history))]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"targetusername",label:e.lg.aimCustomer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"quantity",label:e.lg.number}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.dateTime,formatter:e.formatterTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:e.lg.remark}})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("Kdv3")},null,null);t.default=c.exports},xAYy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("BO1k"),a=i.n(s),r=i("Dd8w"),n=i.n(r),o=i("Rpa2"),l=i("gyMJ"),c={name:"reviewcustomerapply",data:function(){return{searchFm:{customerid:"",customersubuser:1,applyAccount:"",submittersubuser:1,key:"",statusType:[],applicationtype:""},statusOpt:[{value:1,label:"Preparing"},{value:10,label:"Pending"},{value:20,label:"Approved"},{value:30,label:"Released"},{value:-1,label:"Deleted"}],statusConfig:{1:"Preparing",10:"Pending",20:"Approved",30:"Released","-1":"Deleted"},salesConfig:{16:"Tammy",65550:"Mandy",302210:"Nico",348757:"Daria",25:"Penny",99776:"Coco",521626:"Ella",7:"Cathy",126137:"Landy",510606:"Jenny",17:"Esther",10471:"Zoe",68379:"Carrie"},oldStatusOptions:[],records:[],total:0,start:0,currentPage:1,pagesizes:[10,15,20,30,50],pagesize:10,searchParams:{},showMore:!1,loading:!1}},components:{searchComp:function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"Ghwc")).catch()},userTreeSelect:o.default},computed:{auth:function(){return this.$store.state.auth},customerInfo:function(){return this.$store.state.customerInfo}},methods:{indexMethod:function(e){return this.start+(e+1)},setTargetAccount:function(e){this.searchFm.customerid=e.customerid},setApplyAccount:function(e){this.searchFm.applyAccount=e.customerid},searchFn:function(e){void 0!=e?(this.start=e*this.pagesize,this.currentPage=1+e):(this.start=0,this.currentPage=1),this.searchParams={customerid:this.searchFm.customerid,submitterid:this.searchFm.applyAccount,customersubuser:this.searchFm.customersubuser,submittersubuser:this.searchFm.submittersubuser,key:this.$trim(this.searchFm.key),status:this.formatAlarmType(),applicationtype:this.searchFm.applicationtype},this.getList()},resetSearchFm:function(){this.start=0,this.currentPage=1,this.$refs.searchFm.resetFields(),this.$refs.userTreeComp1.clearFn(),this.$refs.userTreeComp2.clearFn(),this.searchFm.status=this.auth.hasViewDescription?10:"",this.searchParams={},this.searchFm.customersubuser=1,this.searchFm.submittersubuser=1,this.searchFn()},getList:function(){var e=this;this.loading=!0,Object(l.r)(n()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.records=t.record,e.total=t.totalcount,e.loading=!1}).catch(function(){e.loading=!1})},upgrade:function(e){var t=this;Object(l.q)({appapplyid:e},{errorHide:!0}).then(function(e){0==e.errorcode?(t.$message.success(lg.success+(e.msg?"("+e.msg+")":"")),t.searchFn()):t.$message.error(lg[e.errorcode]+(e.msg?"<br />"+e.msg.split(",").join("<br />"):""))}).catch(function(){})},doDelete:function(e,t){var i=this;Object(l.s)({appapplyid:e},{errorHide:!0}).then(function(e){0==e.errorcode?(i.$message.success(lg.success+(e.msg?"("+e.msg+")":"")),i.removeItem(t)):i.$message.error(lg[e.errorcode]+(e.msg?"<br />"+e.msg.split(",").join("<br />"):""))}).catch(function(){})},removeItem:function(e){if(this.records.splice(e,1),this.total-=1,0==this.records.length){var t=this.total==this.start?Math.max(this.currentPage-1,0):this.currentPage-1;this.searchFn(t)}},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.getList()},handleSizeChange:function(e){this.pagesize=e,this.getList()},fmtType:function(e,t,i,s){return"1"==i?"WEB":"APP"},fmtStatus:function(e){var t=this.statusConfig[e.appstatus]||"-";return'<span class=" status-'+t+'">'+t+"</span>"},fmtSale:function(e){return(this.salesConfig[e.saleid]||"#"+e.saleid)+"("+(e.saleaccount||"-")+")"},fmtTime:function(e,t,i,s){return this.utcToLocal(i)||"-"},fmtTimeStr:function(e,t){return e?this.utcToLocal(e).split(" ")[0]+t:"-"},fmtReleaseTime:function(e){return 30!=e.appstatus?"":"1"==e.applicationtype?this.fmtTimeStr(e.webreleasetime," Web"):[this.fmtTimeStr(e.iosreleasetime," iOS"),this.fmtTimeStr(e.androidreleasetime," Android")].join("<br>")},formatAlarmType:function(){return-1!=this.searchFm.statusType.indexOf("ALL_SELECT")?"":this.searchFm.statusType.join(",")},selectStatusChange:function(e){var t=["ALL_SELECT"],i=!0,s=!1,r=void 0;try{for(var n,o=a()(this.statusOpt);!(i=(n=o.next()).done);i=!0){var l=n.value;t.push(l.value)}}catch(e){s=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw r}}var c=this.oldStatusOptions.length>0?this.oldStatusOptions:[];if(e.includes("ALL_SELECT")&&(this.searchFm.statusType=t),c.includes("ALL_SELECT")&&!e.includes("ALL_SELECT")&&(this.searchFm.statusType=[]),c.includes("ALL_SELECT")&&e.includes("ALL_SELECT")){var u=e.indexOf("ALL_SELECT");e.splice(u,1),this.searchFm.statusType=e}c.includes("ALL_SELECT")||e.includes("ALL_SELECT")||e.length===t.length-1&&(this.searchFm.statusType=["ALL_SELECT"].concat(e)),this.oldStatusOptions=this.searchFm.statusType},setQuery:function(){var e=this.$route.query;this.searchFm.account=e.account?e.account:"",this.searchParams.account=e.account?e.account:"",e.customerid&&(this.searchFm.customerid=e.customerid,this.searchParams.customerid=e.customerid,e.account&&this.$refs.userTreeComp1.setCustomer(e.account)),this.searchFn()},showMembership:function(e){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(e)}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){this.auth.hasViewDescription&&(this.searchFm.statusType=[1,10]),this.setQuery()}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b check-customize"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.reviewCustomerApply)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        一"),i("br"),e._v("\n        【问】如何【新定制】："),i("br"),e._v("\n        【答】到【Permission Management】中勾选客户 即可。"),i("br"),e._v(" "),i("br"),e._v("\n         二"),i("br"),e._v("\n        【问】如何【升级】："),i("br"),e._v("\n        【答】在本页面操作。"),i("br"),e._v("\n        1 在已released的单中 点击[Upgrade]。（系统会复制生成另外一条申请单）"),i("br"),e._v("\n        2 然后销售即可修改保存(Save)申请信息；"),i("br"),e._v("\n        3 也可将该单打回(Reject)给客户自行修改；"),i("br"),e._v("\n        4 然后按照常规申请流程重新提交(Approve)即可"),i("br"),e._v("\n        (请注意版本号的更新)"),i("br"),i("br"),e._v("\n\n        三【数量限制】："),i("br"),e._v("一个目标客户同一时间只能定制/升级一个APP。"),i("br"),e._v("\n        若有多个，则需一个处理之后，再处理下一个。"),i("br")])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn(0)}}},[i("el-form-item",{staticClass:"form-cols-1",attrs:{label:"Target account: ",prop:"customerid"}},[i("div",{staticClass:"fl mr10"},[i("userTreeSelect",{ref:"userTreeComp1",on:{selected:e.setTargetAccount}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"fl"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchFm.customersubuser,callback:function(t){e.$set(e.searchFm,"customersubuser",t)},expression:"searchFm.customersubuser"}},[e._v(e._s(e.lg.containSubcustomer))])],1)]),e._v(" "),i("el-form-item",{attrs:{label:"Apply account: ",prop:"applyAccount"}},[i("div",{staticClass:"fl mr10"},[i("userTreeSelect",{ref:"userTreeComp2",on:{selected:e.setApplyAccount}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"fl mr20"},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchFm.submittersubuser,callback:function(t){e.$set(e.searchFm,"submittersubuser",t)},expression:"searchFm.submittersubuser"}},[e._v(e._s(e.lg.containSubcustomer))])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],staticClass:"fl"},[i("a",{attrs:{href:"javascript://",title:e.lg.more},on:{click:function(t){e.showMore=!e.showMore}}},[e.showMore?[e._v("«")]:[e._v("»")]],2)])]),e._v(" "),i("br"),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type+": ",prop:"applicationtype"}},[i("el-select",{model:{value:e.searchFm.applicationtype,callback:function(t){e.$set(e.searchFm,"applicationtype",t)},expression:"searchFm.applicationtype"}},[i("el-option",{attrs:{value:"",label:e.lg.all}}),e._v(" "),i("el-option",{key:"applicationtype-1",attrs:{value:"1",label:"Web"}}),e._v(" "),i("el-option",{key:"applicationtype-2",attrs:{value:"2",label:e.lg.app}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.status+": ",prop:"status"}},[i("el-select",{attrs:{"collapse-tags":"",multiple:""},on:{change:e.selectStatusChange},model:{value:e.searchFm.statusType,callback:function(t){e.$set(e.searchFm,"statusType",t)},expression:"searchFm.statusType"}},[i("el-option",{attrs:{value:"ALL_SELECT",label:e.lg.all}}),e._v(" "),e._l(e.statusOpt,function(e){return i("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})],2)],1),e._v(" "),i("el-form-item",{staticClass:"form-cols-1",attrs:{label:e.lg.applyContent+": ",prop:"key"}},[i("el-input",{on:{blur:function(t){return e.$trimFn("searchFm","key")}},model:{value:e.searchFm.key,callback:function(t){e.$set(e.searchFm,"key",t)},expression:"searchFm.key"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))]),e._v(" "),i("el-button",{on:{click:e.resetSearchFm}},[e._v(e._s(e.lg.reset))]),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            注："),i("br"),e._v("\n            我司销售视角:"),i("br"),e._v("\n            默认列表只显示自己客户的定制；"),i("br"),e._v("\n            不显示【下级销售助理下属客户】的定制；"),i("br"),i("br"),e._v("\n            若要查看【下级销售助理下属客户】的定制："),i("br"),e._v("\n            则“申请人”中选择销售助理账号 即可。\n          ")])])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"operatoraccount",label:"Apply account"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascritp://"},on:{click:function(i){return e.showMembership(t.row.operatoraccount)}}},[e._v(e._s(t.row.operatoraccount))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"targetaccount",label:"Target account"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:"javascritp://"},on:{click:function(i){return e.showMembership(t.row.targetaccount)}}},[e._v(e._s(t.row.targetaccount))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"customcontent",label:e.lg.applyContent}}),e._v(" "),i("el-table-column",{attrs:{prop:"applicationtype",label:e.lg.type,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.status},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"txt-status",domProps:{innerHTML:e._s(e.fmtStatus(t.row))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:e.lg.createTime,formatter:e.fmtTime,width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.releaseTime,width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.fmtReleaseTime(t.row))}})]}}])}),e._v(" "),e.auth.hasViewDescription?i("el-table-column",{attrs:{prop:"saleid",label:"Sale",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{attrs:{title:t.row.saleaccount+" #"+t.row.saleid}},[e._v(e._s(e.fmtSale(t.row)))])]}}],null,!1,2526577326)}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return["-1"!=t.row.appstatus?i("a",{staticClass:"link-btn",attrs:{href:"/customized/"+("1"==t.row.applicationtype?"customizeWeb.jsp":"customizeApp.jsp")+"?appapplyid="+t.row.appapplyid,target:"_blank"}},[e._v(" "+e._s(e.lg.view))]):e._e(),e._v(" "),"30"==t.row.appstatus?i("a",{staticClass:"link-btn",staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:function(i){return e.upgrade(t.row.appapplyid)}}},[e._v("Upgrade")]):e._e(),e._v(" "),+t.row.appstatus<30&&-1!=+t.row.appstatus?i("a",{staticClass:"link-btn",staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:function(i){return e.doDelete(t.row.appapplyid,t.$index)}}},[e._v(e._s(e.lg.delete))]):e._e()]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-size":e.pagesize,"page-sizes":e.pagesizes,"current-page":e.currentPage,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),i("searchComp",{ref:"searchComp"})],1)],1)},staticRenderFns:[]};var m=i("VU/8")(c,u,!1,function(e){i("0RJI")},null,null);t.default=m.exports},xCLh:function(e,t){},xVP3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a={data:function(){return{visible:!1,data:{}}},components:{sysNoticeBar:i("bHXI").default},methods:{setViable:function(e){this.visible=e},getNotice:function(){var e=this;Object(s._138)({}).then(function(t){if(t.record.id&&t.record.content){var i=localStorage.getItem("noticeid"),s=e;e.data=t.record,e.findObj("sysNoticeBar",e.$refs,function(){s.$refs.sysNoticeBar.setData(s.data)}),e.data.id!=parseInt(i)&&e.setViable(!0)}}).catch(function(e){})},okFn:function(){this.setViable(!1),this.$refs.sysNoticeBar.setViable(!0),localStorage.setItem("noticeid",this.data.id)},closedFn:function(){this.okFn()}},mounted:function(){this.getNotice()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{visible:e.visible,modal:!0,"show-close":!0,"append-to-body":!0,"modal-append-to-body":!0,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.visible=t},close:e.closedFn}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"el-icon-setting f16 pr10"}),e._v(e._s(e.lg.notice))]),e._v(" "),i("div",{staticClass:"notice-content",staticStyle:{"min-height":"80px","padding-bottom":"30px","line-height":"1.8"},domProps:{innerHTML:e._s(e.data.content)}}),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.okFn}},[e._v(e._s(e.lg.gotIt))])],1)]),e._v(" "),i("sysNoticeBar",{ref:"sysNoticeBar",on:{showSysNotify:e.setViable}})],1)},staticRenderFns:[]},n=i("VU/8")(a,r,!1,null,null,null);t.default=n.exports},xom8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("gyMJ"),r={props:["dialog"],data:function(){return{formData:{customerid:"",name:"",targetid:""},btnloading:!1}},components:{userTreeSelect:s.default},methods:{setData:function(e){this.formData.customerid=e.id,this.formData.name=e.name},selected:function(e){this.formData.targetid=e.customerid},submitData:function(){var e=this,t=this.checkParams();t&&(this.btnloading=!0,Object(a._83)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.moveCustomerSuccess),e.cancel(),e.$emit("successCallback")}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"转移用户",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){return this.formData.targetid?!!this.formData.customerid&&{moveto_id:this.formData.targetid,customerid:this.formData.customerid}:(this.$message.error(lg.selectSuperCustomerNull),!1)},cancel:function(){this.$emit("hideDialog")},reset:function(){this.$refs.fmComp.resetFields()}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"fmComp",attrs:{model:e.formData,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.submitData.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.customer}},[e._v("\n      "+e._s(e.formData.name)+"\n    ")]),e._v(" "),i("el-form-item",{attrs:{label:e.lg.aimCustomer,required:""}},[i("userTreeSelect",{ref:"userTreeSelectComp",on:{selected:e.selected}})],1),e._v(" "),i("el-form-item",{staticClass:"mt20"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.save))]),e._v(" "),e.dialog?i("el-button",{on:{click:function(t){return e.cancel()}}},[e._v(e._s(e.lg.cancel))]):e._e()],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},xpps:function(e,t,i){"use strict";var s=i("KvKp");t.a={data:function(){return{$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{initListener:function(){var e=this;this.$_resizeHandler=Object(s.a)(function(){e.resize()},100),window.addEventListener("resize",this.$_resizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null}}}},"y+9G":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Rpa2"),a=i("iKHV"),r={name:"exportexpiredevices",data:function(){return{exportFm:{customerid:"",containsubcustomer:"1",expiretype:"1",begintime:"",endtime:""},btnloading:!1}},components:{userTreeSelect:s.default},methods:{selectedFn:function(e){this.exportFm.customerid=e.customerid},checkedDateTime:function(e){this.$refs.endDateTimePicker.focus()},queryTime:function(e){var t=Object(a.n)(e);this.$set(this.exportFm,"begintime",t.beginTime),this.$set(this.exportFm,"endtime",t.endTime)},onSubmit:function(){if(!this.exportFm.customerid)return this.$message.error(lg.inputTargetCustomer);if(!this.exportFm.begintime&&!this.exportFm.endtime)return this.$message.error(lg.inputBeginEndTime);if(this.exportFm.begintime>this.exportFm.endtime)return this.$message.error(lg.distimeError);if((this.exportFm.endtime-this.exportFm.begintime)/864e5>31)return this.$message.error(lg.maxTimeOneMonth);var e="/OutputService?method=outputExpireCustomerDeviceFile&customerid="+this.exportFm.customerid+"&begintime="+this.exportFm.begintime+"&endtime="+this.exportFm.endtime+"&containsubcustomer="+this.exportFm.containsubcustomer+"&expiretype="+this.exportFm.expiretype+"&tzOffset="+this.timezoneOffset()+"&lang="+this.$lang;window.open(e)},fmReset:function(){this.$refs.exportFm.resetFields(),this.$refs.userTreeComp.clearFn()}},mounted:function(){this.queryTime(3)}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fn-exportexpiredevices h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.exportExpireDevices))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"submit-from-box"},[i("el-form",{ref:"exportFm",attrs:{"show-message":!1,"label-width":"200px",model:e.exportFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.customer,required:"",prop:"customerid"}},[i("userTreeSelect",{ref:"userTreeComp",staticClass:"inline-block",on:{selected:e.selectedFn}}),e._v(" "),i("el-checkbox",{staticClass:"ml10",attrs:{"true-label":"1","false-label":"0"},model:{value:e.exportFm.containsubcustomer,callback:function(t){e.$set(e.exportFm,"containsubcustomer",t)},expression:"exportFm.containsubcustomer"}},[e._v(e._s(e.lg.containSubcustomer))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.type,required:"",prop:"expiretype"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.exportFm.expiretype,callback:function(t){e.$set(e.exportFm,"expiretype",t)},expression:"exportFm.expiretype"}},[e._v(e._s(e.lg.platformEnd))]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.exportFm.expiretype,callback:function(t){e.$set(e.exportFm,"expiretype",t)},expression:"exportFm.expiretype"}},[e._v(e._s(e.lg.userEnd))])],1),e._v(" "),i("el-form-item",{attrs:{label:e.lg.expirationDataRange,required:""}},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date","value-format":"timestamp"},on:{change:e.checkedDateTime},model:{value:e.exportFm.begintime,callback:function(t){e.$set(e.exportFm,"begintime",t)},expression:"exportFm.begintime"}}),e._v("\n         - \n        "),i("el-date-picker",{ref:"endDateTimePicker",staticStyle:{width:"150px"},attrs:{type:"date","value-format":"timestamp"},model:{value:e.exportFm.endtime,callback:function(t){e.$set(e.exportFm,"endtime",t)},expression:"exportFm.endtime"}}),e._v(" "),i("el-alert",{staticClass:"inline",attrs:{title:e.lg.maxTimeOneMonth,closable:!1,type:"info","show-icon":""}}),e._v(" "),i("div",{staticClass:"quick-selecttime"},[i("a",{staticClass:"link-btn",on:{click:function(t){return e.queryTime(1)}}},[e._v(e._s(e.lg.today))]),e._v(" | \n          "),i("a",{staticClass:"link-btn",on:{click:function(t){return e.queryTime(3)}}},[e._v(e._s(e.lg.threeDays))]),e._v(" | \n          "),i("a",{staticClass:"link-btn",on:{click:function(t){return e.queryTime(7)}}},[e._v(e._s(e.lg.oneWeek))]),e._v(" | \n          "),i("a",{staticClass:"link-btn",on:{click:function(t){return e.queryTime(15)}}},[e._v(e._s(e.lg.twoWeeks))]),e._v(" | \n          "),i("a",{staticClass:"link-btn",on:{click:function(t){return e.queryTime(30)}}},[e._v(e._s(e.lg.oneMonth))])])],1),e._v(" "),i("el-form-item",{staticClass:"tools pt10"},[i("el-button",{staticClass:"download-excel-btn",attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.downloadExcel))]),e._v(" "),i("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1)],1)])],1)},staticRenderFns:[]},o=i("VU/8")(r,n,!1,null,null,null);t.default=o.exports},y4Ep:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("gyMJ"),a=i("iKHV"),r=i("A6oP"),n={data:function(){return{dialogVisible:!1,isloading:!1,imeis:"",batchdata:{accon:0,accoff:0,speeding:0,dooropen:0,doorclose:0,oilsteal:0,refuel:0,offline:0,accidle:0,parking:0,accidlevalue:6,parkingvalue:6,restricteddriving:0,restricteddrivingtime:"",hightemperature:0,lowtemperature:0,lowtemperaturevalue:"",hightemperaturevalue:""},unit:{},speedUnit:r.c,temperatureUnit:r.d,timesTmp:[{time:["00:00","08:00"],key:Date.now()}]}},computed:{permission:function(){return this.$store.state.functions}},methods:{editBatchAlertSetting:function(){var e=this,t=this.checkParams();t&&(this.isloading=!0,Object(s.y)(t).then(function(t){e.$message({message:lg.success,type:"success",duration:1500}),e.isloading=!1,e.setVisible(!1)}).catch(function(t){e.isloading=!1}),this.countEvent({action:"批量报警设置",opt_label:"点击",val:"Dealer2"}))},checkParams:function(){var e=this.batchdata;console.log(e);var t=e.accon||0,i=e.accoff||0,s=e.speeding||0,r=e.dooropen||0,n=e.doorclose||0,o=e.oilsteal?1:0,l=e.refuel?1:0,c=e.offline||0,u=e.accidle||0,m=e.parking||0,d=e.hightemperature||0,h=e.lowtemperature||0,p=e.restricteddriving||0,f={imeis:this.imeis.join(","),accon:t,accoff:i,speeding:s,dooropen:r,doorclose:n,oilsteal:o,refuel:l,lowtemperature:h,hightemperature:d};return e.speedingvalue?f.speedingvalue=Object(a.o)(e.speedingvalue,"distance",this.unit.distance).toFixed(4):f.speedingvalue="",f.restricteddriving=p||0,f.restricteddrivingtime=this.timearr2str(this.timesTmp)||"",this.permission.offlinealert>0&&(f.offline=c),this.permission.accidlealert>0&&(f.accidle=u,f.accidlevalue=e.accidlevalue),this.permission.parkingalert>0&&(f.parking=m,f.parkingvalue=e.parkingvalue),void 0===e.speedingvalue||""==e.speedingvalue?(this.$message.error(lg.overspeedNull),!1):d&&(void 0===e.hightemperaturevalue||""==e.hightemperaturevalue)||h&&(void 0===e.lowtemperaturevalue||""==e.lowtemperaturevalue)?(this.$message.error(lg.inputTemperature),!1):(f.lowtemperaturevalue=Object(a.o)(e.lowtemperaturevalue,"temperature",this.unit.temperature),f.hightemperaturevalue=Object(a.o)(e.hightemperaturevalue,"temperature",this.unit.temperature),f)},setImeis:function(e){this.imeis=e},addTimeRow:function(){var e=this.timesTmp.length;if(!(e>2)){this.timesTmp.push({time:[["00:00","08:00"],["12:00","14:00"],["18:00","23:59"]][e],key:Date.now()})}},removeTimeRow:function(e){var t=this.timesTmp.indexOf(e);-1!==t&&this.timesTmp.length>1&&this.timesTmp.splice(t,1)},timestr2arr:function(e){if(!e)return[];for(var t=[],i=e.split(";"),s=0;s<i.length;s++){var a=i[s].split(",");t.push({time:[a[0],a[1]],key:Date.now()+s})}return t},timearr2str:function(){if("0"==this.batchdata.restricteddriving)return"";for(var e=[],t=0;t<this.timesTmp.length;t++){var i=this.timesTmp[t].time.join(",");e[t]=i}return e.join(";")},setVisible:function(e){this.dialogVisible=e},hideBatchSettingDialog:function(){this.dialogVisible=!1},dialogCloseFn:function(){this.$refs.formComp.resetFields(),this.batchdata.accidle=0,this.batchdata.accidlevalue=6,this.batchdata.parking=0,this.batchdata.parkingvalue=6,this.batchdata.restricteddrivingtime="",this.batchdata.hightemperature=0,this.batchdata.lowtemperature=0,this.batchdata.lowtemperaturevalue="",this.batchdata.hightemperaturevalue=""}},mounted:function(){var e=this;this.$store.dispatch("getUnit").then(function(t){e.unit=t}).catch(function(e){})}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.batchAlertSettings,"append-to-body":!0,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"420px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("el-form",{ref:"formComp",attrs:{model:e.batchdata,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.editBatchAlertSetting.apply(null,arguments)}}},[i("div",{staticClass:"batch-alert-setting"},[i("div",{staticClass:"ft-cont"},[i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"accoff"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.accoff,callback:function(t){e.$set(e.batchdata,"accoff",t)},expression:"batchdata.accoff"}},[e._v(" "+e._s(e.lg.engineOff))])],1),e._v(" "),i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"accon"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.accon,callback:function(t){e.$set(e.batchdata,"accon",t)},expression:"batchdata.accon"}},[e._v(" "+e._s(e.lg.engineOn))])],1),e._v(" "),i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"dooropen"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.dooropen,callback:function(t){e.$set(e.batchdata,"dooropen",t)},expression:"batchdata.dooropen"}},[e._v(" "+e._s(e.lg.doorOpen))])],1),e._v(" "),i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"doorclose"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.doorclose,callback:function(t){e.$set(e.batchdata,"doorclose",t)},expression:"batchdata.doorclose"}},[e._v(" "+e._s(e.lg.doorClose))])],1),e._v(" "),i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"oilsteal"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.oilsteal,callback:function(t){e.$set(e.batchdata,"oilsteal",t)},expression:"batchdata.oilsteal"}},[e._v(" "+e._s(e.lg.oilLeakAlert))])],1),e._v(" "),i("el-form-item",{staticClass:"alert-f-item",attrs:{prop:"refuel"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.refuel,callback:function(t){e.$set(e.batchdata,"refuel",t)},expression:"batchdata.refuel"}},[e._v(" "+e._s(e.lg.refuelAlert))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.batchdata.speeding,expression:"typeof(batchdata.speeding)!=='undefined'"}],attrs:{prop:"speeding"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.speeding,callback:function(t){e.$set(e.batchdata,"speeding",t)},expression:"batchdata.speeding"}},[e._v(" "+e._s(e.lg.speedingAlarm))]),e._v(" "),i("font",{staticStyle:{width:"100px",position:"relative"}},[i("el-input-number",{staticStyle:{width:"120px"},attrs:{size:"mini","controls-position":"right",min:10,max:400,step:10},model:{value:e.batchdata.speedingvalue,callback:function(t){e.$set(e.batchdata,"speedingvalue",t)},expression:"batchdata.speedingvalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.speedUnit[e.unit.distance]))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.permission&&e.permission.offlinealert>0,expression:"permission && permission.offlinealert>0"}],attrs:{prop:"offline"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.offline,callback:function(t){e.$set(e.batchdata,"offline",t)},expression:"batchdata.offline"}},[e._v(" "+e._s(e.lg.offlineAlarm))])],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.permission&&e.permission.accidlealert>0,expression:"permission && permission.accidlealert>0"}],attrs:{prop:"accidle"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.accidle,callback:function(t){e.$set(e.batchdata,"accidle",t)},expression:"batchdata.accidle"}},[e._v(" "+e._s(e.lg.accIdleAlarm))]),e._v(" "),i("font",{staticStyle:{width:"100px",position:"relative"}},[i("el-input-number",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.parkingAlertTips,align:"centerBottom"},expression:"{txt:lg.parkingAlertTips,align:'centerBottom'}"}],staticStyle:{width:"100px"},attrs:{size:"mini","controls-position":"right",min:2,max:120,step:1},model:{value:e.batchdata.accidlevalue,callback:function(t){e.$set(e.batchdata,"accidlevalue",t)},expression:"batchdata.accidlevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.lg.m))])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.permission&&e.permission.parkingalert>0,expression:"permission&&permission.parkingalert>0"}],attrs:{prop:"parkingvalue"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.parking,callback:function(t){e.$set(e.batchdata,"parking",t)},expression:"batchdata.parking"}},[e._v(" "+e._s(e.lg.parkingAlarm))]),e._v(" "),i("font",{staticStyle:{width:"100px",position:"relative"}},[i("el-input-number",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.parkingAlertTips,align:"centerBottom"},expression:"{txt:lg.parkingAlertTips,align:'centerBottom'}"}],staticStyle:{width:"100px"},attrs:{size:"mini","controls-position":"right",min:2,max:120,step:1},model:{value:e.batchdata.parkingvalue,callback:function(t){e.$set(e.batchdata,"parkingvalue",t)},expression:"batchdata.parkingvalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.lg.m))])],1)],1),e._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.lowtemperature,callback:function(t){e.$set(e.batchdata,"lowtemperature",t)},expression:"batchdata.lowtemperature"}},[e._v(" "+e._s(e.lg.lowTemperatureAlert))]),e._v(" "),i("font",{staticStyle:{width:"100px",position:"relative"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"mini","controls-position":"right"},model:{value:e.batchdata.lowtemperaturevalue,callback:function(t){e.$set(e.batchdata,"lowtemperaturevalue",t)},expression:"batchdata.lowtemperaturevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.temperatureUnit[e.unit.temperature]))])],1)],1),e._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.hightemperature,callback:function(t){e.$set(e.batchdata,"hightemperature",t)},expression:"batchdata.hightemperature"}},[e._v(" "+e._s(e.lg.highTemperatureAlert))]),e._v(" "),i("font",{staticStyle:{width:"100px",position:"relative"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"mini","controls-position":"right"},model:{value:e.batchdata.hightemperaturevalue,callback:function(t){e.$set(e.batchdata,"hightemperaturevalue",t)},expression:"batchdata.hightemperaturevalue"}}),e._v(" "),i("span",{staticClass:"unit-txt"},[e._v(e._s(e.temperatureUnit[e.unit.temperature]))])],1)],1),e._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.batchdata.restricteddriving,callback:function(t){e.$set(e.batchdata,"restricteddriving",t)},expression:"batchdata.restricteddriving"}},[e._v(" "+e._s(e.lg.restrictedDrivingAlert))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.batchdata.restricteddriving,expression:"batchdata.restricteddriving == '1'"}],staticClass:"wrap-time-picker"},e._l(e.timesTmp,function(t,s){return i("div",{key:s,staticClass:"wrap-time-row clearfix"},[i("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm","is-range":"","range-separator":"-","start-placeholder":e.lg.from,"end-placeholder":e.lg.to,placeholder:e.lg.select},model:{value:t.time,callback:function(i){e.$set(t,"time",i)},expression:"item.time"}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:0==s,expression:"index==0"}],staticClass:"add-btn el-icon-plus fl",on:{click:e.addTimeRow}}),e._v(" "),s>0?i("i",{staticClass:"add-btn el-icon-minus fl",on:{click:function(i){return e.removeTimeRow(t)}}}):e._e()],1)}),0)],1)],1),e._v(" "),i("el-form-item",{staticClass:"pt20"},[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.isloading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:e.hideBatchSettingDialog}},[e._v(e._s(e.lg.cancel))])],1)],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("zPBP")},null,null);t.default=l.exports},yLO6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),r=i("Rpa2"),n=i("gyMJ"),o={data:function(){return{type:"add",customerName:"",permitionFm:{customerid:"",permission:""},permissionArr:[],permissionOut:[],permissionIn:[],permissionV:[],dialogVisible:!1,btnLoading:!1}},components:{userTreeSelect:r.default},methods:{selectedFn:function(e){this.permitionFm.customerid!=e.customerid&&(this.permitionFm.customerid=e.customerid,this.resetPermission(),this.getDetail(e.customerid))},setVisible:function(e){this.dialogVisible=e},setPermissionList:function(e){var t=this;this.permissionArr=e,this.permissionOut=[],this.permissionIn=[],this.permissionV=[],e.forEach(function(e,i,s){1==e.moduletype&&t.permissionOut.push(e),2==e.moduletype&&t.permissionIn.push(e),3==e.moduletype&&t.permissionV.push(e)})},setType:function(e,t){this.type=e,"edit"==e&&(this.customerName=t)},getDetail:function(e){var t=this;e&&Object(n._18)({customerid:e}).then(function(i){t.setPermissionList(i.record),t.permitionFm.customerid=e,t.$refs.userTreeComp.customerid=e}).catch(function(){})},submitFn:function(){var e=this;if(!this.permitionFm.customerid)return this.$message.error(lg.selectCustomer);var t=this.getPermissionParam();this.btnLoading=!0,Object(n._19)({customerid:this.permitionFm.customerid,permission:t}).then(function(t){e.btnLoading=!1,e.$message.success(lg.success),e.$emit("submitSuccess"),e.setVisible(!1),e.resetFm()}).catch(function(){e.btnLoading=!1})},resetFm:function(){this.$refs.permitionFm.resetFields(),this.$refs.userTreeComp&&this.$refs.userTreeComp.clearFn(),this.resetPermission()},resetPermission:function(){var e=this;this.permissionArr=[],this.permissionOut.forEach(function(t){e.$set(t,"authorized",0)}),this.permissionIn.forEach(function(t){e.$set(t,"authorized",0)}),this.permissionV.forEach(function(t){e.$set(t,"authorized",0)})},getPermissionParam:function(){var e={};return this.permissionArr.forEach(function(t,i,s){e[t.permissiontype]=t.authorized||0}),a()(e)},closedFn:function(){this.resetFm()}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"permission-update-dialog",attrs:{title:e.lg.authorizeFunction,"append-to-body":!0,visible:e.dialogVisible,width:"925px",top:"10vh"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closedFn}},[i("el-form",{ref:"permitionFm",attrs:{"label-width":"100px",model:e.permitionFm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer+": ",prop:"customerid"}},["edit"==e.type?[e._v("\n        "+e._s(e.customerName)+"\n      ")]:[i("userTreeSelect",{ref:"userTreeComp",staticStyle:{width:"240px"},on:{selected:e.selectedFn}})]],2),e._v(" "),i("el-form-item",{attrs:{label:e.lg.permission+": ",prop:"permission"}},[i("el-scrollbar",{staticClass:"hidden-scroll-x",staticStyle:{height:"450px"}},[i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionOut,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.lg[t.i18nkey]))])]})],2),e._v(" "),e.permissionIn.length?i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionIn,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.lg[t.i18nkey]))])]})],2):e._e(),e._v(" "),e.permissionV.length?i("div",{staticStyle:{"border-bottom":"1px dashed #ddd"}},[e._l(e.permissionV,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.authorized,callback:function(i){e.$set(t,"authorized",i)},expression:"item.authorized"}},[e._v(e._s(e.lg[t.i18nkey]))])]})],2):e._e()])],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnLoading}},[e._v(e._s(e.lg.save))]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.lg.cancel))])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("vA6h")},null,null);t.default=c.exports},yip4:function(e,t){},ypcq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("iKHV"),a=i("gyMJ"),r={name:"imeiowner",data:function(){return{searchFm:{type:"imei",name:""},loading:!1,showInfo:!1,errorcode:"",records:[]}},computed:{hasAuth:function(){return this.$store.state.functions&&this.$store.state.functions.checkinwhitelist}},components:{platformComp:function(){return i.e(88).then(i.bind(null,"sQMB")).catch()}},methods:{reset:function(){this.showInfo=!1,this.records=[]},searchFn:function(){var e=this,t=this.$trim(this.searchFm.name);if(!t)return this.$message.error("Please input IMEI or Account.");if("imei"==this.searchFm.type&&!Object(s.h)(t))return this.$message.error(lg[20053]);var i={};i[this.searchFm.type]=t,this.showInfo=!1,this.loading=!0,Object(a._70)(i,{errorHide:!0}).then(function(t){0==t.errorcode?e.records=t.record:(e.errorcode=t.errorcode,e.records=[]),e.showInfo=!0,e.loading=!1}).catch(function(t){e.loading=!1})},changeType:function(){this.showInfo=!1},resetFm:function(){}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-owner-imei h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v(e._s(e.lg.accountImeiOwner))]),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"wrap-filter submit-from-box",staticStyle:{padding:"10px"}},[i("el-input",{staticClass:"input-with-select",attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("searchFm","name")},clear:e.reset},model:{value:e.searchFm.name,callback:function(t){e.$set(e.searchFm,"name",t)},expression:"searchFm.name"}},[i("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend"},on:{change:e.changeType},slot:"prepend",model:{value:e.searchFm.type,callback:function(t){e.$set(e.searchFm,"type",t)},expression:"searchFm.type"}},[i("el-option",{attrs:{label:"IMEI",value:"imei"}}),e._v(" "),i("el-option",{attrs:{label:"Customer",value:"account"}})],1),e._v(" "),i("el-button",{attrs:{slot:"append",loading:e.loading,icon:"el-icon-search"},on:{click:e.searchFn},slot:"append"})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showInfo,expression:"showInfo"}],staticClass:"wrap-result"},[i("p",{staticClass:"mt10 mb10"},[e._v("Total "),i("span",{staticClass:"record-num"},[e._v(e._s(e.records.length))]),e._v(" records matched")]),e._v(" "),e._l(e.records,function(t){return[i("el-form",{attrs:{"label-width":"180px"}},[i("el-form-item",{attrs:{label:"Sale name: "}},[i("copy",{attrs:{txt:t.salename}},[e._v(e._s(t.salename))])],1),e._v(" "),i("el-form-item",{attrs:{label:"Sale account: "}},[i("copy",{attrs:{txt:t.saleaccount}},[e._v(e._s(t.saleaccount))])],1),e._v(" "),i("el-form-item",{attrs:{label:"Customer name: "}},[i("copy",{attrs:{txt:t.customername}},[e._v(e._s(t.customername))])],1),e._v(" "),i("el-form-item",{attrs:{label:"Customer account: "}},[i("copy",{attrs:{txt:t.customeraccount}},[e._v(e._s(t.customeraccount))])],1)],1)]})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showInfo&&"imei"==e.searchFm.type&&0==e.records.length,expression:"showInfo && searchFm.type=='imei' && records.length == 0"}],staticClass:"pt20"},[e._v("\n      "+e._s(e.lg[e.errorcode])+"\n      "),"20005"==e.errorcode?i("platformComp",{ref:"platformComp",attrs:{imeis:e.searchFm.name}}):e._e()],1)],1)])],1)},staticRenderFns:[]};var o=i("VU/8")(r,n,!1,function(e){i("425f")},null,null);t.default=o.exports},yqyR:function(e,t){},yr67:function(e,t){},zAgK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("bOdI"),a=i.n(s),r=i("gyMJ"),n=i("KvKp"),o={props:["treeType","showCheckbox","rightClickFlag"],data:function(){return{treetype:"1",orderKey:"name",orderType:"asc",firstNode:null,firstResolve:null,deviceid:"",rightDisplay:!1,rightClickStatus:!1,hideRightTime:null,hoverRightTime:null,treeShow:!0,curUserId:"",optionleft:-1e4,optiontop:-1e4,defaultExpand:[],clickNum:0,dbClickTimeObj:null,defaultProps:{label:"name",children:[],isLeaf:"leaf"},refreshFlag:!1,loading:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id},firstData:function(){return this.$store.state.tree.first},childData:function(){return this.$store.state.tree.child}},components:{treeRight:function(){return i.e(132).then(i.bind(null,"XeIX"))}},methods:{reloadTree:function(e){this.treetype!=e&&(this.refreshFlag=!0,this.treetype=e||"1",this.loadNode(this.firstNode,this.firstResolve))},reloadTreeParent:function(){if(this.orderKey=Object(n.c)("treeCustomerOrderBy")||"name",this.orderType=Object(n.c)("treeCustomerOrderType")||"asc",this.curUserId){this.refreshFlag=!0;var e=this.$refs.tree.getNode(this.curUserId);e.parent.loaded=!1,e.parent.expand()}},refresh:function(){if(this.curUserId){this.refreshFlag=!0;var e=this.$refs.tree.getNode(this.curUserId);this.getSelfData(e),e.loaded=!1,e.expand()}},refreshNode:function(e,t){this.refreshFlag=!0,this.getSelfData(t),t.loaded=!1,t.expand(),e.stopPropagation()},refreshSelf:function(){if(this.curUserId){var e=this.$refs.tree.getNode(this.curUserId);this.getSelfData(e)}},loadNode:function(e,t){0===e.level?(this.firstNode=e,this.firstResolve=t,this.firstNode.childNodes=[],this.getFirstData(t)):e.level>=1&&this.getChildData(e,t)},getSelfData:function(e){var t=this;Object(r._155)({customerid:e.data.id,treetype:this.treetype}).then(function(i){var s=i.record;e.data.name=("account"==t.orderKey?s.account:s.name)+"("+s.ownnum+"/"+s.totalnum+")",e.data.account=s.account,e.data.role=s.role,e.data.roletype=s.roletype,e.data.type=s.type,e.data.isread=s.isread,e.data._name=s._name}).catch(function(e){})},getFirstData:function(e){var t=this,i=1==this.treetype;this.firstData&&i?this.renderFirst(e,this.firstData):(this.loading=!0,this.$store.dispatch("getTreeFirst",{param:{customerid:this.loginId,treetype:this.treetype},save:i}).then(function(i){t.renderFirst(e,i.record),t.loading=!1,t.$emit("treeLoaded")}).catch(function(e){t.loading=!1}))},renderFirst:function(e,t){var i;e([(i={id:t.customerid,name:t.name+"("+t.ownnum+"/"+t.totalnum+")",_name:t.name,account:t.account,leaf:!t.hadchild,type:t.type,role:t.role,roletype:t.roletype},a()(i,"_name",t.name),a()(i,"isread",t.isread),i)]),t.hadchild&&!this.inArray(this.defaultExpand,t.customerid)&&this.defaultExpand.push(t.customerid);var s=this;setTimeout(function(){s.$refs.tree.setCurrentKey(t.customerid)},0)},getChildData:function(e,t){var i=this,s=1==e.level&&1==this.treetype;this.childData&&s&&!this.refreshFlag?this.renderChild(e,t,this.childData):this.$store.dispatch("getTreeChild",{param:{customerid:e.data.id,puretree:1,treetype:this.treetype},save:s}).then(function(s){if(i.refreshFlag=!1,!s.record)return t([]);i.renderChild(e,t,s.record)}).catch(function(e){i.refreshFlag=!1})},renderChild:function(e,t,i){for(var s=[],a=0,r=(i=this.treeSortor(i)).length;a<r;a++)s.push({id:i[a].id,name:("account"==this.orderKey?i[a].account:i[a].name)+"("+i[a].ownnum+"/"+i[a].totalnum+")",account:i[a].account,leaf:!i[a].hadchild,type:i[a].type,role:i[a].role,roletype:i[a].roletype,_name:i[a].name,isread:i[a].isread});t(s)},treeSortor:function(e){var t,i=this;switch(i.orderKey){case"name":case"account":return e.sort(function(e,s){return t=e[i.orderKey].localeCompare(s[i.orderKey]),"asc"==i.orderType?t:-t});case"id":case"ownnum":case"totalnum":return e.sort(function(e,s){return t=e[i.orderKey]-s[i.orderKey],"asc"==i.orderType?t:-t});default:return e}},renderContent:function(e,t){var i=this,s=t.node,a=t.data,r=(t.store,void 0),n="",o=a._name+"("+a.account+")";return"1"==a.role?r=e("div",{class:"custom-tree-node fl",directives:[{name:"tip",value:["<div style=\"padding-left:20px;background-image:url('/dealer/images/vip.png');background-repeat:no-repeat;background-position:-6px -2px;\">"+lg.superAdmin+"</div>","<div>"+o+"</div>"].join("\n")}]},[e("div",{class:"custom-tree-node-cont"},[e("i",{class:"tree-icon "+(a.leaf?"userIcon"+a.type:"userIconArr"+a.type)}),e("span",{class:"tree-node-word "+("1"==a.role?"red":"")},[a.name]),this.rightClickFlag?e("span",{class:"el-icon-more-v",on:{click:function(e){return i.clickShowMore(e,a)}}}):e("span",{class:"tree-refresh el-icon-refresh",on:{click:function(e){return i.refreshNode(e,s)}}})])]):(n=a.leaf?"userIcon"+a.type:"userIconArr"+a.type,1==a.isread&&(1==a.type&&(n="dealerIconReadonly"),2==a.type&&(n="userIconReadonly")),r=e("div",{class:"custom-tree-node fl",directives:[{name:"tip",value:o}]},[e("div",{class:"custom-tree-node-cont"},[e("i",{class:"tree-icon "+n}),e("span",{class:"tree-node-word"},[a.name]),this.rightClickFlag?e("span",{class:"el-icon-more-v",on:{click:function(e){return i.clickShowMore(e,a)},mouseover:function(e){return i.hoverShowMore(e,a)},mouseout:function(e){return i.hoverHideMore(e,a)}}}):e("span",{class:"tree-refresh el-icon-refresh",on:{click:function(e){return i.refreshNode(e,s)}}})])])),r},clickShowMore:function(e,t){this.rightClickStatus=!0,this.showRightClick(e,t),e.stopPropagation()},hoverShowMore:function(e,t){if(clearTimeout(this.hideRightTime),!this.rightClickStatus){var i=this;this.hoverRightTime=setTimeout(function(){i.showRightClick(e,t)},300),e.stopPropagation()}},hoverHideMore:function(){clearTimeout(this.hoverRightTime);var e=this;this.hideRightTime=setTimeout(function(){e.hideRightOption()},500)},hideRightOption:function(){this.rightDisplay=!1,document.body.onclick=null,this.rightClickStatus=!1},rightOptionHover:function(){clearTimeout(this.hideRightTime)},rightOptionHoverOut:function(){var e=this;this.hideRightTime=setTimeout(function(){e.hideRightOption()},500)},rightClick:function(e,t){this.rightClickStatus=!0,this.showRightClick(e,t)},showRightClick:function(e,t){if(this.rightClickFlag){this.rightDisplay=!0;var i=this;setTimeout(function(){var s=i.$refs.treeRightComp.$el.offsetHeight,a=document.documentElement.clientHeight;i.optiontop=e.clientY+s>a?e.clientY-s:e.clientY,i.optionleft=e.clientX+15,i.$refs.treeRightComp.setData(t)},0),this.curUserId=t.id,document.body.onclick=function(){i.hideRightOption()}}},handleCheckChange:function(e,t,i){var s=this.$refs.tree.getCheckedNodes(),a=this.$refs.tree.getCheckedKeys();this.$emit("checkChange",{obj:s,key:a})},setCheckedKeys:function(e){this.$refs.tree.setCheckedKeys(e)},nodeClick:function(e,t,i){for(var s=t,a=[e.id];s&&s.parent&&s.parent.data;)a.push(s.parent.data.id),s=s.parent;this.$emit("treeNodeClick",e,a),this.curUserId=e.id,this.rightDisplay=!1,this.dbClick(window.event,e,t,i)},dbClick:function(e,t,i,s){if(e){this.clickNum++,2==this.clickNum&&(this.rightClickStatus=!0,this.showRightClick(e,t,i,s));var a=this;clearTimeout(this.dbClickTimeObj),this.dbClickTimeObj=setTimeout(function(){a.clickNum=0},500)}},selectTreeNode:function(e,t){var i="string"==typeof e.customers?e.customers.split(",").reverse().map(Number):e.customers,s=i.pop();this.defaultExpand=i;var a=this;!function e(){var i=a.$refs.tree.getNode(s);if(i&&!a.loading){if(a.$refs.tree.setCurrentKey(i.key),a.nodeClick(i.data,i),t){var r=a.$refs.tree.getCheckedKeys()||[];r.push(i.key),a.$refs.tree.setCheckedKeys(r)}}else setTimeout(function(){e()},200)}()},getCurrentNode:function(){return this.$refs.tree.getCurrentNode()},nodeExpandFn:function(e,t){this.defaultExpand.push(e.id),this.$emit("expanded")},nodeCollapseFn:function(e){this.defaultExpand.splice(this.defaultExpand.indexOf(e.id),1),this.$emit("collapse")}},mounted:function(){this.curUserId=this.loginId},created:function(){this.treetype=this.treeType?this.treeType:"1",this.orderKey=Object(n.c)("treeCustomerOrderBy")||"name",this.orderType=Object(n.c)("treeCustomerOrderType")||"asc"}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tree-comp"},[i("el-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeShow,expression:"treeShow"}],ref:"tree",attrs:{lazy:"",load:e.loadNode,props:e.defaultProps,"node-key":"id","default-expanded-keys":e.defaultExpand,"empty-text":e.lg.noData,accordion:!0,"expand-on-click-node":!1,"highlight-current":!0,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,"check-strictly":!0,"check-on-click-node":!0},on:{"node-click":e.nodeClick,"node-contextmenu":e.rightClick,"check-change":e.handleCheckChange,"node-expand":e.nodeExpandFn,"node-collapse":e.nodeCollapseFn}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.rightDisplay,expression:"rightDisplay"}],staticClass:"tree-right-option",style:{left:e.optionleft+"px",top:e.optiontop+"px"}},[i("treeRight",{ref:"treeRightComp",on:{reloadTreeParent:e.reloadTreeParent,refresh:e.refresh,refreshSelf:e.refreshSelf,mouseEnterEv:e.rightOptionHover,mouseLeaveEv:e.rightOptionHoverOut}})],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("UdMx")},null,null);t.default=c.exports},zPBP:function(e,t){},znlC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},components:{modifyPassword:i("6lYA").default},methods:{setVisible:function(e){this.dialogVisible=e},hideDialog:function(){this.setVisible(!1)},setData:function(e){var t=this;this.findObj("modifyPasswordComp",this.$refs,function(){t.$refs.modifyPasswordComp.setData(e)})},dialogCloseFn:function(){this.$refs.modifyPasswordComp.clearFn()}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.modifyPwd,visible:e.dialogVisible,modal:!0,"show-close":!0,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[i("modifyPassword",{ref:"modifyPasswordComp",attrs:{dialog:!0},on:{hideDialog:e.hideDialog}})],1)},staticRenderFns:[]},r=i("VU/8")(s,a,!1,null,null,null);t.default=r.exports},zpsT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("Rpa2"),n=i("oW+X"),o=i("Shul"),l=i("gyMJ"),c={name:"quotas",data:function(){return{activeName:"add",searchFm:{customerid:""},defaultCustomerInfo:{customerid:"",name:""},records:[],searchParams:{},total:0,start:0,pagesize:10,pagesizes:[10,15,20,30,50],btnloading:!1,loading:!1}},computed:{auth:function(){return this.$store.state.auth}},components:{userTreeSelect:r.default,quotasAdd:n.default,quotasHistory:o.default},methods:{indexMethod:function(e){return this.start+(e+1)},selectedUserFn:function(e){this.searchFm.customerid=e.customerid,e.customerid||this.searchFn()},searchFn:function(){this.start=0,this.total=0,this.searchParams={customerid:this.searchFm.customerid},this.showList()},resetSearch:function(){this.start=0,this.total=0,this.searchParams={}},showList:function(){var e=this;this.loading=!0,Object(l._106)(a()({start:this.start,count:this.pagesize},this.searchParams)).then(function(t){e.loading=!1,e.records=t.record,e.total=t.totalcount}).catch(function(){e.loading=!1})},fmtName:function(e,t,i,s){return e.customername+"("+e.account+")"},fmtType:function(e,t,i,s){return lg[i]},handleCurrentChange:function(e){this.start=(Number(e)-1)*this.pagesize,this.showList()},handleSizeChange:function(e){this.pagesize=e,this.showList()},showEdit:function(e,t){this.$set(e,"editStatus",t)},editQuantity:function(e){var t=this,i=e.quantity;return/^\d{1,}$/.test(i)?i>5e4?(this.$message.error("最大数量不能超过5w"),!1):void Object(l._108)({customerid:e.customerid,objectid:e.objectid,quantity:i,remark:e.remark}).then(function(i){t.$message.success(lg.success),t.$set(e,"editStatus",!1)}).catch(function(){}):(this.$message.error(lg.dataFormatError),!1)},resetRecord:function(e){var t=this;this.$confirm("确定还原其数量限制为默认数量？").then(function(i){Object(l._109)({customerid:e.customerid,objectid:e.objectid}).then(function(i){t.$message.success(lg.success),t.$set(e,"editStatus",!1),t.$set(e,"quantity",i.defaultcount)}).catch(function(){})}).catch(function(){})},setQuery:function(){var e=this.$route.query;e.account&&(this.searchFm.account=e.account,this.searchParams.account=e.account,this.$refs.searchUserComp.setCustomer(e.account),this.searchFn()),e.customerid&&(this.activeName="list",this.searchFm.customerid=e.customerid),this.defaultCustomerInfo={customerid:e.customerid,name:e.account},this.showList()}},watch:{$route:function(e,t){this.setQuery()}},mounted:function(){var e=this;this.$nextTick(function(){e.setQuery()})}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h100b"},[i("h3",{staticClass:"block-titlebar"},[e._v("\n    "+e._s(e.lg.quotas)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo tooltip-alert-desc"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[i("tbody",[i("tr",[i("td",[e._v("Geo-fence")]),e._v(" "),i("td",[e._v("默认最多可创建100个围栏")])]),e._v(" "),i("tr",[i("td",[e._v("Geo-fence Group")]),e._v(" "),i("td",[e._v("默认最多可创建50个围栏分组")])]),e._v(" "),i("tr",[i("td",[e._v("POI")]),e._v(" "),i("td",[e._v("默认最多创建100个POI")])]),e._v(" "),i("tr",[i("td",[e._v("Schedule")]),e._v(" "),i("td",[e._v("默认最多可创建100个自动任务")])]),e._v(" "),i("tr",[i("td",[e._v("Google Map Key")]),e._v(" "),i("td",[e._v("默认每天每人最多调用Google地图地图200次")])]),e._v(" "),i("tr",[i("td",[e._v("Follow")]),e._v(" "),i("td",[e._v("默认最多Follow 100个设备数")])]),e._v(" "),i("tr",[i("td",[e._v("Number of virtual account devices")]),e._v(" "),i("td",[e._v("默认虚拟账号最多添加800个设备")])]),e._v(" "),i("tr",[i("td",[e._v("Devices in Monitor")]),e._v(" "),i("td",[e._v("默认在monitor界面最多显示800台设备")])])])])])])],1),e._v(" "),i("el-scrollbar",{staticClass:"has-titlebar-content white-bg"},[i("div",{staticClass:"table-page"},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.lg.add,name:"add"}},[i("quotasAdd",{ref:"addComp",attrs:{defaultUserInfo:e.defaultCustomerInfo},on:{showList:e.showList}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.quotas,name:"list"}},[i("el-form",{ref:"searchFm",attrs:{model:e.searchFm,inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.searchFn.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:e.lg.aimCustomer,prop:"customerid"}},[i("userTreeSelect",{ref:"searchUserComp",on:{selected:e.selectedUserFn}})],1),e._v(" "),i("el-form-item",{staticClass:"tools"},[i("el-button",{staticClass:"search-btn-fm",attrs:{type:"primary","native-type":"submit"}},[e._v(e._s(e.lg.check))])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.records,stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"center",index:e.indexMethod,label:e.lg.serialNum,width:"48"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customername",label:e.lg.aimCustomer,formatter:e.fmtName}}),e._v(" "),i("el-table-column",{attrs:{prop:"i18nkey",label:e.lg.type,formatter:e.fmtType}}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.number},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.editStatus,expression:"!scope.row.editStatus"}]},[e._v(e._s(t.row.quantity))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.row.editStatus,expression:"scope.row.editStatus"}]},[i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.row.quantity,callback:function(i){e.$set(t.row,"quantity",i)},expression:"scope.row.quantity"}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.remark},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.editStatus,expression:"!scope.row.editStatus"}]},[e._v(e._s(t.row.remark))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.row.editStatus,expression:"scope.row.editStatus"}]},[i("el-input",{staticStyle:{width:"100px"},attrs:{type:"textarea",size:"mini"},model:{value:t.row.remark,callback:function(i){e.$set(t.row,"remark",i)},expression:"scope.row.remark"}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.lg.operate},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{directives:[{name:"show",rawName:"v-show",value:!t.row.editStatus,expression:"!scope.row.editStatus"}],staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row,!0)}}},[e._v(e._s(e.lg.edit))]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.editStatus,expression:"scope.row.editStatus"}],attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.editQuantity(t.row)}}},[e._v(e._s(e.lg.ok))]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.row.editStatus,expression:"scope.row.editStatus"}],staticClass:"link-btn",on:{click:function(i){return e.showEdit(t.row,!1)}}},[e._v(e._s(e.lg.cancel))]),e._v("\n              |\n              "),i("a",{staticClass:"link-btn",on:{click:function(i){return e.resetRecord(t.row)}}},[e._v(e._s(e.lg.reset))])]}}])})],1),e._v(" "),e.total?i("el-pagination",{attrs:{"page-sizes":e.pagesizes,"page-size":e.pagesize,background:"",layout:"total,sizes,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),i("el-tab-pane",{attrs:{label:e.lg.history,name:"history"}},[i("quotasHistory",{ref:"addComp",on:{showList:e.showList}})],1)],1)],1)])],1)},staticRenderFns:[]},m=i("VU/8")(c,u,!1,null,null,null);t.default=m.exports},zxLV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("gyMJ"),n={data:function(){return{functionsFm:{property:{},protocol:"-",onlineCommand:[],alert:[],activeCommand:"",remark:""},propertyArr:[{label:"Engine Status",key:"acc"},{label:"External voltage",key:"externalpower"},{label:"Battery",key:"battery",disabled:!0},{label:"Door",key:"door"},{label:"Multi doors",key:"multiDoors"},{label:"Air conditioner",key:"aircondition"},{label:"Armed status",key:"defenceStatus"},{label:"Relay status",key:"oilPowerStatus",title:"为0时 不勾选；\n为1,2时 都勾选；"},{label:"Charge status",key:"chargeStatus"},{label:"Fuel",key:"fuel",disabled:!0},{label:"Tire pressure",key:"tirePressure"},{label:"temperature",key:"temperature",title:"为0时 不支持；\n非0时 支持"},{label:"Mileage",key:"mileage",title:"为0时 不支持；\n非0时 支持"},{label:"IO",key:"io"},{label:"Timezone",key:"timezone",title:"未勾: -1时 时区无特殊处理;\n勾中: ≠-1时 时区有特殊处理；"}],dialogVisible:!1,record:{},devicetype:"",loading:!1,btnloading:!1}},computed:{auth:function(){return this.$store.state.auth}},methods:{setVisible:function(e){this.dialogVisible=e},getList:function(e){var t=this;this.loading=!0,this.devicetype=e,Object(r._55)({devicetype:e}).then(function(e){t.loading=!1,t.record=e.record,t.propertyArr.forEach(function(e){t.updatePropertyVal(e.key)}),t.renderData()}).catch(function(){t.loading=!1})},updatePropertyVal:function(e){var t=this.record.property[e];"oilPowerStatus"==e||"mileage"==e||"temperature"==e?0!=t&&(this.record.property[e+"OldValue"]=t,this.record.property[e]=1):"timezone"==e&&-1!=t&&(this.record.property[e+"OldValue"]=t,this.record.property[e]=1)},getPropertyOldValue:function(e){if(!this.record.property)return"";var t=this.record.property[e+"OldValue"];return t?"{"+t+"}":""},renderData:function(){var e=this;this.functionsFm.property=this.record.property,this.record.onlineCommand.forEach(function(t,i,s){"1"==t.had&&e.functionsFm.onlineCommand.push(t.id)}),this.record.alert.forEach(function(t,i,s){"1"==t.had&&e.functionsFm.alert.push(t.id)}),this.functionsFm.remark=this.record.remark,this.functionsFm.activeCommand=this.record.activeCommand},onSubmit:function(){var e=this;if(!this.devicetype)return this.$message.error("型号不能为空"),!1;var t=a()({devicetype:this.devicetype,onlineCommand:this.functionsFm.onlineCommand.join(","),alert:this.functionsFm.alert.join(","),remark:this.functionsFm.remark,activeCommand:this.functionsFm.activeCommand},this.functionsFm.property);this.btnloading=!0,Object(r._161)(t).then(function(t){e.btnloading=!1,e.$message.success(lg.success),e.setVisible(!1)}).catch(function(){e.btnloading=!1})},init:function(){this.functionsFm={property:{},protocol:"-",onlineCommand:[],alert:[],activeCommand:"",remark:""}},fmtName:function(e){return lg[e]||"+"+e},fmReset:function(){this.$refs.functionsFm.resetFields(),this.record={},this.init()},cancelFn:function(){this.setVisible(!1),this.fmReset()}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],staticClass:"dialog-model-functions",attrs:{"append-to-body":!0,visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.fmReset}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.devicetype)+"\n    "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.auth.hasViewDescription,expression:"auth.hasViewDescription"}],attrs:{placement:"top","popper-class":"tooltip-pageinfo"}},[i("i",{staticClass:"el-icon-info protrack"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      【页面功能说明】"),i("br"),e._v("\n      一 页面功能："),i("br"),e._v("\n      设备型号-功能勾选 ："),i("br"),e._v("\n      1 主要是：目前更多是【记录】作用，记录该型号具有的功能列表"),i("br"),e._v("\n      2 并非是：主要目的并非控制功能在监控等页面上是否展示"),i("br"),e._v(" "),i("br"),e._v("\n      二 更多信息："),i("br"),e._v("\n      · 目前只实现了部分功能勾选 控制显示功能"),i("br"),e._v("\n      · 全部实现是我们的方向"),i("br"),e._v("\n      (不过因为型号各异且复杂"),i("br"),e._v("\n      实现起来尚有较长过程)"),i("br"),i("br"),e._v("\n\n      三 其它-是否打勾与灰色："),i("br"),e._v("\n      1. 是否有勾，表示是否有这个功能，销售按照这个区分来即可；"),i("br"),e._v("\n      2. 灰色 表示 不可编辑(对管理员而言)"),i("br"),e._v("\n          Fuel 和 Battery 不是简单的有和没有的设置，还需要设置其他的，所以界面上不允许修改。"),i("br"),e._v("\n          如果需要修改的话一般是设备需要增加油量或电量显示功能，发邮件开发上线后，开发会在数据库给该型号配置好相关功能。 前面就会显示勾了。"),i("br")])])],1),e._v(" "),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"functionsFm",attrs:{model:e.functionsFm},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[i("el-scrollbar",{staticClass:"form-main"},[i("el-form-item",{staticStyle:{"padding-top":"0"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.functionsFm.property.obd,callback:function(t){e.$set(e.functionsFm.property,"obd",t)},expression:"functionsFm['property'].obd"}},[e._v("OBD functions")]),e._v(" "),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.functionsFm.property.driveBehavior,callback:function(t){e.$set(e.functionsFm.property,"driveBehavior",t)},expression:"functionsFm['property'].driveBehavior"}},[e._v("Driving behavior")])],1),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset el-form-item-textarea",attrs:{label:"Protocol"}},[e._v("\n        "+e._s(e.record.protocol||"-")+"\n      ")]),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset",attrs:{label:"Online command"}},[i("el-checkbox-group",{model:{value:e.functionsFm.onlineCommand,callback:function(t){e.$set(e.functionsFm,"onlineCommand",t)},expression:"functionsFm.onlineCommand"}},[e._l(e.record.onlineCommand,function(t){return[i("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(e.fmtName(t.i18n)))]),e._v(" "),t.command?i("span",{staticClass:"red"},[e._v("("+e._s(t.command)+")")]):e._e()]})],2)],1),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset el-form-item-textarea",attrs:{label:"Activation command"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.functionsFm.activeCommand,callback:function(t){e.$set(e.functionsFm,"activeCommand",t)},expression:"functionsFm.activeCommand"}})],1),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset",attrs:{label:"Property"}},[e._l(e.propertyArr,function(t){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:t.disabled,title:t.title},model:{value:e.functionsFm.property[t.key],callback:function(i){e.$set(e.functionsFm.property,t.key,i)},expression:"functionsFm['property'][item.key]"}},[e._v(e._s(t.label)+e._s(e.getPropertyOldValue(t.key)))])]})],2),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset",attrs:{label:"Alerts"}},[i("el-checkbox-group",{model:{value:e.functionsFm.alert,callback:function(t){e.$set(e.functionsFm,"alert",t)},expression:"functionsFm.alert"}},[e._l(e.record.alert,function(t){return[i("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(e.fmtName(t.i18n)))])]})],2)],1),e._v(" "),i("el-form-item",{staticClass:"el-form-item-fieldset el-form-item-textarea",attrs:{label:"Remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.functionsFm.remark,callback:function(t){e.$set(e.functionsFm,"remark",t)},expression:"functionsFm.remark"}})],1)],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(e){i("bxcn")},null,null);t.default=l.exports}});