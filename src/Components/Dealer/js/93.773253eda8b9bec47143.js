webpackJsonp([93,75,106],{"9bBU":function(e,t,r){r("mClu");var s=r("FeBl").Object;e.exports=function(e,t,r){return s.defineProperty(e,t,r)}},C4MV:function(e,t,r){e.exports={default:r("9bBU"),__esModule:!0}},CGzg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["pwd"],name:"passwordStrength",data:function(){return{pwdLevel:0}},computed:{checkStrength:function(){if(!this.pwd)return 0;var e=new RegExp("^(?=.{8,})(?=.*[A-Za-z])(?=.*[0-9])(?=.*\\W).*$","g"),t=new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|(?=.*[0-9])(?=.*\\W)|(?=.*[A-Za-z])(?=.*\\W)|((?=.*[a-z])(?=.*[0-9]))).*$","g"),r=new RegExp("(?=.{6,}).*","g");return e.test(this.pwd)?"pwd-level-3":t.test(this.pwd)?"pwd-level-2":r.test(this.pwd)?"pwd-level-1":"pwd-level-0"}},methods:{}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pwd-strength"},[t("span",{class:this.checkStrength})])},staticRenderFns:[]};var n=r("VU/8")(s,i,!1,function(e){r("O6a9")},null,null);t.default=n.exports},NC6I:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("nErl"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createOutputMethod(r)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var s,i,n=0,o=e.length,a=this.blocks,c=this.buffer8;n<o;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;n<o&&i<64;++n)c[i++]=e[n];else for(i=this.start;n<o&&i<64;++n)a[i>>2]|=e[n]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;n<o&&i<64;++n)(s=e.charCodeAt(n))<128?c[i++]=s:s<2048?(c[i++]=192|s>>6,c[i++]=128|63&s):s<55296||s>=57344?(c[i++]=224|s>>12,c[i++]=128|s>>6&63,c[i++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++n)),c[i++]=240|s>>18,c[i++]=128|s>>12&63,c[i++]=128|s>>6&63,c[i++]=128|63&s);else for(i=this.start;n<o&&i<64;++n)(s=e.charCodeAt(n))<128?a[i>>2]|=s<<SHIFT[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&s)<<SHIFT[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<SHIFT[3&i++],a[i>>2]|=(128|s>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&s)<<SHIFT[3&i++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++n)),a[i>>2]|=(240|s>>18)<<SHIFT[3&i++],a[i>>2]|=(128|s>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|s>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&s)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,r,s,i,n,o=this.blocks;this.first?t=((t=((e=((e=o[0]-680876937)<<7|e>>>25)-271733879<<0)^(r=((r=(-271733879^(s=((s=(-1732584194^2004318071&e)+o[1]-117830708)<<12|s>>>20)+e<<0)&(-271733879^e))+o[2]-1126478375)<<17|r>>>15)+s<<0)&(s^e))+o[3]-1316259209)<<22|t>>>10)+r<<0:(e=this.h0,t=this.h1,r=this.h2,t=((t+=((e=((e+=((s=this.h3)^t&(r^s))+o[0]-680876936)<<7|e>>>25)+t<<0)^(r=((r+=(t^(s=((s+=(r^e&(t^r))+o[1]-389564586)<<12|s>>>20)+e<<0)&(e^t))+o[2]+606105819)<<17|r>>>15)+s<<0)&(s^e))+o[3]-1044525330)<<22|t>>>10)+r<<0),t=((t+=((e=((e+=(s^t&(r^s))+o[4]-176418897)<<7|e>>>25)+t<<0)^(r=((r+=(t^(s=((s+=(r^e&(t^r))+o[5]+1200080426)<<12|s>>>20)+e<<0)&(e^t))+o[6]-1473231341)<<17|r>>>15)+s<<0)&(s^e))+o[7]-45705983)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(s^t&(r^s))+o[8]+1770035416)<<7|e>>>25)+t<<0)^(r=((r+=(t^(s=((s+=(r^e&(t^r))+o[9]-1958414417)<<12|s>>>20)+e<<0)&(e^t))+o[10]-42063)<<17|r>>>15)+s<<0)&(s^e))+o[11]-1990404162)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(s^t&(r^s))+o[12]+1804603682)<<7|e>>>25)+t<<0)^(r=((r+=(t^(s=((s+=(r^e&(t^r))+o[13]-40341101)<<12|s>>>20)+e<<0)&(e^t))+o[14]-1502002290)<<17|r>>>15)+s<<0)&(s^e))+o[15]+1236535329)<<22|t>>>10)+r<<0,t=((t+=((s=((s+=(t^r&((e=((e+=(r^s&(t^r))+o[1]-165796510)<<5|e>>>27)+t<<0)^t))+o[6]-1069501632)<<9|s>>>23)+e<<0)^e&((r=((r+=(e^t&(s^e))+o[11]+643717713)<<14|r>>>18)+s<<0)^s))+o[0]-373897302)<<20|t>>>12)+r<<0,t=((t+=((s=((s+=(t^r&((e=((e+=(r^s&(t^r))+o[5]-701558691)<<5|e>>>27)+t<<0)^t))+o[10]+38016083)<<9|s>>>23)+e<<0)^e&((r=((r+=(e^t&(s^e))+o[15]-660478335)<<14|r>>>18)+s<<0)^s))+o[4]-405537848)<<20|t>>>12)+r<<0,t=((t+=((s=((s+=(t^r&((e=((e+=(r^s&(t^r))+o[9]+568446438)<<5|e>>>27)+t<<0)^t))+o[14]-1019803690)<<9|s>>>23)+e<<0)^e&((r=((r+=(e^t&(s^e))+o[3]-187363961)<<14|r>>>18)+s<<0)^s))+o[8]+1163531501)<<20|t>>>12)+r<<0,t=((t+=((s=((s+=(t^r&((e=((e+=(r^s&(t^r))+o[13]-1444681467)<<5|e>>>27)+t<<0)^t))+o[2]-51403784)<<9|s>>>23)+e<<0)^e&((r=((r+=(e^t&(s^e))+o[7]+1735328473)<<14|r>>>18)+s<<0)^s))+o[12]-1926607734)<<20|t>>>12)+r<<0,t=((t+=((n=(s=((s+=((i=t^r)^(e=((e+=(i^s)+o[5]-378558)<<4|e>>>28)+t<<0))+o[8]-2022574463)<<11|s>>>21)+e<<0)^e)^(r=((r+=(n^t)+o[11]+1839030562)<<16|r>>>16)+s<<0))+o[14]-35309556)<<23|t>>>9)+r<<0,t=((t+=((n=(s=((s+=((i=t^r)^(e=((e+=(i^s)+o[1]-1530992060)<<4|e>>>28)+t<<0))+o[4]+1272893353)<<11|s>>>21)+e<<0)^e)^(r=((r+=(n^t)+o[7]-155497632)<<16|r>>>16)+s<<0))+o[10]-1094730640)<<23|t>>>9)+r<<0,t=((t+=((n=(s=((s+=((i=t^r)^(e=((e+=(i^s)+o[13]+681279174)<<4|e>>>28)+t<<0))+o[0]-358537222)<<11|s>>>21)+e<<0)^e)^(r=((r+=(n^t)+o[3]-722521979)<<16|r>>>16)+s<<0))+o[6]+76029189)<<23|t>>>9)+r<<0,t=((t+=((n=(s=((s+=((i=t^r)^(e=((e+=(i^s)+o[9]-640364487)<<4|e>>>28)+t<<0))+o[12]-421815835)<<11|s>>>21)+e<<0)^e)^(r=((r+=(n^t)+o[15]+530742520)<<16|r>>>16)+s<<0))+o[2]-995338651)<<23|t>>>9)+r<<0,t=((t+=((s=((s+=(t^((e=((e+=(r^(t|~s))+o[0]-198630844)<<6|e>>>26)+t<<0)|~r))+o[7]+1126891415)<<10|s>>>22)+e<<0)^((r=((r+=(e^(s|~t))+o[14]-1416354905)<<15|r>>>17)+s<<0)|~e))+o[5]-57434055)<<21|t>>>11)+r<<0,t=((t+=((s=((s+=(t^((e=((e+=(r^(t|~s))+o[12]+1700485571)<<6|e>>>26)+t<<0)|~r))+o[3]-1894986606)<<10|s>>>22)+e<<0)^((r=((r+=(e^(s|~t))+o[10]-1051523)<<15|r>>>17)+s<<0)|~e))+o[1]-2054922799)<<21|t>>>11)+r<<0,t=((t+=((s=((s+=(t^((e=((e+=(r^(t|~s))+o[8]+1873313359)<<6|e>>>26)+t<<0)|~r))+o[15]-30611744)<<10|s>>>22)+e<<0)^((r=((r+=(e^(s|~t))+o[6]-1560198380)<<15|r>>>17)+s<<0)|~e))+o[13]+1309151649)<<21|t>>>11)+r<<0,t=((t+=((s=((s+=(t^((e=((e+=(r^(t|~s))+o[4]-145523070)<<6|e>>>26)+t<<0)|~r))+o[11]-1120210379)<<10|s>>>22)+e<<0)^((r=((r+=(e^(s|~t))+o[2]+718787259)<<15|r>>>17)+s<<0)|~e))+o[9]-343485551)<<21|t>>>11)+r<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=r-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+s<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,s=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,s=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,r,s="",i=this.array(),n=0;n<15;)e=i[n++],t=i[n++],r=i[n++],s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|r>>>6)]+BASE64_ENCODE_CHAR[63&r];return e=i[n],s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__("W2nU"),__webpack_require__("DuR2"))},NPiI:function(e,t){},O6a9:function(e,t){},Rpa2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("gyMJ"),i={props:["defaultUserInfo","treeType"],prop:["width"],data:function(){return{activeName:"",name:"",num:10,notFirst:!1,showTree:!1}},components:{tree:r("zAgK").default},methods:{changeFn:function(){""==this.$trim(this.name)&&(this.activeName="",this.callbackComp({customerid:"",name:""}))},querySearchAsync:function(e,t){var r=this,i=this.$trim(e);if(""==i)return t([]);Object(s.U)({query:i,num:this.num}).then(function(e){t(e.suggestions),r.$refs.userTreeInput.handleFocus()}).catch(function(e){})},handleSelect:function(e){this.activeName=e.value,this.callbackComp({customerid:e.data,name:e.value,roletype:e.roletype})},treeNodeClick:function(e){this.callbackComp({customerid:e.id,name:e.name,roletype:e.roletype}),this.name=e.name,this.hideTree(),this.activeName=e.account?(e._name?e._name:e.name)+"("+e.account+")":""},setCustomer:function(e){this.name=e},refresh:function(){this.$refs.treeComp.refresh()},toggleTree:function(){this.notFirst=!0,this.showTree=!this.showTree},hideTree:function(){this.showTree=!1},clearFn:function(){this.name="",this.activeName=""},callbackComp:function(e){this.$emit("selected",e)},focusAutoComp:function(e){document.getElementById("tips").style.display="none",this.checkPopupPosition(e)},checkPopupPosition:function(e){if(0!=document.body.scrollLeft)for(var t=document.querySelectorAll(".el-dialog__body"),r=0,s=t.length;r<s;r++)t[r].hasChildNodes(e.target)&&(document.body.scrollLeft=0)},setDefaultUserInfo:function(e){e&&(this.defaultUserInfo=e,this.treeNodeClick(this.defaultUserInfo))}},mounted:function(){var e=this;e.defaultUserInfo&&e.treeNodeClick(e.defaultUserInfo),document.body.addEventListener("click",function(t){e.hideTree()})}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-tree-select"},[r("div",{directives:[{name:"tip",rawName:"v-tip",value:e.activeName,expression:"activeName"}],attrs:{"data-tips":e.activeName}},[r("el-autocomplete",{ref:"userTreeInput",attrs:{"trigger-on-focus":!1,"fetch-suggestions":e.querySearchAsync,"popper-class":"user-autocomplete",clearable:"",placeholder:e.lg.selectHint},on:{select:e.handleSelect,focus:function(t){return e.focusAutoComp(t)},input:e.changeFn},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[r("i",{staticClass:"user-icon",class:"user-icon-"+s.roletype}),e._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"s-name"},[e._v(e._s(s.name))]),e._v(" "),r("span",{staticClass:"s-account"},[e._v(e._s(s.account))])])]}}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[r("el-button",{staticClass:"select-btn",attrs:{slot:"append",icon:e.showTree?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:function(t){return t.stopPropagation(),e.toggleTree.apply(null,arguments)}},slot:"append"})],1)],1),e._v(" "),e.notFirst?r("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"treeBox"},[r("tree",{ref:"treeComp",attrs:{treeType:e.treeType},on:{treeNodeClick:e.treeNodeClick}})],1):e._e()])},staticRenderFns:[]};var o=r("VU/8")(i,n,!1,function(e){r("NPiI")},null,null);t.default=o.exports},S455:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{dialogVisible:!1}},computed:{customerInfo:function(){return this.$store.state.customerInfo}},components:{addComp:r("Z8T2").default,settingComp:function(){return r.e(4).then(r.bind(null,"PSis")).catch()}},methods:{setVisible:function(e){this.dialogVisible=e},setData:function(e,t){var r=this;r.findObj("addComp",r.$refs,function(){e||(e=r.customerInfo.id,t=r.customerInfo.name),r.$refs.addComp.setCustomerid(e,t)})},addSuccess:function(e){this.$emit("cbAddUser",e)},closeDialog:function(){this.setVisible(!1)},dialogCloseFn:function(){this.$refs.addComp.clearFn()},showSetTemplate:function(){var e=this.customerInfo.id;this.$refs.settingComp.setVisible(!0),this.$refs.settingComp.getData(e,!0,"setTemplate")}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{visible:e.dialogVisible,modal:!0,"show-close":!0,width:"900px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogCloseFn}},[r("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.lg.addCustomer)+"\n    "),r("a",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.setTemplateTips,align:"rightBottom"},expression:"{txt:lg.setTemplateTips,align:'rightBottom'}"}],staticClass:"set-template",attrs:{href:"javascript://"},on:{click:e.showSetTemplate}},[r("i",{staticClass:"option-btn base-icon set-icon"}),e._v(e._s(e.lg.setTemplate)+"\n    ")]),e._v(" "),r("span",{staticStyle:{color:"#aaa"}},[e._v("("+e._s(e.lg.setTemplateTips)+")")])]),e._v(" "),r("addComp",{ref:"addComp",attrs:{isDialog:!0},on:{addSuccess:e.addSuccess,closeDialog:e.closeDialog}}),e._v(" "),r("settingComp",{ref:"settingComp",attrs:{sence:"setTemplate"}})],1)},staticRenderFns:[]};var n=r("VU/8")(s,i,!1,function(e){r("vUzN")},null,null);t.default=n.exports},UdMx:function(e,t){},Z8T2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("NC6I"),i=r.n(s),n=r("gyMJ"),o=r("iKHV"),a=r("CGzg"),c=r("Rpa2"),l=r("n5+R"),u=r("vgQg"),d={props:["isDialog"],data:function(){return{userFm:{type:"2",timezone:-(new Date).getTimezoneOffset(),contact:"",name:"",account:"",phone:"",telephone:"",email:"",address:"",webpage:""},timezoneArr:[],btnloading:!1,existed:!1,successFlag:!1,charPwd:["a","b","c","d","e","f","g","h","i","j","k","m","n","p","q","r","s","t","u","x","y","z","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","X","Y","Z","2","3","4","5","6","7","8","9"]}},components:{passwordStrength:a.default,userTreeSelect:c.default,addSuccess:l.default},methods:{init:function(e,t){this.userFm.pid=e,t&&this.$refs.userTreeSelectComp.setCustomer(t)},change:function(e){this.$forceUpdate()},selected:function(e){this.userFm.pid=e.customerid},setCustomerid:function(e,t){this.userFm.pid=e;var r=this;setTimeout(function(){t&&r.$refs.userTreeSelectComp.setCustomer(t)},0)},onSubmit:function(){var e=this;if(this.checkParams()){this.btnloading=!0;var t=this.deepCopy(this.userFm);t.passwd=i()(this.$trim(t.passwd)),t.account=this.$trim(t.account),t.name||(this.userFm.name=this.userFm.account,t.name=this.userFm.name),Object(n._89)(t).then(function(t){e.btnloading=!1,e.$emit("addSuccess",{customerid:t.customerid,customername:e.userFm.name,account:e.userFm.account}),e.showSuccess(t.customerid),e.fmReset()}).catch(function(t){e.btnloading=!1}),this.countEvent({action:"添加用户",opt_label:"点击",val:"Dealer2"})}},checkParams:function(){var e=this.userFm.pid,t=this.$trim(this.userFm.account),r=this.$trim(this.userFm.name),s=this.$trim(this.userFm.contact),i=(this.$trim(this.userFm.phone),this.$trim(this.userFm.telephone),this.$trim(this.userFm.email)),n=this.$trim(this.userFm.address),a=this.$trim(this.userFm.passwd),c=this.$trim(this.userFm.repwd);return""!=e&&/\d{1,}/.test(e)?t?Object(o.d)(t)?a?Object(o.i)(a)?Object(o.j)(a)?c?a!=c?(this.$message.error(lg.matchPwdError),!1):r.length>=o.a?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.customerName).replace("{{num}}",o.a)),!1):s&&s.length>64?(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.contact).replace("{{num}}",64)),!1):i&&!Object(o.k)(i)?(this.$message.error(lg.emailFormatError),!1):!(n&&n.length>150)||(this.$message.error(lg.lengthlimit.replace("{{name}}",lg.address).replace("{{num}}",150)),!1):(this.$message.error(lg.inputConfirmPwd),!1):(this.$message.error(lg.notSimplePwd),!1):(this.$message.error(lg.pwdLengthError),!1):(this.$message.error(lg.inputPwd),!1):(this.$message.error(lg.accountFormatError),!1):(this.$message.error(lg.accountNull),!1):(this.$message.error(lg.selectSuperCustomerNull),!1)},showSuccess:function(e){this.successFlag=!0;var t=this.deepCopy(this.userFm);t.id=e;var r=this;setTimeout(function(){r.$refs.successComp.setCustomerInfo(t)},300)},continueAdd:function(){this.successFlag=!1},randomPwd:function(){for(var e="",t=this.charPwd.length,r=0;r<8;r++){var s=Math.floor(Math.random()*t);e+=this.charPwd[s]}this.$set(this.userFm,"passwd",e),this.$set(this.userFm,"repwd",e)},fmReset:function(){this.$refs.addFm.resetFields(),this.existed=!1},cancelFn:function(){this.$emit("closeDialog")},clearFn:function(){this.fmReset(),this.successFlag=!1},checkAcountExsit:function(){var e=this;if(!this.userFm.account)return this.existed=!1;Object(n.e)({account:this.userFm.account}).then(function(t){e.existed=t.record}).catch(function(e){})}},mounted:function(){var e=this;this.$nextTick(function(){e.timezoneArr=u.d})}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"submit-from-box dialog-adduser user-info"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.successFlag,expression:"!successFlag"}],ref:"addFm",staticClass:"user-add half-from",attrs:{model:e.userFm,"show-message":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("el-row",[r("el-form-item",{staticClass:"online",attrs:{label:e.lg.superCustomer,required:""}},[r("userTreeSelect",{ref:"userTreeSelectComp",on:{selected:e.selected}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.loginAccount,required:"",prop:"account"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","account")},change:e.checkAcountExsit,input:function(t){return e.change(t)}},model:{value:e.userFm.account,callback:function(t){e.$set(e.userFm,"account",t)},expression:"userFm.account"}}),e._v(" "),e.existed?r("span",{staticClass:"el-form-item__error"},[e._v(e._s(e.lg[20002]))]):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.customerName,prop:"name"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","name")},input:function(t){return e.change(t)}},model:{value:e.userFm.name,callback:function(t){e.$set(e.userFm,"name",t)},expression:"userFm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.pass,required:"",prop:"passwd"}},[r("el-input",{attrs:{"auto-complete":"new-password","show-password":""},on:{blur:function(t){return e.$trimFn("userFm","passwd")},input:function(t){return e.change(t)}},model:{value:e.userFm.passwd,callback:function(t){e.$set(e.userFm,"passwd",t)},expression:"userFm.passwd"}}),e._v(" "),r("span",{directives:[{name:"tip",rawName:"v-tip",value:{txt:e.lg.randomPwd,align:"centerBottom"},expression:"{txt:lg.randomPwd,align:'centerBottom'}"}],staticClass:"icon-randompwd el-icon-key",on:{click:e.randomPwd}}),e._v(" "),r("passwordStrength",{attrs:{pwd:e.userFm.passwd}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.rePwd,required:"",prop:"repwd"}},[r("el-input",{attrs:{"auto-complete":"new-password","show-password":""},on:{blur:function(t){return e.$trimFn("userFm","repwd")},input:function(t){return e.change(t)}},model:{value:e.userFm.repwd,callback:function(t){e.$set(e.userFm,"repwd",t)},expression:"userFm.repwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"online",attrs:{label:e.lg.roles,required:"",prop:"type"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[r("i",{staticClass:"tree-icon ico-dealer"}),e._v(e._s(e.lg.gradeDealer))]),e._v(" "),r("el-radio",{attrs:{label:"3"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[r("i",{staticClass:"tree-icon ico-uservirtual"}),e._v(e._s(e.lg.gradeVirtual))]),e._v(" "),r("el-radio",{attrs:{label:"2"},model:{value:e.userFm.type,callback:function(t){e.$set(e.userFm,"type",t)},expression:"userFm.type"}},[r("i",{staticClass:"tree-icon ico-user"}),e._v(e._s(e.lg.gradeUser)+"\n        ")]),e._v(" "),r("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"2"==e.userFm.type,expression:"userFm.type == '2'"}],attrs:{"true-label":"1"},model:{value:e.userFm.isread,callback:function(t){e.$set(e.userFm,"isread",t)},expression:"userFm.isread"}},[r("i",{staticClass:"tree-icon ico-userReadonly"}),e._v(e._s(e.lg.monitorOnly)+"\n          "),r("el-tooltip",{attrs:{content:e.lg.readonlyTips,placement:"top"}},[r("i",{staticClass:"el-icon-info"})])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.timeZone,required:"",prop:"timezone"}},[r("el-select",{model:{value:e.userFm.timezone,callback:function(t){e.$set(e.userFm,"timezone",t)},expression:"userFm.timezone"}},e._l(e.timezoneArr,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("div",{staticClass:"cb"}),e._v(" "),r("el-form-item",{attrs:{label:e.lg.contact,prop:"contact"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","contact")}},model:{value:e.userFm.contact,callback:function(t){e.$set(e.userFm,"contact",t)},expression:"userFm.contact"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.mobile,prop:"phone"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","phone")}},model:{value:e.userFm.phone,callback:function(t){e.$set(e.userFm,"phone",t)},expression:"userFm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.tel,prop:"telephone"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","telephone")}},model:{value:e.userFm.telephone,callback:function(t){e.$set(e.userFm,"telephone",t)},expression:"userFm.telephone"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"email"}},[r("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(e.lg.email)+"\n          "),r("el-tooltip",{attrs:{content:e.lg.findPassEmailTips,placement:"top"}},[r("i",{staticClass:"el-icon-info"})])],1),e._v(" "),r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","email")}},model:{value:e.userFm.email,callback:function(t){e.$set(e.userFm,"email",t)},expression:"userFm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.address,prop:"address"}},[r("el-input",{attrs:{clearable:""},on:{blur:function(t){return e.$trimFn("userFm","address")}},model:{value:e.userFm.address,callback:function(t){e.$set(e.userFm,"address",t)},expression:"userFm.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lg.webpage,prop:"website"}},[r("el-input",{attrs:{clearable:"",maxlength:"250"},on:{blur:function(t){return e.$trimFn("userFm","webpage")}},model:{value:e.userFm.webpage,callback:function(t){e.$set(e.userFm,"webpage",t)},expression:"userFm.webpage"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"form-btn-box online"},[r("el-button",{attrs:{type:"primary","native-type":"submit",loading:e.btnloading}},[e._v(e._s(e.lg.submit))]),e._v(" "),e.isDialog?r("el-button",{on:{click:e.cancelFn}},[e._v(e._s(e.lg.cancel))]):r("el-button",{on:{click:e.fmReset}},[e._v(e._s(e.lg.reset))])],1)],1),e._v(" "),e.successFlag?r("addSuccess",{ref:"successComp",on:{cbContinueAdd:e.continueAdd}}):e._e()],1)},staticRenderFns:[]};var f=r("VU/8")(d,h,!1,function(e){r("aD3g")},null,null);t.default=f.exports},aD3g:function(e,t){},bOdI:function(e,t,r){"use strict";t.__esModule=!0;var s,i=r("C4MV"),n=(s=i)&&s.__esModule?s:{default:s};t.default=function(e,t,r){return t in e?(0,n.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},iKHV:function(e,t,r){"use strict";r.d(t,"d",function(){return s}),r.d(t,"i",function(){return i}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"m",function(){return a}),r.d(t,"b",function(){return c}),r.d(t,"l",function(){return l}),r.d(t,"k",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"h",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"e",function(){return m}),r.d(t,"n",function(){return p}),r.d(t,"c",function(){return g}),r.d(t,"o",function(){return b});var s=function(e){return!(!e||!/^([0-9A-Za-z\_\@\.]){2,30}$/.test(e))},i=function(e){return!!(e&&e.length<=20&&e.length>=6)},n=function(e){return"123456"!=e},o=100,a=64,c=150,l=function(e){return!!e.match(/^(\+[0-9]{1,20}|[0-9]{1,21})$/)},u=function(e){return e.indexOf("@")>0&&e.indexOf(".")>0&&!!e.match(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)},d=function(e){return/(^[a-zA-Z\d]{6,15}$)/.test(e)},h=function(e){return/(^[a-zA-Z\d]{5,18}$)/.test(e)},f=function(e){for(var t,r=[],s=!0,i=0,n=e.length;i<n;i++)if(t=e[i].replace(/^\s+|\s+$/gm,""),r.push(t),!d(t)){s=!1;break}return{imeis:r,rs:s}},m=function(e){return!!(/^\d+(\.5)?$/.test(e)&&parseInt(e)>=0&&parseInt(e)<=5e3)},p=function(e,t){var r={beginTime:(t=t||"")?new Date(new Date(t).getTime()).setHours(0,0,0,0):(new Date).getTime()};return r.endTime=r.beginTime+864e5*e-1,r},v=function(e,t){if(e+="",t||(t=0),-1==e.indexOf(".")&&(e+="."),e+=new Array(t+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(t+1)+"})?)\\d*$").test(e)){e="0"+RegExp.$2;var r=RegExp.$1,s=RegExp.$3.length,i=!0;if(s==t+2){if(s=e.match(/\d/g),parseInt(s[s.length-1])>4)for(var n=s.length-2;n>=0&&(s[n]=parseInt(s[n])+1,10==s[n]);n--)s[n]=0,i=1!=n;e=s.join("").replace(new RegExp("(\\d+)(\\d{"+t+"})\\d$"),"$1.$2")}return i&&(e=e.substr(1)),parseFloat((r+e).replace(/\.$/,""))}return e+""},g=function(e,t,r){return 0==e&&"temperature"!=t||void 0===r?e:"distance"==t?v("2"==r?.621*e:e,2):"pressure"==t?["",v(.145*e,2),v(.01*e,2),v(e,2)][r]:"capacity"==t?["",v(e,2),v(.264*e,2),v(.22*e,2)][r]:"temperature"==t?v("2"==r?1.8*e+32:e,2):"fuelefficiency"==t?["",v(e,2),v(62.1/(.264*e),2),v(62.1/(.22*e),2)][r]:e},b=function(e,t,r){return 0==e&&"temperature"!=t||void 0===r?e:"distance"==t&&1!=r?v(e/.621,2):"pressure"==t?["",v(e/.145,2),v(e/.01,2),v(e,2)][r]:"capacity"==t?["",v(e,2),v(e/.264,2),v(e/.22,2)][r]:"temperature"==t?v("2"==r?(e-32)/1.8:e,2):"fuelefficiency"==t?["",v(e,2),v(62.1/(.264*e),2),v(62.1/(.22*e),2)][r]:e}},mClu:function(e,t,r){var s=r("kM2E");s(s.S+s.F*!r("+E39"),"Object",{defineProperty:r("evD5").f})},"n5+R":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["account","passwd"],data:function(){return{customerInfo:{},deviceVisible:!1,cardVisible:!1,batchMoveVisible:!1}},computed:{auth:function(){return this.$store.state.auth},loginId:function(){return this.$store.state.loginId}},components:{addDevice:function(){return r.e(110).then(r.bind(null,"3A2d")).catch()},movePoint:function(){return r.e(6).then(r.bind(null,"fvYT")).catch()},batchSale:function(){return r.e(99).then(r.bind(null,"2En/")).catch()},batchMove:function(){return r.e(104).then(r.bind(null,"IKuJ")).catch()},uploadComp:function(){return r.e(84).then(r.bind(null,"DReV")).catch()},searchComp:function(){return r.e(2).then(r.bind(null,"Ghwc")).catch()}},methods:{continueAdd:function(){this.$emit("cbContinueAdd")},copyAccount:function(){return lg.account+":"+this.account+","+lg.pass+":"+this.passwd},setCustomerInfo:function(e){this.customerInfo=e},showUserInSearchDialog:function(){this.$refs.searchComp.setVisible(!0),this.$refs.searchComp.showUserDetail(this.customerInfo.account)},showDevice:function(){this.deviceVisible=!0;var e=this;this.findObj("addDeviceComp",this.$refs,function(){e.$refs.addDeviceComp.init(e.customerInfo.id,e.customerInfo.name)})},showMovePoint:function(){this.cardVisible=!0;var e=this;this.findObj("movePointComp",this.$refs,function(){e.$refs.movePointComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},moveSuccess:function(){this.cardVisible=!1},showBatchSale:function(){var e=this;this.findObj("batchSaleComp",this.$refs,function(){e.$refs.batchSaleComp.setVisible(!0),e.$refs.batchSaleComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},showBatchMove:function(){this.batchMoveVisible=!0;var e=this;this.findObj("batchMoveComp",this.$refs,function(){e.$refs.batchMoveComp.setCustomer(e.customerInfo.id,e.customerInfo.name)})},moveDeviceSuccess:function(){this.batchMoveVisible=!1},setDataAfterUpload:function(e){}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-result"},[r("div",{staticClass:"title"},[r("i",{staticClass:"ico ico-ok"}),e._v(" "),r("h3",[e._v(e._s(e.lg.addCustomer+": "+e.lg.success))])]),e._v(" "),r("div",{staticClass:"mb20 tc"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.continueAdd()}}},[e._v(e._s(e.lg.continueTo))])],1),e._v(" "),r("div",{staticClass:"info"}),e._v(" "),r("div",{staticClass:"upload",staticStyle:{"border-top":"1px solid #E8E9E9",padding:"10px 0 0"}},[r("div",{staticStyle:{"text-align":"center"}},[r("span",[e._v(e._s(e.lg.portrait)+":")]),e._v(" "),r("uploadComp",{ref:"imgUploadComp",staticStyle:{margin:"auto"},attrs:{targetUrl:"/api2/customer/portrait/upload",customerid:e.customerInfo.id,initOriginalurl:e.customerInfo.portrait,initThumbnailurl:e.customerInfo.thumbnailportrait},on:{setData:e.setDataAfterUpload}})],1)]),e._v(" "),r("div",{staticClass:"detail tc"},[r("div",{staticClass:"mb15"},[r("label",{staticClass:"detail-label"},[e._v(e._s(e.lg.account)+": ")]),e._v(" "),r("a",{staticClass:"link-btn",on:{click:e.showUserInSearchDialog}},[e._v(e._s(e.customerInfo.account))]),e._v(" "),r("label",{staticClass:"detail-label ml20"},[e._v(e._s(e.lg.pass)+": ")]),e._v(e._s(e.customerInfo.passwd)+"\n      "),r("i",{directives:[{name:"tip",rawName:"v-tip",value:e.lg.copy,expression:"lg.copy"}],staticClass:"copy-btn el-icon-copy-document add-user-success-copy",attrs:{"data-clipboard-text":e.lg.account+": "+e.$trim(e.customerInfo.account)+","+e.lg.pass+": "+e.$trim(e.customerInfo.passwd)},on:{click:function(t){return e.copyFn(".add-user-success-copy")}}})]),e._v(" "),"1"==e.customerInfo.type?r("div",{staticClass:"option"},[e.auth.hasAuth2ImportDevice?[r("a",{staticClass:"link-btn",on:{click:e.showDevice}},[e._v(e._s(e.lg.addTarget))]),e._v(" |\n      ")]:e._e(),e._v(" "),e.customerInfo.pid==e.loginId?[r("a",{staticClass:"link-btn",on:{click:e.showMovePoint}},[e._v(e._s(e.lg.movePoint))]),e._v(" |\n      ")]:e._e(),e._v(" "),r("a",{staticClass:"link-btn",on:{click:e.showBatchSale}},[e._v(e._s(e.lg.batchSale))]),e._v(" |\n      "),r("a",{staticClass:"link-btn",on:{click:e.showBatchMove}},[e._v(e._s(e.lg.batchMove))])],2):e._e()]),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.addTarget,visible:e.deviceVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.deviceVisible=t}}},[r("addDevice",{ref:"addDeviceComp"})],1),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.transferCard,visible:e.cardVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"700px"},on:{"update:visible":function(t){e.cardVisible=t}}},[r("movePoint",{ref:"movePointComp",attrs:{hidetitle:!0},on:{cb:e.moveSuccess}})],1),e._v(" "),r("batchSale",{ref:"batchSaleComp"}),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"mouseClose",rawName:"v-mouseClose"}],attrs:{title:e.lg.moveTarget,visible:e.batchMoveVisible,"append-to-body":!0,modal:!0,"show-close":!0,width:"600px"},on:{"update:visible":function(t){e.batchMoveVisible=t}}},[r("batchMove",{ref:"batchMoveComp",on:{moveSuccess:e.moveDeviceSuccess}})],1),e._v(" "),r("searchComp",{ref:"searchComp"})],1)},staticRenderFns:[]},n=r("VU/8")(s,i,!1,null,null,null);t.default=n.exports},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},vUzN:function(e,t){},zAgK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("bOdI"),i=r.n(s),n=r("gyMJ"),o=r("KvKp"),a={props:["treeType","showCheckbox","rightClickFlag"],data:function(){return{treetype:"1",orderKey:"name",orderType:"asc",firstNode:null,firstResolve:null,deviceid:"",rightDisplay:!1,rightClickStatus:!1,hideRightTime:null,hoverRightTime:null,treeShow:!0,curUserId:"",optionleft:-1e4,optiontop:-1e4,defaultExpand:[],clickNum:0,dbClickTimeObj:null,defaultProps:{label:"name",children:[],isLeaf:"leaf"},refreshFlag:!1,loading:!1}},computed:{loginId:function(){return this.$store.state.customerInfo.id},firstData:function(){return this.$store.state.tree.first},childData:function(){return this.$store.state.tree.child}},components:{treeRight:function(){return r.e(132).then(r.bind(null,"XeIX"))}},methods:{reloadTree:function(e){this.treetype!=e&&(this.refreshFlag=!0,this.treetype=e||"1",this.loadNode(this.firstNode,this.firstResolve))},reloadTreeParent:function(){if(this.orderKey=Object(o.c)("treeCustomerOrderBy")||"name",this.orderType=Object(o.c)("treeCustomerOrderType")||"asc",this.curUserId){this.refreshFlag=!0;var e=this.$refs.tree.getNode(this.curUserId);e.parent.loaded=!1,e.parent.expand()}},refresh:function(){if(this.curUserId){this.refreshFlag=!0;var e=this.$refs.tree.getNode(this.curUserId);this.getSelfData(e),e.loaded=!1,e.expand()}},refreshNode:function(e,t){this.refreshFlag=!0,this.getSelfData(t),t.loaded=!1,t.expand(),e.stopPropagation()},refreshSelf:function(){if(this.curUserId){var e=this.$refs.tree.getNode(this.curUserId);this.getSelfData(e)}},loadNode:function(e,t){0===e.level?(this.firstNode=e,this.firstResolve=t,this.firstNode.childNodes=[],this.getFirstData(t)):e.level>=1&&this.getChildData(e,t)},getSelfData:function(e){var t=this;Object(n._155)({customerid:e.data.id,treetype:this.treetype}).then(function(r){var s=r.record;e.data.name=("account"==t.orderKey?s.account:s.name)+"("+s.ownnum+"/"+s.totalnum+")",e.data.account=s.account,e.data.role=s.role,e.data.roletype=s.roletype,e.data.type=s.type,e.data.isread=s.isread,e.data._name=s._name}).catch(function(e){})},getFirstData:function(e){var t=this,r=1==this.treetype;this.firstData&&r?this.renderFirst(e,this.firstData):(this.loading=!0,this.$store.dispatch("getTreeFirst",{param:{customerid:this.loginId,treetype:this.treetype},save:r}).then(function(r){t.renderFirst(e,r.record),t.loading=!1,t.$emit("treeLoaded")}).catch(function(e){t.loading=!1}))},renderFirst:function(e,t){var r;e([(r={id:t.customerid,name:t.name+"("+t.ownnum+"/"+t.totalnum+")",_name:t.name,account:t.account,leaf:!t.hadchild,type:t.type,role:t.role,roletype:t.roletype},i()(r,"_name",t.name),i()(r,"isread",t.isread),r)]),t.hadchild&&!this.inArray(this.defaultExpand,t.customerid)&&this.defaultExpand.push(t.customerid);var s=this;setTimeout(function(){s.$refs.tree.setCurrentKey(t.customerid)},0)},getChildData:function(e,t){var r=this,s=1==e.level&&1==this.treetype;this.childData&&s&&!this.refreshFlag?this.renderChild(e,t,this.childData):this.$store.dispatch("getTreeChild",{param:{customerid:e.data.id,puretree:1,treetype:this.treetype},save:s}).then(function(s){if(r.refreshFlag=!1,!s.record)return t([]);r.renderChild(e,t,s.record)}).catch(function(e){r.refreshFlag=!1})},renderChild:function(e,t,r){for(var s=[],i=0,n=(r=this.treeSortor(r)).length;i<n;i++)s.push({id:r[i].id,name:("account"==this.orderKey?r[i].account:r[i].name)+"("+r[i].ownnum+"/"+r[i].totalnum+")",account:r[i].account,leaf:!r[i].hadchild,type:r[i].type,role:r[i].role,roletype:r[i].roletype,_name:r[i].name,isread:r[i].isread});t(s)},treeSortor:function(e){var t,r=this;switch(r.orderKey){case"name":case"account":return e.sort(function(e,s){return t=e[r.orderKey].localeCompare(s[r.orderKey]),"asc"==r.orderType?t:-t});case"id":case"ownnum":case"totalnum":return e.sort(function(e,s){return t=e[r.orderKey]-s[r.orderKey],"asc"==r.orderType?t:-t});default:return e}},renderContent:function(e,t){var r=this,s=t.node,i=t.data,n=(t.store,void 0),o="",a=i._name+"("+i.account+")";return"1"==i.role?n=e("div",{class:"custom-tree-node fl",directives:[{name:"tip",value:["<div style=\"padding-left:20px;background-image:url('/dealer/images/vip.png');background-repeat:no-repeat;background-position:-6px -2px;\">"+lg.superAdmin+"</div>","<div>"+a+"</div>"].join("\n")}]},[e("div",{class:"custom-tree-node-cont"},[e("i",{class:"tree-icon "+(i.leaf?"userIcon"+i.type:"userIconArr"+i.type)}),e("span",{class:"tree-node-word "+("1"==i.role?"red":"")},[i.name]),this.rightClickFlag?e("span",{class:"el-icon-more-v",on:{click:function(e){return r.clickShowMore(e,i)}}}):e("span",{class:"tree-refresh el-icon-refresh",on:{click:function(e){return r.refreshNode(e,s)}}})])]):(o=i.leaf?"userIcon"+i.type:"userIconArr"+i.type,1==i.isread&&(1==i.type&&(o="dealerIconReadonly"),2==i.type&&(o="userIconReadonly")),n=e("div",{class:"custom-tree-node fl",directives:[{name:"tip",value:a}]},[e("div",{class:"custom-tree-node-cont"},[e("i",{class:"tree-icon "+o}),e("span",{class:"tree-node-word"},[i.name]),this.rightClickFlag?e("span",{class:"el-icon-more-v",on:{click:function(e){return r.clickShowMore(e,i)},mouseover:function(e){return r.hoverShowMore(e,i)},mouseout:function(e){return r.hoverHideMore(e,i)}}}):e("span",{class:"tree-refresh el-icon-refresh",on:{click:function(e){return r.refreshNode(e,s)}}})])])),n},clickShowMore:function(e,t){this.rightClickStatus=!0,this.showRightClick(e,t),e.stopPropagation()},hoverShowMore:function(e,t){if(clearTimeout(this.hideRightTime),!this.rightClickStatus){var r=this;this.hoverRightTime=setTimeout(function(){r.showRightClick(e,t)},300),e.stopPropagation()}},hoverHideMore:function(){clearTimeout(this.hoverRightTime);var e=this;this.hideRightTime=setTimeout(function(){e.hideRightOption()},500)},hideRightOption:function(){this.rightDisplay=!1,document.body.onclick=null,this.rightClickStatus=!1},rightOptionHover:function(){clearTimeout(this.hideRightTime)},rightOptionHoverOut:function(){var e=this;this.hideRightTime=setTimeout(function(){e.hideRightOption()},500)},rightClick:function(e,t){this.rightClickStatus=!0,this.showRightClick(e,t)},showRightClick:function(e,t){if(this.rightClickFlag){this.rightDisplay=!0;var r=this;setTimeout(function(){var s=r.$refs.treeRightComp.$el.offsetHeight,i=document.documentElement.clientHeight;r.optiontop=e.clientY+s>i?e.clientY-s:e.clientY,r.optionleft=e.clientX+15,r.$refs.treeRightComp.setData(t)},0),this.curUserId=t.id,document.body.onclick=function(){r.hideRightOption()}}},handleCheckChange:function(e,t,r){var s=this.$refs.tree.getCheckedNodes(),i=this.$refs.tree.getCheckedKeys();this.$emit("checkChange",{obj:s,key:i})},setCheckedKeys:function(e){this.$refs.tree.setCheckedKeys(e)},nodeClick:function(e,t,r){for(var s=t,i=[e.id];s&&s.parent&&s.parent.data;)i.push(s.parent.data.id),s=s.parent;this.$emit("treeNodeClick",e,i),this.curUserId=e.id,this.rightDisplay=!1,this.dbClick(window.event,e,t,r)},dbClick:function(e,t,r,s){if(e){this.clickNum++,2==this.clickNum&&(this.rightClickStatus=!0,this.showRightClick(e,t,r,s));var i=this;clearTimeout(this.dbClickTimeObj),this.dbClickTimeObj=setTimeout(function(){i.clickNum=0},500)}},selectTreeNode:function(e,t){var r="string"==typeof e.customers?e.customers.split(",").reverse().map(Number):e.customers,s=r.pop();this.defaultExpand=r;var i=this;!function e(){var r=i.$refs.tree.getNode(s);if(r&&!i.loading){if(i.$refs.tree.setCurrentKey(r.key),i.nodeClick(r.data,r),t){var n=i.$refs.tree.getCheckedKeys()||[];n.push(r.key),i.$refs.tree.setCheckedKeys(n)}}else setTimeout(function(){e()},200)}()},getCurrentNode:function(){return this.$refs.tree.getCurrentNode()},nodeExpandFn:function(e,t){this.defaultExpand.push(e.id),this.$emit("expanded")},nodeCollapseFn:function(e){this.defaultExpand.splice(this.defaultExpand.indexOf(e.id),1),this.$emit("collapse")}},mounted:function(){this.curUserId=this.loginId},created:function(){this.treetype=this.treeType?this.treeType:"1",this.orderKey=Object(o.c)("treeCustomerOrderBy")||"name",this.orderType=Object(o.c)("treeCustomerOrderType")||"asc"}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tree-comp"},[r("el-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeShow,expression:"treeShow"}],ref:"tree",attrs:{lazy:"",load:e.loadNode,props:e.defaultProps,"node-key":"id","default-expanded-keys":e.defaultExpand,"empty-text":e.lg.noData,accordion:!0,"expand-on-click-node":!1,"highlight-current":!0,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,"check-strictly":!0,"check-on-click-node":!0},on:{"node-click":e.nodeClick,"node-contextmenu":e.rightClick,"check-change":e.handleCheckChange,"node-expand":e.nodeExpandFn,"node-collapse":e.nodeCollapseFn}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.rightDisplay,expression:"rightDisplay"}],staticClass:"tree-right-option",style:{left:e.optionleft+"px",top:e.optiontop+"px"}},[r("treeRight",{ref:"treeRightComp",on:{reloadTreeParent:e.reloadTreeParent,refresh:e.refresh,refreshSelf:e.refreshSelf,mouseEnterEv:e.rightOptionHover,mouseLeaveEv:e.rightOptionHoverOut}})],1)],1)},staticRenderFns:[]};var l=r("VU/8")(a,c,!1,function(e){r("UdMx")},null,null);t.default=l.exports}});